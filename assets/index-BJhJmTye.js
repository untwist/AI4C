(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))c(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const f of h.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&c(f)}).observe(document,{childList:!0,subtree:!0});function r(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function c(o){if(o.ep)return;o.ep=!0;const h=r(o);fetch(o.href,h)}})();var xd={exports:{}},Vi={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rp;function y0(){if(rp)return Vi;rp=1;var n=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function r(c,o,h){var f=null;if(h!==void 0&&(f=""+h),o.key!==void 0&&(f=""+o.key),"key"in o){h={};for(var p in o)p!=="key"&&(h[p]=o[p])}else h=o;return o=h.ref,{$$typeof:n,type:c,key:f,ref:o!==void 0?o:null,props:h}}return Vi.Fragment=i,Vi.jsx=r,Vi.jsxs=r,Vi}var cp;function j0(){return cp||(cp=1,xd.exports=y0()),xd.exports}var e=j0(),gd={exports:{}},Gi={},yd={exports:{}},jd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var op;function v0(){return op||(op=1,(function(n){function i(b,D){var Y=b.length;b.push(D);e:for(;0<Y;){var U=Y-1>>>1,N=b[U];if(0<o(N,D))b[U]=D,b[Y]=N,Y=U;else break e}}function r(b){return b.length===0?null:b[0]}function c(b){if(b.length===0)return null;var D=b[0],Y=b.pop();if(Y!==D){b[0]=Y;e:for(var U=0,N=b.length,T=N>>>1;U<T;){var C=2*(U+1)-1,I=b[C],P=C+1,X=b[P];if(0>o(I,Y))P<N&&0>o(X,I)?(b[U]=X,b[P]=Y,U=P):(b[U]=I,b[C]=Y,U=C);else if(P<N&&0>o(X,Y))b[U]=X,b[P]=Y,U=P;else break e}}return D}function o(b,D){var Y=b.sortIndex-D.sortIndex;return Y!==0?Y:b.id-D.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;n.unstable_now=function(){return h.now()}}else{var f=Date,p=f.now();n.unstable_now=function(){return f.now()-p}}var x=[],m=[],g=1,y=null,j=3,w=!1,B=!1,M=!1,R=!1,z=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function L(b){for(var D=r(m);D!==null;){if(D.callback===null)c(m);else if(D.startTime<=b)c(m),D.sortIndex=D.expirationTime,i(x,D);else break;D=r(m)}}function O(b){if(M=!1,L(b),!B)if(r(x)!==null)B=!0,V||(V=!0,K());else{var D=r(m);D!==null&&k(O,D.startTime-b)}}var V=!1,Q=-1,se=5,q=-1;function J(){return R?!0:!(n.unstable_now()-q<se)}function G(){if(R=!1,V){var b=n.unstable_now();q=b;var D=!0;try{e:{B=!1,M&&(M=!1,H(Q),Q=-1),w=!0;var Y=j;try{t:{for(L(b),y=r(x);y!==null&&!(y.expirationTime>b&&J());){var U=y.callback;if(typeof U=="function"){y.callback=null,j=y.priorityLevel;var N=U(y.expirationTime<=b);if(b=n.unstable_now(),typeof N=="function"){y.callback=N,L(b),D=!0;break t}y===r(x)&&c(x),L(b)}else c(x);y=r(x)}if(y!==null)D=!0;else{var T=r(m);T!==null&&k(O,T.startTime-b),D=!1}}break e}finally{y=null,j=Y,w=!1}D=void 0}}finally{D?K():V=!1}}}var K;if(typeof F=="function")K=function(){F(G)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,E=ae.port2;ae.port1.onmessage=G,K=function(){E.postMessage(null)}}else K=function(){z(G,0)};function k(b,D){Q=z(function(){b(n.unstable_now())},D)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(b){b.callback=null},n.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<b?Math.floor(1e3/b):5},n.unstable_getCurrentPriorityLevel=function(){return j},n.unstable_next=function(b){switch(j){case 1:case 2:case 3:var D=3;break;default:D=j}var Y=j;j=D;try{return b()}finally{j=Y}},n.unstable_requestPaint=function(){R=!0},n.unstable_runWithPriority=function(b,D){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var Y=j;j=b;try{return D()}finally{j=Y}},n.unstable_scheduleCallback=function(b,D,Y){var U=n.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?U+Y:U):Y=U,b){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=Y+N,b={id:g++,callback:D,priorityLevel:b,startTime:Y,expirationTime:N,sortIndex:-1},Y>U?(b.sortIndex=Y,i(m,b),r(x)===null&&b===r(m)&&(M?(H(Q),Q=-1):M=!0,k(O,Y-U))):(b.sortIndex=N,i(x,b),B||w||(B=!0,V||(V=!0,K()))),b},n.unstable_shouldYield=J,n.unstable_wrapCallback=function(b){var D=j;return function(){var Y=j;j=D;try{return b.apply(this,arguments)}finally{j=Y}}}})(jd)),jd}var dp;function b0(){return dp||(dp=1,yd.exports=v0()),yd.exports}var vd={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hp;function N0(){if(hp)return Oe;hp=1;var n=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function j(N){return N===null||typeof N!="object"?null:(N=y&&N[y]||N["@@iterator"],typeof N=="function"?N:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,M={};function R(N,T,C){this.props=N,this.context=T,this.refs=M,this.updater=C||w}R.prototype.isReactComponent={},R.prototype.setState=function(N,T){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,T,"setState")},R.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function z(){}z.prototype=R.prototype;function H(N,T,C){this.props=N,this.context=T,this.refs=M,this.updater=C||w}var F=H.prototype=new z;F.constructor=H,B(F,R.prototype),F.isPureReactComponent=!0;var L=Array.isArray,O={H:null,A:null,T:null,S:null,V:null},V=Object.prototype.hasOwnProperty;function Q(N,T,C,I,P,X){return C=X.ref,{$$typeof:n,type:N,key:T,ref:C!==void 0?C:null,props:X}}function se(N,T){return Q(N.type,T,void 0,void 0,void 0,N.props)}function q(N){return typeof N=="object"&&N!==null&&N.$$typeof===n}function J(N){var T={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(C){return T[C]})}var G=/\/+/g;function K(N,T){return typeof N=="object"&&N!==null&&N.key!=null?J(""+N.key):T.toString(36)}function ae(){}function E(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(ae,ae):(N.status="pending",N.then(function(T){N.status==="pending"&&(N.status="fulfilled",N.value=T)},function(T){N.status==="pending"&&(N.status="rejected",N.reason=T)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function k(N,T,C,I,P){var X=typeof N;(X==="undefined"||X==="boolean")&&(N=null);var A=!1;if(N===null)A=!0;else switch(X){case"bigint":case"string":case"number":A=!0;break;case"object":switch(N.$$typeof){case n:case i:A=!0;break;case g:return A=N._init,k(A(N._payload),T,C,I,P)}}if(A)return P=P(N),A=I===""?"."+K(N,0):I,L(P)?(C="",A!=null&&(C=A.replace(G,"$&/")+"/"),k(P,T,C,"",function(Z){return Z})):P!=null&&(q(P)&&(P=se(P,C+(P.key==null||N&&N.key===P.key?"":(""+P.key).replace(G,"$&/")+"/")+A)),T.push(P)),1;A=0;var te=I===""?".":I+":";if(L(N))for(var ee=0;ee<N.length;ee++)I=N[ee],X=te+K(I,ee),A+=k(I,T,C,X,P);else if(ee=j(N),typeof ee=="function")for(N=ee.call(N),ee=0;!(I=N.next()).done;)I=I.value,X=te+K(I,ee++),A+=k(I,T,C,X,P);else if(X==="object"){if(typeof N.then=="function")return k(E(N),T,C,I,P);throw T=String(N),Error("Objects are not valid as a React child (found: "+(T==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":T)+"). If you meant to render a collection of children, use an array instead.")}return A}function b(N,T,C){if(N==null)return N;var I=[],P=0;return k(N,I,"","",function(X){return T.call(C,X,P++)}),I}function D(N){if(N._status===-1){var T=N._result;T=T(),T.then(function(C){(N._status===0||N._status===-1)&&(N._status=1,N._result=C)},function(C){(N._status===0||N._status===-1)&&(N._status=2,N._result=C)}),N._status===-1&&(N._status=0,N._result=T)}if(N._status===1)return N._result.default;throw N._result}var Y=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var T=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(T))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function U(){}return Oe.Children={map:b,forEach:function(N,T,C){b(N,function(){T.apply(this,arguments)},C)},count:function(N){var T=0;return b(N,function(){T++}),T},toArray:function(N){return b(N,function(T){return T})||[]},only:function(N){if(!q(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Oe.Component=R,Oe.Fragment=r,Oe.Profiler=o,Oe.PureComponent=H,Oe.StrictMode=c,Oe.Suspense=x,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(N){return O.H.useMemoCache(N)}},Oe.cache=function(N){return function(){return N.apply(null,arguments)}},Oe.cloneElement=function(N,T,C){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var I=B({},N.props),P=N.key,X=void 0;if(T!=null)for(A in T.ref!==void 0&&(X=void 0),T.key!==void 0&&(P=""+T.key),T)!V.call(T,A)||A==="key"||A==="__self"||A==="__source"||A==="ref"&&T.ref===void 0||(I[A]=T[A]);var A=arguments.length-2;if(A===1)I.children=C;else if(1<A){for(var te=Array(A),ee=0;ee<A;ee++)te[ee]=arguments[ee+2];I.children=te}return Q(N.type,P,void 0,void 0,X,I)},Oe.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:h,_context:N},N},Oe.createElement=function(N,T,C){var I,P={},X=null;if(T!=null)for(I in T.key!==void 0&&(X=""+T.key),T)V.call(T,I)&&I!=="key"&&I!=="__self"&&I!=="__source"&&(P[I]=T[I]);var A=arguments.length-2;if(A===1)P.children=C;else if(1<A){for(var te=Array(A),ee=0;ee<A;ee++)te[ee]=arguments[ee+2];P.children=te}if(N&&N.defaultProps)for(I in A=N.defaultProps,A)P[I]===void 0&&(P[I]=A[I]);return Q(N,X,void 0,void 0,null,P)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(N){return{$$typeof:p,render:N}},Oe.isValidElement=q,Oe.lazy=function(N){return{$$typeof:g,_payload:{_status:-1,_result:N},_init:D}},Oe.memo=function(N,T){return{$$typeof:m,type:N,compare:T===void 0?null:T}},Oe.startTransition=function(N){var T=O.T,C={};O.T=C;try{var I=N(),P=O.S;P!==null&&P(C,I),typeof I=="object"&&I!==null&&typeof I.then=="function"&&I.then(U,Y)}catch(X){Y(X)}finally{O.T=T}},Oe.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},Oe.use=function(N){return O.H.use(N)},Oe.useActionState=function(N,T,C){return O.H.useActionState(N,T,C)},Oe.useCallback=function(N,T){return O.H.useCallback(N,T)},Oe.useContext=function(N){return O.H.useContext(N)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(N,T){return O.H.useDeferredValue(N,T)},Oe.useEffect=function(N,T,C){var I=O.H;if(typeof C=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return I.useEffect(N,T)},Oe.useId=function(){return O.H.useId()},Oe.useImperativeHandle=function(N,T,C){return O.H.useImperativeHandle(N,T,C)},Oe.useInsertionEffect=function(N,T){return O.H.useInsertionEffect(N,T)},Oe.useLayoutEffect=function(N,T){return O.H.useLayoutEffect(N,T)},Oe.useMemo=function(N,T){return O.H.useMemo(N,T)},Oe.useOptimistic=function(N,T){return O.H.useOptimistic(N,T)},Oe.useReducer=function(N,T,C){return O.H.useReducer(N,T,C)},Oe.useRef=function(N){return O.H.useRef(N)},Oe.useState=function(N){return O.H.useState(N)},Oe.useSyncExternalStore=function(N,T,C){return O.H.useSyncExternalStore(N,T,C)},Oe.useTransition=function(){return O.H.useTransition()},Oe.version="19.1.1",Oe}var up;function sh(){return up||(up=1,vd.exports=N0()),vd.exports}var bd={exports:{}},Et={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fp;function w0(){if(fp)return Et;fp=1;var n=sh();function i(x){var m="https://react.dev/errors/"+x;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+x+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var c={d:{f:r,r:function(){throw Error(i(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(x,m,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:y==null?null:""+y,children:x,containerInfo:m,implementation:g}}var f=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(x,m){if(x==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Et.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=c,Et.createPortal=function(x,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(i(299));return h(x,m,null,g)},Et.flushSync=function(x){var m=f.T,g=c.p;try{if(f.T=null,c.p=2,x)return x()}finally{f.T=m,c.p=g,c.d.f()}},Et.preconnect=function(x,m){typeof x=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,c.d.C(x,m))},Et.prefetchDNS=function(x){typeof x=="string"&&c.d.D(x)},Et.preinit=function(x,m){if(typeof x=="string"&&m&&typeof m.as=="string"){var g=m.as,y=p(g,m.crossOrigin),j=typeof m.integrity=="string"?m.integrity:void 0,w=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?c.d.S(x,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:j,fetchPriority:w}):g==="script"&&c.d.X(x,{crossOrigin:y,integrity:j,fetchPriority:w,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Et.preinitModule=function(x,m){if(typeof x=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=p(m.as,m.crossOrigin);c.d.M(x,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&c.d.M(x)},Et.preload=function(x,m){if(typeof x=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,y=p(g,m.crossOrigin);c.d.L(x,g,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Et.preloadModule=function(x,m){if(typeof x=="string")if(m){var g=p(m.as,m.crossOrigin);c.d.m(x,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else c.d.m(x)},Et.requestFormReset=function(x){c.d.r(x)},Et.unstable_batchedUpdates=function(x,m){return x(m)},Et.useFormState=function(x,m,g){return f.H.useFormState(x,m,g)},Et.useFormStatus=function(){return f.H.useHostTransitionStatus()},Et.version="19.1.1",Et}var mp;function S0(){if(mp)return bd.exports;mp=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(i){console.error(i)}}return n(),bd.exports=w0(),bd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pp;function _0(){if(pp)return Gi;pp=1;var n=b0(),i=sh(),r=S0();function c(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function f(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function p(t){if(h(t)!==t)throw Error(c(188))}function x(t){var s=t.alternate;if(!s){if(s=h(t),s===null)throw Error(c(188));return s!==t?null:t}for(var a=t,l=s;;){var d=a.return;if(d===null)break;var u=d.alternate;if(u===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===u.child){for(u=d.child;u;){if(u===a)return p(d),t;if(u===l)return p(d),s;u=u.sibling}throw Error(c(188))}if(a.return!==l.return)a=d,l=u;else{for(var v=!1,S=d.child;S;){if(S===a){v=!0,a=d,l=u;break}if(S===l){v=!0,l=d,a=u;break}S=S.sibling}if(!v){for(S=u.child;S;){if(S===a){v=!0,a=u,l=d;break}if(S===l){v=!0,l=u,a=d;break}S=S.sibling}if(!v)throw Error(c(189))}}if(a.alternate!==l)throw Error(c(190))}if(a.tag!==3)throw Error(c(188));return a.stateNode.current===a?t:s}function m(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=m(t),s!==null)return s;t=t.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),H=Symbol.for("react.consumer"),F=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),J=Symbol.for("react.memo_cache_sentinel"),G=Symbol.iterator;function K(t){return t===null||typeof t!="object"?null:(t=G&&t[G]||t["@@iterator"],typeof t=="function"?t:null)}var ae=Symbol.for("react.client.reference");function E(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ae?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case B:return"Fragment";case R:return"Profiler";case M:return"StrictMode";case O:return"Suspense";case V:return"SuspenseList";case q:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case w:return"Portal";case F:return(t.displayName||"Context")+".Provider";case H:return(t._context.displayName||"Context")+".Consumer";case L:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Q:return s=t.displayName||null,s!==null?s:E(t.type)||"Memo";case se:s=t._payload,t=t._init;try{return E(t(s))}catch{}}return null}var k=Array.isArray,b=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y={pending:!1,data:null,method:null,action:null},U=[],N=-1;function T(t){return{current:t}}function C(t){0>N||(t.current=U[N],U[N]=null,N--)}function I(t,s){N++,U[N]=t.current,t.current=s}var P=T(null),X=T(null),A=T(null),te=T(null);function ee(t,s){switch(I(A,s),I(X,t),I(P,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?Lm(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=Lm(s),t=Om(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}C(P),I(P,t)}function Z(){C(P),C(X),C(A)}function de(t){t.memoizedState!==null&&I(te,t);var s=P.current,a=Om(s,t.type);s!==a&&(I(X,t),I(P,a))}function pe(t){X.current===t&&(C(P),C(X)),te.current===t&&(C(te),Hi._currentValue=Y)}var ge=Object.prototype.hasOwnProperty,xe=n.unstable_scheduleCallback,ve=n.unstable_cancelCallback,Me=n.unstable_shouldYield,Ce=n.unstable_requestPaint,Re=n.unstable_now,Xe=n.unstable_getCurrentPriorityLevel,fe=n.unstable_ImmediatePriority,ye=n.unstable_UserBlockingPriority,Se=n.unstable_NormalPriority,je=n.unstable_LowPriority,_e=n.unstable_IdlePriority,we=n.log,ze=n.unstable_setDisableYieldValue,me=null,be=null;function Le(t){if(typeof we=="function"&&ze(t),be&&typeof be.setStrictMode=="function")try{be.setStrictMode(me,t)}catch{}}var Ve=Math.clz32?Math.clz32:Dt,it=Math.log,Ot=Math.LN2;function Dt(t){return t>>>=0,t===0?32:31-(it(t)/Ot|0)|0}var Be=256,nt=4194304;function gt(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function _s(t,s,a){var l=t.pendingLanes;if(l===0)return 0;var d=0,u=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~u,l!==0?d=gt(l):(v&=S,v!==0?d=gt(v):a||(a=S&~t,a!==0&&(d=gt(a))))):(S=l&~u,S!==0?d=gt(S):v!==0?d=gt(v):a||(a=l&~t,a!==0&&(d=gt(a)))),d===0?0:s!==0&&s!==d&&(s&u)===0&&(u=d&-d,a=s&-s,u>=a||u===32&&(a&4194048)!==0)?s:d}function Cs(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function bn(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xa(){var t=Be;return Be<<=1,(Be&4194048)===0&&(Be=256),t}function Fa(){var t=nt;return nt<<=1,(nt&62914560)===0&&(nt=4194304),t}function Xn(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function Zt(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ws(t,s,a,l,d,u){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,$=t.expirationTimes,le=t.hiddenUpdates;for(a=v&~a;0<a;){var oe=31-Ve(a),ue=1<<oe;S[oe]=0,$[oe]=-1;var re=le[oe];if(re!==null)for(le[oe]=null,oe=0;oe<re.length;oe++){var ce=re[oe];ce!==null&&(ce.lane&=-536870913)}a&=~ue}l!==0&&ul(t,l,0),u!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=u&~(v&~s))}function ul(t,s,a){t.pendingLanes|=s,t.suspendedLanes&=~s;var l=31-Ve(s);t.entangledLanes|=s,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function fl(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var l=31-Ve(a),d=1<<l;d&s|t[l]&s&&(t[l]|=s),a&=~d}}function Ka(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Fn(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ge(){var t=D.p;return t!==0?t:(t=window.event,t===void 0?32:tp(t.type))}function Vt(t,s){var a=D.p;try{return D.p=t,s()}finally{D.p=a}}var bt=Math.random().toString(36).slice(2),mt="__reactFiber$"+bt,kt="__reactProps$"+bt,Kn="__reactContainer$"+bt,rc="__reactEvents$"+bt,cg="__reactListeners$"+bt,og="__reactHandles$"+bt,Nh="__reactResources$"+bt,Pa="__reactMarker$"+bt;function cc(t){delete t[mt],delete t[kt],delete t[rc],delete t[cg],delete t[og]}function Pn(t){var s=t[mt];if(s)return s;for(var a=t.parentNode;a;){if(s=a[Kn]||a[mt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=qm(t);t!==null;){if(a=t[mt])return a;t=qm(t)}return s}t=a,a=t.parentNode}return null}function Qn(t){if(t=t[mt]||t[Kn]){var s=t.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return t}return null}function Qa(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(c(33))}function Wn(t){var s=t[Nh];return s||(s=t[Nh]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Nt(t){t[Pa]=!0}var wh=new Set,Sh={};function Nn(t,s){Zn(t,s),Zn(t+"Capture",s)}function Zn(t,s){for(Sh[t]=s,t=0;t<s.length;t++)wh.add(s[t])}var dg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_h={},Ch={};function hg(t){return ge.call(Ch,t)?!0:ge.call(_h,t)?!1:dg.test(t)?Ch[t]=!0:(_h[t]=!0,!1)}function ml(t,s,a){if(hg(s))if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+a)}}function pl(t,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+a)}}function Ms(t,s,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(s,a,""+l)}}var oc,Mh;function In(t){if(oc===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);oc=s&&s[1]||"",Mh=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+oc+t+Mh}var dc=!1;function hc(t,s){if(!t||dc)return"";dc=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ce){var re=ce}Reflect.construct(t,[],ue)}else{try{ue.call()}catch(ce){re=ce}t.call(ue.prototype)}}else{try{throw Error()}catch(ce){re=ce}(ue=t())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ce){if(ce&&re&&typeof ce.stack=="string")return[ce.stack,re.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=l.DetermineComponentFrameRoot(),v=u[0],S=u[1];if(v&&S){var $=v.split(`
`),le=S.split(`
`);for(d=l=0;l<$.length&&!$[l].includes("DetermineComponentFrameRoot");)l++;for(;d<le.length&&!le[d].includes("DetermineComponentFrameRoot");)d++;if(l===$.length||d===le.length)for(l=$.length-1,d=le.length-1;1<=l&&0<=d&&$[l]!==le[d];)d--;for(;1<=l&&0<=d;l--,d--)if($[l]!==le[d]){if(l!==1||d!==1)do if(l--,d--,0>d||$[l]!==le[d]){var oe=`
`+$[l].replace(" at new "," at ");return t.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",t.displayName)),oe}while(1<=l&&0<=d);break}}}finally{dc=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?In(a):""}function ug(t){switch(t.tag){case 26:case 27:case 5:return In(t.type);case 16:return In("Lazy");case 13:return In("Suspense");case 19:return In("SuspenseList");case 0:case 15:return hc(t.type,!1);case 11:return hc(t.type.render,!1);case 1:return hc(t.type,!0);case 31:return In("Activity");default:return""}}function Th(t){try{var s="";do s+=ug(t),t=t.return;while(t);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function It(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function kh(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function fg(t){var s=kh(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),l=""+t[s];if(!t.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,u=a.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return d.call(this)},set:function(v){l=""+v,u.call(this,v)}}),Object.defineProperty(t,s,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function xl(t){t._valueTracker||(t._valueTracker=fg(t))}function Ah(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return t&&(l=kh(t)?t.checked?"true":"false":t.value),t=l,t!==a?(s.setValue(t),!0):!1}function gl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var mg=/[\n"\\]/g;function Jt(t){return t.replace(mg,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function uc(t,s,a,l,d,u,v,S){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),s!=null?v==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+It(s)):t.value!==""+It(s)&&(t.value=""+It(s)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),s!=null?fc(t,v,It(s)):a!=null?fc(t,v,It(a)):l!=null&&t.removeAttribute("value"),d==null&&u!=null&&(t.defaultChecked=!!u),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+It(S):t.removeAttribute("name")}function Eh(t,s,a,l,d,u,v,S){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(t.type=u),s!=null||a!=null){if(!(u!=="submit"&&u!=="reset"||s!=null))return;a=a!=null?""+It(a):"",s=s!=null?""+It(s):a,S||s===t.value||(t.value=s),t.defaultValue=s}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function fc(t,s,a){s==="number"&&gl(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Jn(t,s,a,l){if(t=t.options,s){s={};for(var d=0;d<a.length;d++)s["$"+a[d]]=!0;for(a=0;a<t.length;a++)d=s.hasOwnProperty("$"+t[a].value),t[a].selected!==d&&(t[a].selected=d),d&&l&&(t[a].defaultSelected=!0)}else{for(a=""+It(a),s=null,d=0;d<t.length;d++){if(t[d].value===a){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}s!==null||t[d].disabled||(s=t[d])}s!==null&&(s.selected=!0)}}function zh(t,s,a){if(s!=null&&(s=""+It(s),s!==t.value&&(t.value=s),a==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=a!=null?""+It(a):""}function Dh(t,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(c(92));if(k(l)){if(1<l.length)throw Error(c(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=It(s),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function ea(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var pg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Rh(t,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":l?t.setProperty(s,a):typeof a!="number"||a===0||pg.has(s)?s==="float"?t.cssFloat=a:t[s]=(""+a).trim():t[s]=a+"px"}function Lh(t,s,a){if(s!=null&&typeof s!="object")throw Error(c(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var d in s)l=s[d],s.hasOwnProperty(d)&&a[d]!==l&&Rh(t,d,l)}else for(var u in s)s.hasOwnProperty(u)&&Rh(t,u,s[u])}function mc(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yl(t){return gg.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var pc=null;function xc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ta=null,sa=null;function Oh(t){var s=Qn(t);if(s&&(t=s.stateNode)){var a=t[kt]||null;e:switch(t=s.stateNode,s.type){case"input":if(uc(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Jt(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==t&&l.form===t.form){var d=l[kt]||null;if(!d)throw Error(c(90));uc(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===t.form&&Ah(l)}break e;case"textarea":zh(t,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&Jn(t,!!a.multiple,s,!1)}}}var gc=!1;function Hh(t,s,a){if(gc)return t(s,a);gc=!0;try{var l=t(s);return l}finally{if(gc=!1,(ta!==null||sa!==null)&&(nr(),ta&&(s=ta,t=sa,sa=ta=null,Oh(s),t)))for(s=0;s<t.length;s++)Oh(t[s])}}function Wa(t,s){var a=t.stateNode;if(a===null)return null;var l=a[kt]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(c(231,s,typeof a));return a}var Ts=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yc=!1;if(Ts)try{var Za={};Object.defineProperty(Za,"passive",{get:function(){yc=!0}}),window.addEventListener("test",Za,Za),window.removeEventListener("test",Za,Za)}catch{yc=!1}var Zs=null,jc=null,jl=null;function Bh(){if(jl)return jl;var t,s=jc,a=s.length,l,d="value"in Zs?Zs.value:Zs.textContent,u=d.length;for(t=0;t<a&&s[t]===d[t];t++);var v=a-t;for(l=1;l<=v&&s[a-l]===d[u-l];l++);return jl=d.slice(t,1<l?1-l:void 0)}function vl(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function bl(){return!0}function Uh(){return!1}function Ht(t){function s(a,l,d,u,v){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=u,this.target=v,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(u):u[S]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?bl:Uh,this.isPropagationStopped=Uh,this}return g(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=bl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=bl)},persist:function(){},isPersistent:bl}),s}var wn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nl=Ht(wn),Ia=g({},wn,{view:0,detail:0}),yg=Ht(Ia),vc,bc,Ja,wl=g({},Ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ja&&(Ja&&t.type==="mousemove"?(vc=t.screenX-Ja.screenX,bc=t.screenY-Ja.screenY):bc=vc=0,Ja=t),vc)},movementY:function(t){return"movementY"in t?t.movementY:bc}}),qh=Ht(wl),jg=g({},wl,{dataTransfer:0}),vg=Ht(jg),bg=g({},Ia,{relatedTarget:0}),Nc=Ht(bg),Ng=g({},wn,{animationName:0,elapsedTime:0,pseudoElement:0}),wg=Ht(Ng),Sg=g({},wn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_g=Ht(Sg),Cg=g({},wn,{data:0}),Yh=Ht(Cg),Mg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ag(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=kg[t])?!!s[t]:!1}function wc(){return Ag}var Eg=g({},Ia,{key:function(t){if(t.key){var s=Mg[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=vl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Tg[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wc,charCode:function(t){return t.type==="keypress"?vl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zg=Ht(Eg),Dg=g({},wl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vh=Ht(Dg),Rg=g({},Ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wc}),Lg=Ht(Rg),Og=g({},wn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hg=Ht(Og),Bg=g({},wl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ug=Ht(Bg),qg=g({},wn,{newState:0,oldState:0}),Yg=Ht(qg),Vg=[9,13,27,32],Sc=Ts&&"CompositionEvent"in window,ei=null;Ts&&"documentMode"in document&&(ei=document.documentMode);var Gg=Ts&&"TextEvent"in window&&!ei,Gh=Ts&&(!Sc||ei&&8<ei&&11>=ei),$h=" ",Xh=!1;function Fh(t,s){switch(t){case"keyup":return Vg.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var na=!1;function $g(t,s){switch(t){case"compositionend":return Kh(s);case"keypress":return s.which!==32?null:(Xh=!0,$h);case"textInput":return t=s.data,t===$h&&Xh?null:t;default:return null}}function Xg(t,s){if(na)return t==="compositionend"||!Sc&&Fh(t,s)?(t=Bh(),jl=jc=Zs=null,na=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Gh&&s.locale!=="ko"?null:s.data;default:return null}}var Fg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ph(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!Fg[t.type]:s==="textarea"}function Qh(t,s,a,l){ta?sa?sa.push(l):sa=[l]:ta=l,s=or(s,"onChange"),0<s.length&&(a=new Nl("onChange","change",null,a,l),t.push({event:a,listeners:s}))}var ti=null,si=null;function Kg(t){Am(t,0)}function Sl(t){var s=Qa(t);if(Ah(s))return t}function Wh(t,s){if(t==="change")return s}var Zh=!1;if(Ts){var _c;if(Ts){var Cc="oninput"in document;if(!Cc){var Ih=document.createElement("div");Ih.setAttribute("oninput","return;"),Cc=typeof Ih.oninput=="function"}_c=Cc}else _c=!1;Zh=_c&&(!document.documentMode||9<document.documentMode)}function Jh(){ti&&(ti.detachEvent("onpropertychange",eu),si=ti=null)}function eu(t){if(t.propertyName==="value"&&Sl(si)){var s=[];Qh(s,si,t,xc(t)),Hh(Kg,s)}}function Pg(t,s,a){t==="focusin"?(Jh(),ti=s,si=a,ti.attachEvent("onpropertychange",eu)):t==="focusout"&&Jh()}function Qg(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Sl(si)}function Wg(t,s){if(t==="click")return Sl(s)}function Zg(t,s){if(t==="input"||t==="change")return Sl(s)}function Ig(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Gt=typeof Object.is=="function"?Object.is:Ig;function ni(t,s){if(Gt(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!ge.call(s,d)||!Gt(t[d],s[d]))return!1}return!0}function tu(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function su(t,s){var a=tu(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=s&&l>=s)return{node:a,offset:s-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=tu(a)}}function nu(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?nu(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function au(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=gl(t.document);s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=gl(t.document)}return s}function Mc(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var Jg=Ts&&"documentMode"in document&&11>=document.documentMode,aa=null,Tc=null,ai=null,kc=!1;function iu(t,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;kc||aa==null||aa!==gl(l)||(l=aa,"selectionStart"in l&&Mc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ai&&ni(ai,l)||(ai=l,l=or(Tc,"onSelect"),0<l.length&&(s=new Nl("onSelect","select",null,s,a),t.push({event:s,listeners:l}),s.target=aa)))}function Sn(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var ia={animationend:Sn("Animation","AnimationEnd"),animationiteration:Sn("Animation","AnimationIteration"),animationstart:Sn("Animation","AnimationStart"),transitionrun:Sn("Transition","TransitionRun"),transitionstart:Sn("Transition","TransitionStart"),transitioncancel:Sn("Transition","TransitionCancel"),transitionend:Sn("Transition","TransitionEnd")},Ac={},lu={};Ts&&(lu=document.createElement("div").style,"AnimationEvent"in window||(delete ia.animationend.animation,delete ia.animationiteration.animation,delete ia.animationstart.animation),"TransitionEvent"in window||delete ia.transitionend.transition);function _n(t){if(Ac[t])return Ac[t];if(!ia[t])return t;var s=ia[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in lu)return Ac[t]=s[a];return t}var ru=_n("animationend"),cu=_n("animationiteration"),ou=_n("animationstart"),ey=_n("transitionrun"),ty=_n("transitionstart"),sy=_n("transitioncancel"),du=_n("transitionend"),hu=new Map,Ec="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ec.push("scrollEnd");function cs(t,s){hu.set(t,s),Nn(s,[t])}var uu=new WeakMap;function es(t,s){if(typeof t=="object"&&t!==null){var a=uu.get(t);return a!==void 0?a:(s={value:t,source:s,stack:Th(s)},uu.set(t,s),s)}return{value:t,source:s,stack:Th(s)}}var ts=[],la=0,zc=0;function _l(){for(var t=la,s=zc=la=0;s<t;){var a=ts[s];ts[s++]=null;var l=ts[s];ts[s++]=null;var d=ts[s];ts[s++]=null;var u=ts[s];if(ts[s++]=null,l!==null&&d!==null){var v=l.pending;v===null?d.next=d:(d.next=v.next,v.next=d),l.pending=d}u!==0&&fu(a,d,u)}}function Cl(t,s,a,l){ts[la++]=t,ts[la++]=s,ts[la++]=a,ts[la++]=l,zc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Dc(t,s,a,l){return Cl(t,s,a,l),Ml(t)}function ra(t,s){return Cl(t,null,null,s),Ml(t)}function fu(t,s,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var d=!1,u=t.return;u!==null;)u.childLanes|=a,l=u.alternate,l!==null&&(l.childLanes|=a),u.tag===22&&(t=u.stateNode,t===null||t._visibility&1||(d=!0)),t=u,u=u.return;return t.tag===3?(u=t.stateNode,d&&s!==null&&(d=31-Ve(a),t=u.hiddenUpdates,l=t[d],l===null?t[d]=[s]:l.push(s),s.lane=a|536870912),u):null}function Ml(t){if(50<ki)throw ki=0,qo=null,Error(c(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var ca={};function ny(t,s,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $t(t,s,a,l){return new ny(t,s,a,l)}function Rc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ks(t,s){var a=t.alternate;return a===null?(a=$t(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function mu(t,s){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,s=a.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function Tl(t,s,a,l,d,u){var v=0;if(l=t,typeof t=="function")Rc(t)&&(v=1);else if(typeof t=="string")v=i0(t,a,P.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case q:return t=$t(31,a,s,d),t.elementType=q,t.lanes=u,t;case B:return Cn(a.children,d,u,s);case M:v=8,d|=24;break;case R:return t=$t(12,a,s,d|2),t.elementType=R,t.lanes=u,t;case O:return t=$t(13,a,s,d),t.elementType=O,t.lanes=u,t;case V:return t=$t(19,a,s,d),t.elementType=V,t.lanes=u,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case z:case F:v=10;break e;case H:v=9;break e;case L:v=11;break e;case Q:v=14;break e;case se:v=16,l=null;break e}v=29,a=Error(c(130,t===null?"null":typeof t,"")),l=null}return s=$t(v,a,s,d),s.elementType=t,s.type=l,s.lanes=u,s}function Cn(t,s,a,l){return t=$t(7,t,l,s),t.lanes=a,t}function Lc(t,s,a){return t=$t(6,t,null,s),t.lanes=a,t}function Oc(t,s,a){return s=$t(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var oa=[],da=0,kl=null,Al=0,ss=[],ns=0,Mn=null,As=1,Es="";function Tn(t,s){oa[da++]=Al,oa[da++]=kl,kl=t,Al=s}function pu(t,s,a){ss[ns++]=As,ss[ns++]=Es,ss[ns++]=Mn,Mn=t;var l=As;t=Es;var d=32-Ve(l)-1;l&=~(1<<d),a+=1;var u=32-Ve(s)+d;if(30<u){var v=d-d%5;u=(l&(1<<v)-1).toString(32),l>>=v,d-=v,As=1<<32-Ve(s)+d|a<<d|l,Es=u+t}else As=1<<u|a<<d|l,Es=t}function Hc(t){t.return!==null&&(Tn(t,1),pu(t,1,0))}function Bc(t){for(;t===kl;)kl=oa[--da],oa[da]=null,Al=oa[--da],oa[da]=null;for(;t===Mn;)Mn=ss[--ns],ss[ns]=null,Es=ss[--ns],ss[ns]=null,As=ss[--ns],ss[ns]=null}var Rt=null,dt=null,Pe=!1,kn=null,ms=!1,Uc=Error(c(519));function An(t){var s=Error(c(418,""));throw ri(es(s,t)),Uc}function xu(t){var s=t.stateNode,a=t.type,l=t.memoizedProps;switch(s[mt]=t,s[kt]=l,a){case"dialog":Ye("cancel",s),Ye("close",s);break;case"iframe":case"object":case"embed":Ye("load",s);break;case"video":case"audio":for(a=0;a<Ei.length;a++)Ye(Ei[a],s);break;case"source":Ye("error",s);break;case"img":case"image":case"link":Ye("error",s),Ye("load",s);break;case"details":Ye("toggle",s);break;case"input":Ye("invalid",s),Eh(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),xl(s);break;case"select":Ye("invalid",s);break;case"textarea":Ye("invalid",s),Dh(s,l.value,l.defaultValue,l.children),xl(s)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||Rm(s.textContent,a)?(l.popover!=null&&(Ye("beforetoggle",s),Ye("toggle",s)),l.onScroll!=null&&Ye("scroll",s),l.onScrollEnd!=null&&Ye("scrollend",s),l.onClick!=null&&(s.onclick=dr),s=!0):s=!1,s||An(t)}function gu(t){for(Rt=t.return;Rt;)switch(Rt.tag){case 5:case 13:ms=!1;return;case 27:case 3:ms=!0;return;default:Rt=Rt.return}}function ii(t){if(t!==Rt)return!1;if(!Pe)return gu(t),Pe=!0,!1;var s=t.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||sd(t.type,t.memoizedProps)),a=!a),a&&dt&&An(t),gu(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(c(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(s===0){dt=ds(t.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++;t=t.nextSibling}dt=null}}else s===27?(s=dt,mn(t.type)?(t=ld,ld=null,dt=t):dt=s):dt=Rt?ds(t.stateNode.nextSibling):null;return!0}function li(){dt=Rt=null,Pe=!1}function yu(){var t=kn;return t!==null&&(qt===null?qt=t:qt.push.apply(qt,t),kn=null),t}function ri(t){kn===null?kn=[t]:kn.push(t)}var qc=T(null),En=null,zs=null;function Is(t,s,a){I(qc,s._currentValue),s._currentValue=a}function Ds(t){t._currentValue=qc.current,C(qc)}function Yc(t,s,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),t===a)break;t=t.return}}function Vc(t,s,a,l){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var u=d.dependencies;if(u!==null){var v=d.child;u=u.firstContext;e:for(;u!==null;){var S=u;u=d;for(var $=0;$<s.length;$++)if(S.context===s[$]){u.lanes|=a,S=u.alternate,S!==null&&(S.lanes|=a),Yc(u.return,a,t),l||(v=null);break e}u=S.next}}else if(d.tag===18){if(v=d.return,v===null)throw Error(c(341));v.lanes|=a,u=v.alternate,u!==null&&(u.lanes|=a),Yc(v,a,t),v=null}else v=d.child;if(v!==null)v.return=d;else for(v=d;v!==null;){if(v===t){v=null;break}if(d=v.sibling,d!==null){d.return=v.return,v=d;break}v=v.return}d=v}}function ci(t,s,a,l){t=null;for(var d=s,u=!1;d!==null;){if(!u){if((d.flags&524288)!==0)u=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var v=d.alternate;if(v===null)throw Error(c(387));if(v=v.memoizedProps,v!==null){var S=d.type;Gt(d.pendingProps.value,v.value)||(t!==null?t.push(S):t=[S])}}else if(d===te.current){if(v=d.alternate,v===null)throw Error(c(387));v.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Hi):t=[Hi])}d=d.return}t!==null&&Vc(s,t,a,l),s.flags|=262144}function El(t){for(t=t.firstContext;t!==null;){if(!Gt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function zn(t){En=t,zs=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function At(t){return ju(En,t)}function zl(t,s){return En===null&&zn(t),ju(t,s)}function ju(t,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},zs===null){if(t===null)throw Error(c(308));zs=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else zs=zs.next=s;return a}var ay=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){s.aborted=!0,t.forEach(function(a){return a()})}},iy=n.unstable_scheduleCallback,ly=n.unstable_NormalPriority,yt={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gc(){return{controller:new ay,data:new Map,refCount:0}}function oi(t){t.refCount--,t.refCount===0&&iy(ly,function(){t.controller.abort()})}var di=null,$c=0,ha=0,ua=null;function ry(t,s){if(di===null){var a=di=[];$c=0,ha=Ko(),ua={status:"pending",value:void 0,then:function(l){a.push(l)}}}return $c++,s.then(vu,vu),s}function vu(){if(--$c===0&&di!==null){ua!==null&&(ua.status="fulfilled");var t=di;di=null,ha=0,ua=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function cy(t,s){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return t.then(function(){l.status="fulfilled",l.value=s;for(var d=0;d<a.length;d++)(0,a[d])(s)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var bu=b.S;b.S=function(t,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&ry(t,s),bu!==null&&bu(t,s)};var Dn=T(null);function Xc(){var t=Dn.current;return t!==null?t:tt.pooledCache}function Dl(t,s){s===null?I(Dn,Dn.current):I(Dn,s.pool)}function Nu(){var t=Xc();return t===null?null:{parent:yt._currentValue,pool:t}}var hi=Error(c(460)),wu=Error(c(474)),Rl=Error(c(542)),Fc={then:function(){}};function Su(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ll(){}function _u(t,s,a){switch(a=t[a],a===void 0?t.push(s):a!==s&&(s.then(Ll,Ll),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Mu(t),t;default:if(typeof s.status=="string")s.then(Ll,Ll);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(c(482));t=s,t.status="pending",t.then(function(l){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=l}},function(l){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Mu(t),t}throw ui=s,hi}}var ui=null;function Cu(){if(ui===null)throw Error(c(459));var t=ui;return ui=null,t}function Mu(t){if(t===hi||t===Rl)throw Error(c(483))}var Js=!1;function Kc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pc(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function en(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function tn(t,s,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Qe&2)!==0){var d=l.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),l.pending=s,s=Ml(t),fu(t,null,a),s}return Cl(t,l,s,a),Ml(t)}function fi(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=t.pendingLanes,a|=l,s.lanes=a,fl(t,a)}}function Qc(t,s){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,u=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};u===null?d=u=v:u=u.next=v,a=a.next}while(a!==null);u===null?d=u=s:u=u.next=s}else d=u=s;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:u,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}var Wc=!1;function mi(){if(Wc){var t=ua;if(t!==null)throw t}}function pi(t,s,a,l){Wc=!1;var d=t.updateQueue;Js=!1;var u=d.firstBaseUpdate,v=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var $=S,le=$.next;$.next=null,v===null?u=le:v.next=le,v=$;var oe=t.alternate;oe!==null&&(oe=oe.updateQueue,S=oe.lastBaseUpdate,S!==v&&(S===null?oe.firstBaseUpdate=le:S.next=le,oe.lastBaseUpdate=$))}if(u!==null){var ue=d.baseState;v=0,oe=le=$=null,S=u;do{var re=S.lane&-536870913,ce=re!==S.lane;if(ce?($e&re)===re:(l&re)===re){re!==0&&re===ha&&(Wc=!0),oe!==null&&(oe=oe.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var De=t,ke=S;re=s;var Je=a;switch(ke.tag){case 1:if(De=ke.payload,typeof De=="function"){ue=De.call(Je,ue,re);break e}ue=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=ke.payload,re=typeof De=="function"?De.call(Je,ue,re):De,re==null)break e;ue=g({},ue,re);break e;case 2:Js=!0}}re=S.callback,re!==null&&(t.flags|=64,ce&&(t.flags|=8192),ce=d.callbacks,ce===null?d.callbacks=[re]:ce.push(re))}else ce={lane:re,tag:S.tag,payload:S.payload,callback:S.callback,next:null},oe===null?(le=oe=ce,$=ue):oe=oe.next=ce,v|=re;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;ce=S,S=ce.next,ce.next=null,d.lastBaseUpdate=ce,d.shared.pending=null}}while(!0);oe===null&&($=ue),d.baseState=$,d.firstBaseUpdate=le,d.lastBaseUpdate=oe,u===null&&(d.shared.lanes=0),dn|=v,t.lanes=v,t.memoizedState=ue}}function Tu(t,s){if(typeof t!="function")throw Error(c(191,t));t.call(s)}function ku(t,s){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Tu(a[t],s)}var fa=T(null),Ol=T(0);function Au(t,s){t=qs,I(Ol,t),I(fa,s),qs=t|s.baseLanes}function Zc(){I(Ol,qs),I(fa,fa.current)}function Ic(){qs=Ol.current,C(fa),C(Ol)}var sn=0,He=null,Ze=null,pt=null,Hl=!1,ma=!1,Rn=!1,Bl=0,xi=0,pa=null,oy=0;function ut(){throw Error(c(321))}function Jc(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!Gt(t[a],s[a]))return!1;return!0}function eo(t,s,a,l,d,u){return sn=u,He=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,b.H=t===null||t.memoizedState===null?mf:pf,Rn=!1,u=a(l,d),Rn=!1,ma&&(u=zu(s,a,l,d)),Eu(t),u}function Eu(t){b.H=$l;var s=Ze!==null&&Ze.next!==null;if(sn=0,pt=Ze=He=null,Hl=!1,xi=0,pa=null,s)throw Error(c(300));t===null||wt||(t=t.dependencies,t!==null&&El(t)&&(wt=!0))}function zu(t,s,a,l){He=t;var d=0;do{if(ma&&(pa=null),xi=0,ma=!1,25<=d)throw Error(c(301));if(d+=1,pt=Ze=null,t.updateQueue!=null){var u=t.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}b.H=xy,u=s(a,l)}while(ma);return u}function dy(){var t=b.H,s=t.useState()[0];return s=typeof s.then=="function"?gi(s):s,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(He.flags|=1024),s}function to(){var t=Bl!==0;return Bl=0,t}function so(t,s,a){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a}function no(t){if(Hl){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}Hl=!1}sn=0,pt=Ze=He=null,ma=!1,xi=Bl=0,pa=null}function Bt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?He.memoizedState=pt=t:pt=pt.next=t,pt}function xt(){if(Ze===null){var t=He.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var s=pt===null?He.memoizedState:pt.next;if(s!==null)pt=s,Ze=t;else{if(t===null)throw He.alternate===null?Error(c(467)):Error(c(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},pt===null?He.memoizedState=pt=t:pt=pt.next=t}return pt}function ao(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gi(t){var s=xi;return xi+=1,pa===null&&(pa=[]),t=_u(pa,t,s),s=He,(pt===null?s.memoizedState:pt.next)===null&&(s=s.alternate,b.H=s===null||s.memoizedState===null?mf:pf),t}function Ul(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return gi(t);if(t.$$typeof===F)return At(t)}throw Error(c(438,String(t)))}function io(t){var s=null,a=He.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=He.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=ao(),He.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(t),l=0;l<t;l++)a[l]=J;return s.index++,a}function Rs(t,s){return typeof s=="function"?s(t):s}function ql(t){var s=xt();return lo(s,Ze,t)}function lo(t,s,a){var l=t.queue;if(l===null)throw Error(c(311));l.lastRenderedReducer=a;var d=t.baseQueue,u=l.pending;if(u!==null){if(d!==null){var v=d.next;d.next=u.next,u.next=v}s.baseQueue=d=u,l.pending=null}if(u=t.baseState,d===null)t.memoizedState=u;else{s=d.next;var S=v=null,$=null,le=s,oe=!1;do{var ue=le.lane&-536870913;if(ue!==le.lane?($e&ue)===ue:(sn&ue)===ue){var re=le.revertLane;if(re===0)$!==null&&($=$.next={lane:0,revertLane:0,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),ue===ha&&(oe=!0);else if((sn&re)===re){le=le.next,re===ha&&(oe=!0);continue}else ue={lane:0,revertLane:le.revertLane,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},$===null?(S=$=ue,v=u):$=$.next=ue,He.lanes|=re,dn|=re;ue=le.action,Rn&&a(u,ue),u=le.hasEagerState?le.eagerState:a(u,ue)}else re={lane:ue,revertLane:le.revertLane,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},$===null?(S=$=re,v=u):$=$.next=re,He.lanes|=ue,dn|=ue;le=le.next}while(le!==null&&le!==s);if($===null?v=u:$.next=S,!Gt(u,t.memoizedState)&&(wt=!0,oe&&(a=ua,a!==null)))throw a;t.memoizedState=u,t.baseState=v,t.baseQueue=$,l.lastRenderedState=u}return d===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ro(t){var s=xt(),a=s.queue;if(a===null)throw Error(c(311));a.lastRenderedReducer=t;var l=a.dispatch,d=a.pending,u=s.memoizedState;if(d!==null){a.pending=null;var v=d=d.next;do u=t(u,v.action),v=v.next;while(v!==d);Gt(u,s.memoizedState)||(wt=!0),s.memoizedState=u,s.baseQueue===null&&(s.baseState=u),a.lastRenderedState=u}return[u,l]}function Du(t,s,a){var l=He,d=xt(),u=Pe;if(u){if(a===void 0)throw Error(c(407));a=a()}else a=s();var v=!Gt((Ze||d).memoizedState,a);v&&(d.memoizedState=a,wt=!0),d=d.queue;var S=Ou.bind(null,l,d,t);if(yi(2048,8,S,[t]),d.getSnapshot!==s||v||pt!==null&&pt.memoizedState.tag&1){if(l.flags|=2048,xa(9,Yl(),Lu.bind(null,l,d,a,s),null),tt===null)throw Error(c(349));u||(sn&124)!==0||Ru(l,s,a)}return a}function Ru(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=He.updateQueue,s===null?(s=ao(),He.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function Lu(t,s,a,l){s.value=a,s.getSnapshot=l,Hu(s)&&Bu(t)}function Ou(t,s,a){return a(function(){Hu(s)&&Bu(t)})}function Hu(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!Gt(t,a)}catch{return!0}}function Bu(t){var s=ra(t,2);s!==null&&Qt(s,t,2)}function co(t){var s=Bt();if(typeof t=="function"){var a=t;if(t=a(),Rn){Le(!0);try{a()}finally{Le(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rs,lastRenderedState:t},s}function Uu(t,s,a,l){return t.baseState=a,lo(t,Ze,typeof l=="function"?l:Rs)}function hy(t,s,a,l,d){if(Gl(t))throw Error(c(485));if(t=s.action,t!==null){var u={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){u.listeners.push(v)}};b.T!==null?a(!0):u.isTransition=!1,l(u),a=s.pending,a===null?(u.next=s.pending=u,qu(s,u)):(u.next=a.next,s.pending=a.next=u)}}function qu(t,s){var a=s.action,l=s.payload,d=t.state;if(s.isTransition){var u=b.T,v={};b.T=v;try{var S=a(d,l),$=b.S;$!==null&&$(v,S),Yu(t,s,S)}catch(le){oo(t,s,le)}finally{b.T=u}}else try{u=a(d,l),Yu(t,s,u)}catch(le){oo(t,s,le)}}function Yu(t,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Vu(t,s,l)},function(l){return oo(t,s,l)}):Vu(t,s,a)}function Vu(t,s,a){s.status="fulfilled",s.value=a,Gu(s),t.state=a,s=t.pending,s!==null&&(a=s.next,a===s?t.pending=null:(a=a.next,s.next=a,qu(t,a)))}function oo(t,s,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,Gu(s),s=s.next;while(s!==l)}t.action=null}function Gu(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function $u(t,s){return s}function Xu(t,s){if(Pe){var a=tt.formState;if(a!==null){e:{var l=He;if(Pe){if(dt){t:{for(var d=dt,u=ms;d.nodeType!==8;){if(!u){d=null;break t}if(d=ds(d.nextSibling),d===null){d=null;break t}}u=d.data,d=u==="F!"||u==="F"?d:null}if(d){dt=ds(d.nextSibling),l=d.data==="F!";break e}}An(l)}l=!1}l&&(s=a[0])}}return a=Bt(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$u,lastRenderedState:s},a.queue=l,a=hf.bind(null,He,l),l.dispatch=a,l=co(!1),u=po.bind(null,He,!1,l.queue),l=Bt(),d={state:s,dispatch:null,action:t,pending:null},l.queue=d,a=hy.bind(null,He,d,u,a),d.dispatch=a,l.memoizedState=t,[s,a,!1]}function Fu(t){var s=xt();return Ku(s,Ze,t)}function Ku(t,s,a){if(s=lo(t,s,$u)[0],t=ql(Rs)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=gi(s)}catch(v){throw v===hi?Rl:v}else l=s;s=xt();var d=s.queue,u=d.dispatch;return a!==s.memoizedState&&(He.flags|=2048,xa(9,Yl(),uy.bind(null,d,a),null)),[l,u,t]}function uy(t,s){t.action=s}function Pu(t){var s=xt(),a=Ze;if(a!==null)return Ku(s,a,t);xt(),s=s.memoizedState,a=xt();var l=a.queue.dispatch;return a.memoizedState=t,[s,l,!1]}function xa(t,s,a,l){return t={tag:t,create:a,deps:l,inst:s,next:null},s=He.updateQueue,s===null&&(s=ao(),He.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,s.lastEffect=t),t}function Yl(){return{destroy:void 0,resource:void 0}}function Qu(){return xt().memoizedState}function Vl(t,s,a,l){var d=Bt();l=l===void 0?null:l,He.flags|=t,d.memoizedState=xa(1|s,Yl(),a,l)}function yi(t,s,a,l){var d=xt();l=l===void 0?null:l;var u=d.memoizedState.inst;Ze!==null&&l!==null&&Jc(l,Ze.memoizedState.deps)?d.memoizedState=xa(s,u,a,l):(He.flags|=t,d.memoizedState=xa(1|s,u,a,l))}function Wu(t,s){Vl(8390656,8,t,s)}function Zu(t,s){yi(2048,8,t,s)}function Iu(t,s){return yi(4,2,t,s)}function Ju(t,s){return yi(4,4,t,s)}function ef(t,s){if(typeof s=="function"){t=t();var a=s(t);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function tf(t,s,a){a=a!=null?a.concat([t]):null,yi(4,4,ef.bind(null,s,t),a)}function ho(){}function sf(t,s){var a=xt();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&Jc(s,l[1])?l[0]:(a.memoizedState=[t,s],t)}function nf(t,s){var a=xt();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&Jc(s,l[1]))return l[0];if(l=t(),Rn){Le(!0);try{t()}finally{Le(!1)}}return a.memoizedState=[l,s],l}function uo(t,s,a){return a===void 0||(sn&1073741824)!==0?t.memoizedState=s:(t.memoizedState=a,t=rm(),He.lanes|=t,dn|=t,a)}function af(t,s,a,l){return Gt(a,s)?a:fa.current!==null?(t=uo(t,a,l),Gt(t,s)||(wt=!0),t):(sn&42)===0?(wt=!0,t.memoizedState=a):(t=rm(),He.lanes|=t,dn|=t,s)}function lf(t,s,a,l,d){var u=D.p;D.p=u!==0&&8>u?u:8;var v=b.T,S={};b.T=S,po(t,!1,s,a);try{var $=d(),le=b.S;if(le!==null&&le(S,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var oe=cy($,l);ji(t,s,oe,Pt(t))}else ji(t,s,l,Pt(t))}catch(ue){ji(t,s,{then:function(){},status:"rejected",reason:ue},Pt())}finally{D.p=u,b.T=v}}function fy(){}function fo(t,s,a,l){if(t.tag!==5)throw Error(c(476));var d=rf(t).queue;lf(t,d,s,Y,a===null?fy:function(){return cf(t),a(l)})}function rf(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:Y,baseState:Y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rs,lastRenderedState:Y},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rs,lastRenderedState:a},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function cf(t){var s=rf(t).next.queue;ji(t,s,{},Pt())}function mo(){return At(Hi)}function of(){return xt().memoizedState}function df(){return xt().memoizedState}function my(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var a=Pt();t=en(a);var l=tn(s,t,a);l!==null&&(Qt(l,s,a),fi(l,s,a)),s={cache:Gc()},t.payload=s;return}s=s.return}}function py(t,s,a){var l=Pt();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Gl(t)?uf(s,a):(a=Dc(t,s,a,l),a!==null&&(Qt(a,t,l),ff(a,s,l)))}function hf(t,s,a){var l=Pt();ji(t,s,a,l)}function ji(t,s,a,l){var d={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Gl(t))uf(s,d);else{var u=t.alternate;if(t.lanes===0&&(u===null||u.lanes===0)&&(u=s.lastRenderedReducer,u!==null))try{var v=s.lastRenderedState,S=u(v,a);if(d.hasEagerState=!0,d.eagerState=S,Gt(S,v))return Cl(t,s,d,0),tt===null&&_l(),!1}catch{}finally{}if(a=Dc(t,s,d,l),a!==null)return Qt(a,t,l),ff(a,s,l),!0}return!1}function po(t,s,a,l){if(l={lane:2,revertLane:Ko(),action:l,hasEagerState:!1,eagerState:null,next:null},Gl(t)){if(s)throw Error(c(479))}else s=Dc(t,a,l,2),s!==null&&Qt(s,t,2)}function Gl(t){var s=t.alternate;return t===He||s!==null&&s===He}function uf(t,s){ma=Hl=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function ff(t,s,a){if((a&4194048)!==0){var l=s.lanes;l&=t.pendingLanes,a|=l,s.lanes=a,fl(t,a)}}var $l={readContext:At,use:Ul,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useLayoutEffect:ut,useInsertionEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useSyncExternalStore:ut,useId:ut,useHostTransitionStatus:ut,useFormState:ut,useActionState:ut,useOptimistic:ut,useMemoCache:ut,useCacheRefresh:ut},mf={readContext:At,use:Ul,useCallback:function(t,s){return Bt().memoizedState=[t,s===void 0?null:s],t},useContext:At,useEffect:Wu,useImperativeHandle:function(t,s,a){a=a!=null?a.concat([t]):null,Vl(4194308,4,ef.bind(null,s,t),a)},useLayoutEffect:function(t,s){return Vl(4194308,4,t,s)},useInsertionEffect:function(t,s){Vl(4,2,t,s)},useMemo:function(t,s){var a=Bt();s=s===void 0?null:s;var l=t();if(Rn){Le(!0);try{t()}finally{Le(!1)}}return a.memoizedState=[l,s],l},useReducer:function(t,s,a){var l=Bt();if(a!==void 0){var d=a(s);if(Rn){Le(!0);try{a(s)}finally{Le(!1)}}}else d=s;return l.memoizedState=l.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},l.queue=t,t=t.dispatch=py.bind(null,He,t),[l.memoizedState,t]},useRef:function(t){var s=Bt();return t={current:t},s.memoizedState=t},useState:function(t){t=co(t);var s=t.queue,a=hf.bind(null,He,s);return s.dispatch=a,[t.memoizedState,a]},useDebugValue:ho,useDeferredValue:function(t,s){var a=Bt();return uo(a,t,s)},useTransition:function(){var t=co(!1);return t=lf.bind(null,He,t.queue,!0,!1),Bt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,a){var l=He,d=Bt();if(Pe){if(a===void 0)throw Error(c(407));a=a()}else{if(a=s(),tt===null)throw Error(c(349));($e&124)!==0||Ru(l,s,a)}d.memoizedState=a;var u={value:a,getSnapshot:s};return d.queue=u,Wu(Ou.bind(null,l,u,t),[t]),l.flags|=2048,xa(9,Yl(),Lu.bind(null,l,u,a,s),null),a},useId:function(){var t=Bt(),s=tt.identifierPrefix;if(Pe){var a=Es,l=As;a=(l&~(1<<32-Ve(l)-1)).toString(32)+a,s="«"+s+"R"+a,a=Bl++,0<a&&(s+="H"+a.toString(32)),s+="»"}else a=oy++,s="«"+s+"r"+a.toString(32)+"»";return t.memoizedState=s},useHostTransitionStatus:mo,useFormState:Xu,useActionState:Xu,useOptimistic:function(t){var s=Bt();s.memoizedState=s.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=po.bind(null,He,!0,a),a.dispatch=s,[t,s]},useMemoCache:io,useCacheRefresh:function(){return Bt().memoizedState=my.bind(null,He)}},pf={readContext:At,use:Ul,useCallback:sf,useContext:At,useEffect:Zu,useImperativeHandle:tf,useInsertionEffect:Iu,useLayoutEffect:Ju,useMemo:nf,useReducer:ql,useRef:Qu,useState:function(){return ql(Rs)},useDebugValue:ho,useDeferredValue:function(t,s){var a=xt();return af(a,Ze.memoizedState,t,s)},useTransition:function(){var t=ql(Rs)[0],s=xt().memoizedState;return[typeof t=="boolean"?t:gi(t),s]},useSyncExternalStore:Du,useId:of,useHostTransitionStatus:mo,useFormState:Fu,useActionState:Fu,useOptimistic:function(t,s){var a=xt();return Uu(a,Ze,t,s)},useMemoCache:io,useCacheRefresh:df},xy={readContext:At,use:Ul,useCallback:sf,useContext:At,useEffect:Zu,useImperativeHandle:tf,useInsertionEffect:Iu,useLayoutEffect:Ju,useMemo:nf,useReducer:ro,useRef:Qu,useState:function(){return ro(Rs)},useDebugValue:ho,useDeferredValue:function(t,s){var a=xt();return Ze===null?uo(a,t,s):af(a,Ze.memoizedState,t,s)},useTransition:function(){var t=ro(Rs)[0],s=xt().memoizedState;return[typeof t=="boolean"?t:gi(t),s]},useSyncExternalStore:Du,useId:of,useHostTransitionStatus:mo,useFormState:Pu,useActionState:Pu,useOptimistic:function(t,s){var a=xt();return Ze!==null?Uu(a,Ze,t,s):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:io,useCacheRefresh:df},ga=null,vi=0;function Xl(t){var s=vi;return vi+=1,ga===null&&(ga=[]),_u(ga,t,s)}function bi(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function Fl(t,s){throw s.$$typeof===y?Error(c(525)):(t=Object.prototype.toString.call(s),Error(c(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function xf(t){var s=t._init;return s(t._payload)}function gf(t){function s(ne,W){if(t){var ie=ne.deletions;ie===null?(ne.deletions=[W],ne.flags|=16):ie.push(W)}}function a(ne,W){if(!t)return null;for(;W!==null;)s(ne,W),W=W.sibling;return null}function l(ne){for(var W=new Map;ne!==null;)ne.key!==null?W.set(ne.key,ne):W.set(ne.index,ne),ne=ne.sibling;return W}function d(ne,W){return ne=ks(ne,W),ne.index=0,ne.sibling=null,ne}function u(ne,W,ie){return ne.index=ie,t?(ie=ne.alternate,ie!==null?(ie=ie.index,ie<W?(ne.flags|=67108866,W):ie):(ne.flags|=67108866,W)):(ne.flags|=1048576,W)}function v(ne){return t&&ne.alternate===null&&(ne.flags|=67108866),ne}function S(ne,W,ie,he){return W===null||W.tag!==6?(W=Lc(ie,ne.mode,he),W.return=ne,W):(W=d(W,ie),W.return=ne,W)}function $(ne,W,ie,he){var Ne=ie.type;return Ne===B?oe(ne,W,ie.props.children,he,ie.key):W!==null&&(W.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===se&&xf(Ne)===W.type)?(W=d(W,ie.props),bi(W,ie),W.return=ne,W):(W=Tl(ie.type,ie.key,ie.props,null,ne.mode,he),bi(W,ie),W.return=ne,W)}function le(ne,W,ie,he){return W===null||W.tag!==4||W.stateNode.containerInfo!==ie.containerInfo||W.stateNode.implementation!==ie.implementation?(W=Oc(ie,ne.mode,he),W.return=ne,W):(W=d(W,ie.children||[]),W.return=ne,W)}function oe(ne,W,ie,he,Ne){return W===null||W.tag!==7?(W=Cn(ie,ne.mode,he,Ne),W.return=ne,W):(W=d(W,ie),W.return=ne,W)}function ue(ne,W,ie){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=Lc(""+W,ne.mode,ie),W.return=ne,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case j:return ie=Tl(W.type,W.key,W.props,null,ne.mode,ie),bi(ie,W),ie.return=ne,ie;case w:return W=Oc(W,ne.mode,ie),W.return=ne,W;case se:var he=W._init;return W=he(W._payload),ue(ne,W,ie)}if(k(W)||K(W))return W=Cn(W,ne.mode,ie,null),W.return=ne,W;if(typeof W.then=="function")return ue(ne,Xl(W),ie);if(W.$$typeof===F)return ue(ne,zl(ne,W),ie);Fl(ne,W)}return null}function re(ne,W,ie,he){var Ne=W!==null?W.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return Ne!==null?null:S(ne,W,""+ie,he);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case j:return ie.key===Ne?$(ne,W,ie,he):null;case w:return ie.key===Ne?le(ne,W,ie,he):null;case se:return Ne=ie._init,ie=Ne(ie._payload),re(ne,W,ie,he)}if(k(ie)||K(ie))return Ne!==null?null:oe(ne,W,ie,he,null);if(typeof ie.then=="function")return re(ne,W,Xl(ie),he);if(ie.$$typeof===F)return re(ne,W,zl(ne,ie),he);Fl(ne,ie)}return null}function ce(ne,W,ie,he,Ne){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return ne=ne.get(ie)||null,S(W,ne,""+he,Ne);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case j:return ne=ne.get(he.key===null?ie:he.key)||null,$(W,ne,he,Ne);case w:return ne=ne.get(he.key===null?ie:he.key)||null,le(W,ne,he,Ne);case se:var Ue=he._init;return he=Ue(he._payload),ce(ne,W,ie,he,Ne)}if(k(he)||K(he))return ne=ne.get(ie)||null,oe(W,ne,he,Ne,null);if(typeof he.then=="function")return ce(ne,W,ie,Xl(he),Ne);if(he.$$typeof===F)return ce(ne,W,ie,zl(W,he),Ne);Fl(W,he)}return null}function De(ne,W,ie,he){for(var Ne=null,Ue=null,Te=W,Ae=W=0,_t=null;Te!==null&&Ae<ie.length;Ae++){Te.index>Ae?(_t=Te,Te=null):_t=Te.sibling;var Fe=re(ne,Te,ie[Ae],he);if(Fe===null){Te===null&&(Te=_t);break}t&&Te&&Fe.alternate===null&&s(ne,Te),W=u(Fe,W,Ae),Ue===null?Ne=Fe:Ue.sibling=Fe,Ue=Fe,Te=_t}if(Ae===ie.length)return a(ne,Te),Pe&&Tn(ne,Ae),Ne;if(Te===null){for(;Ae<ie.length;Ae++)Te=ue(ne,ie[Ae],he),Te!==null&&(W=u(Te,W,Ae),Ue===null?Ne=Te:Ue.sibling=Te,Ue=Te);return Pe&&Tn(ne,Ae),Ne}for(Te=l(Te);Ae<ie.length;Ae++)_t=ce(Te,ne,Ae,ie[Ae],he),_t!==null&&(t&&_t.alternate!==null&&Te.delete(_t.key===null?Ae:_t.key),W=u(_t,W,Ae),Ue===null?Ne=_t:Ue.sibling=_t,Ue=_t);return t&&Te.forEach(function(jn){return s(ne,jn)}),Pe&&Tn(ne,Ae),Ne}function ke(ne,W,ie,he){if(ie==null)throw Error(c(151));for(var Ne=null,Ue=null,Te=W,Ae=W=0,_t=null,Fe=ie.next();Te!==null&&!Fe.done;Ae++,Fe=ie.next()){Te.index>Ae?(_t=Te,Te=null):_t=Te.sibling;var jn=re(ne,Te,Fe.value,he);if(jn===null){Te===null&&(Te=_t);break}t&&Te&&jn.alternate===null&&s(ne,Te),W=u(jn,W,Ae),Ue===null?Ne=jn:Ue.sibling=jn,Ue=jn,Te=_t}if(Fe.done)return a(ne,Te),Pe&&Tn(ne,Ae),Ne;if(Te===null){for(;!Fe.done;Ae++,Fe=ie.next())Fe=ue(ne,Fe.value,he),Fe!==null&&(W=u(Fe,W,Ae),Ue===null?Ne=Fe:Ue.sibling=Fe,Ue=Fe);return Pe&&Tn(ne,Ae),Ne}for(Te=l(Te);!Fe.done;Ae++,Fe=ie.next())Fe=ce(Te,ne,Ae,Fe.value,he),Fe!==null&&(t&&Fe.alternate!==null&&Te.delete(Fe.key===null?Ae:Fe.key),W=u(Fe,W,Ae),Ue===null?Ne=Fe:Ue.sibling=Fe,Ue=Fe);return t&&Te.forEach(function(g0){return s(ne,g0)}),Pe&&Tn(ne,Ae),Ne}function Je(ne,W,ie,he){if(typeof ie=="object"&&ie!==null&&ie.type===B&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case j:e:{for(var Ne=ie.key;W!==null;){if(W.key===Ne){if(Ne=ie.type,Ne===B){if(W.tag===7){a(ne,W.sibling),he=d(W,ie.props.children),he.return=ne,ne=he;break e}}else if(W.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===se&&xf(Ne)===W.type){a(ne,W.sibling),he=d(W,ie.props),bi(he,ie),he.return=ne,ne=he;break e}a(ne,W);break}else s(ne,W);W=W.sibling}ie.type===B?(he=Cn(ie.props.children,ne.mode,he,ie.key),he.return=ne,ne=he):(he=Tl(ie.type,ie.key,ie.props,null,ne.mode,he),bi(he,ie),he.return=ne,ne=he)}return v(ne);case w:e:{for(Ne=ie.key;W!==null;){if(W.key===Ne)if(W.tag===4&&W.stateNode.containerInfo===ie.containerInfo&&W.stateNode.implementation===ie.implementation){a(ne,W.sibling),he=d(W,ie.children||[]),he.return=ne,ne=he;break e}else{a(ne,W);break}else s(ne,W);W=W.sibling}he=Oc(ie,ne.mode,he),he.return=ne,ne=he}return v(ne);case se:return Ne=ie._init,ie=Ne(ie._payload),Je(ne,W,ie,he)}if(k(ie))return De(ne,W,ie,he);if(K(ie)){if(Ne=K(ie),typeof Ne!="function")throw Error(c(150));return ie=Ne.call(ie),ke(ne,W,ie,he)}if(typeof ie.then=="function")return Je(ne,W,Xl(ie),he);if(ie.$$typeof===F)return Je(ne,W,zl(ne,ie),he);Fl(ne,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint"?(ie=""+ie,W!==null&&W.tag===6?(a(ne,W.sibling),he=d(W,ie),he.return=ne,ne=he):(a(ne,W),he=Lc(ie,ne.mode,he),he.return=ne,ne=he),v(ne)):a(ne,W)}return function(ne,W,ie,he){try{vi=0;var Ne=Je(ne,W,ie,he);return ga=null,Ne}catch(Te){if(Te===hi||Te===Rl)throw Te;var Ue=$t(29,Te,null,ne.mode);return Ue.lanes=he,Ue.return=ne,Ue}finally{}}}var ya=gf(!0),yf=gf(!1),as=T(null),ps=null;function nn(t){var s=t.alternate;I(jt,jt.current&1),I(as,t),ps===null&&(s===null||fa.current!==null||s.memoizedState!==null)&&(ps=t)}function jf(t){if(t.tag===22){if(I(jt,jt.current),I(as,t),ps===null){var s=t.alternate;s!==null&&s.memoizedState!==null&&(ps=t)}}else an()}function an(){I(jt,jt.current),I(as,as.current)}function Ls(t){C(as),ps===t&&(ps=null),C(jt)}var jt=T(0);function Kl(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||id(a)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function xo(t,s,a,l){s=t.memoizedState,a=a(l,s),a=a==null?s:g({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var go={enqueueSetState:function(t,s,a){t=t._reactInternals;var l=Pt(),d=en(l);d.payload=s,a!=null&&(d.callback=a),s=tn(t,d,l),s!==null&&(Qt(s,t,l),fi(s,t,l))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var l=Pt(),d=en(l);d.tag=1,d.payload=s,a!=null&&(d.callback=a),s=tn(t,d,l),s!==null&&(Qt(s,t,l),fi(s,t,l))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=Pt(),l=en(a);l.tag=2,s!=null&&(l.callback=s),s=tn(t,l,a),s!==null&&(Qt(s,t,a),fi(s,t,a))}};function vf(t,s,a,l,d,u,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,u,v):s.prototype&&s.prototype.isPureReactComponent?!ni(a,l)||!ni(d,u):!0}function bf(t,s,a,l){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==t&&go.enqueueReplaceState(s,s.state,null)}function Ln(t,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(t=t.defaultProps){a===s&&(a=g({},a));for(var d in t)a[d]===void 0&&(a[d]=t[d])}return a}var Pl=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Nf(t){Pl(t)}function wf(t){console.error(t)}function Sf(t){Pl(t)}function Ql(t,s){try{var a=t.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function _f(t,s,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function yo(t,s,a){return a=en(a),a.tag=3,a.payload={element:null},a.callback=function(){Ql(t,s)},a}function Cf(t){return t=en(t),t.tag=3,t}function Mf(t,s,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var u=l.value;t.payload=function(){return d(u)},t.callback=function(){_f(s,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){_f(s,a,l),typeof d!="function"&&(hn===null?hn=new Set([this]):hn.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function gy(t,s,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&ci(s,a,d,!0),a=as.current,a!==null){switch(a.tag){case 13:return ps===null?Vo():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===Fc?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),$o(t,l,d)),!1;case 22:return a.flags|=65536,l===Fc?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),$o(t,l,d)),!1}throw Error(c(435,a.tag))}return $o(t,l,d),Vo(),!1}if(Pe)return s=as.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,l!==Uc&&(t=Error(c(422),{cause:l}),ri(es(t,a)))):(l!==Uc&&(s=Error(c(423),{cause:l}),ri(es(s,a))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,l=es(l,a),d=yo(t.stateNode,l,d),Qc(t,d),ht!==4&&(ht=2)),!1;var u=Error(c(520),{cause:l});if(u=es(u,a),Ti===null?Ti=[u]:Ti.push(u),ht!==4&&(ht=2),s===null)return!0;l=es(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,t=d&-d,a.lanes|=t,t=yo(a.stateNode,l,t),Qc(a,t),!1;case 1:if(s=a.type,u=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(hn===null||!hn.has(u))))return a.flags|=65536,d&=-d,a.lanes|=d,d=Cf(d),Mf(d,t,a,l),Qc(a,d),!1}a=a.return}while(a!==null);return!1}var Tf=Error(c(461)),wt=!1;function Ct(t,s,a,l){s.child=t===null?yf(s,null,a,l):ya(s,t.child,a,l)}function kf(t,s,a,l,d){a=a.render;var u=s.ref;if("ref"in l){var v={};for(var S in l)S!=="ref"&&(v[S]=l[S])}else v=l;return zn(s),l=eo(t,s,a,v,u,d),S=to(),t!==null&&!wt?(so(t,s,d),Os(t,s,d)):(Pe&&S&&Hc(s),s.flags|=1,Ct(t,s,l,d),s.child)}function Af(t,s,a,l,d){if(t===null){var u=a.type;return typeof u=="function"&&!Rc(u)&&u.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=u,Ef(t,s,u,l,d)):(t=Tl(a.type,null,l,s,s.mode,d),t.ref=s.ref,t.return=s,s.child=t)}if(u=t.child,!Co(t,d)){var v=u.memoizedProps;if(a=a.compare,a=a!==null?a:ni,a(v,l)&&t.ref===s.ref)return Os(t,s,d)}return s.flags|=1,t=ks(u,l),t.ref=s.ref,t.return=s,s.child=t}function Ef(t,s,a,l,d){if(t!==null){var u=t.memoizedProps;if(ni(u,l)&&t.ref===s.ref)if(wt=!1,s.pendingProps=l=u,Co(t,d))(t.flags&131072)!==0&&(wt=!0);else return s.lanes=t.lanes,Os(t,s,d)}return jo(t,s,a,l,d)}function zf(t,s,a){var l=s.pendingProps,d=l.children,u=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((s.flags&128)!==0){if(l=u!==null?u.baseLanes|a:a,t!==null){for(d=s.child=t.child,u=0;d!==null;)u=u|d.lanes|d.childLanes,d=d.sibling;s.childLanes=u&~l}else s.childLanes=0,s.child=null;return Df(t,s,l,a)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&Dl(s,u!==null?u.cachePool:null),u!==null?Au(s,u):Zc(),jf(s);else return s.lanes=s.childLanes=536870912,Df(t,s,u!==null?u.baseLanes|a:a,a)}else u!==null?(Dl(s,u.cachePool),Au(s,u),an(),s.memoizedState=null):(t!==null&&Dl(s,null),Zc(),an());return Ct(t,s,d,a),s.child}function Df(t,s,a,l){var d=Xc();return d=d===null?null:{parent:yt._currentValue,pool:d},s.memoizedState={baseLanes:a,cachePool:d},t!==null&&Dl(s,null),Zc(),jf(s),t!==null&&ci(t,s,l,!0),null}function Wl(t,s){var a=s.ref;if(a===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(c(284));(t===null||t.ref!==a)&&(s.flags|=4194816)}}function jo(t,s,a,l,d){return zn(s),a=eo(t,s,a,l,void 0,d),l=to(),t!==null&&!wt?(so(t,s,d),Os(t,s,d)):(Pe&&l&&Hc(s),s.flags|=1,Ct(t,s,a,d),s.child)}function Rf(t,s,a,l,d,u){return zn(s),s.updateQueue=null,a=zu(s,l,a,d),Eu(t),l=to(),t!==null&&!wt?(so(t,s,u),Os(t,s,u)):(Pe&&l&&Hc(s),s.flags|=1,Ct(t,s,a,u),s.child)}function Lf(t,s,a,l,d){if(zn(s),s.stateNode===null){var u=ca,v=a.contextType;typeof v=="object"&&v!==null&&(u=At(v)),u=new a(l,u),s.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=go,s.stateNode=u,u._reactInternals=s,u=s.stateNode,u.props=l,u.state=s.memoizedState,u.refs={},Kc(s),v=a.contextType,u.context=typeof v=="object"&&v!==null?At(v):ca,u.state=s.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(xo(s,a,v,l),u.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(v=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),v!==u.state&&go.enqueueReplaceState(u,u.state,null),pi(s,l,u,d),mi(),u.state=s.memoizedState),typeof u.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(t===null){u=s.stateNode;var S=s.memoizedProps,$=Ln(a,S);u.props=$;var le=u.context,oe=a.contextType;v=ca,typeof oe=="object"&&oe!==null&&(v=At(oe));var ue=a.getDerivedStateFromProps;oe=typeof ue=="function"||typeof u.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,oe||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(S||le!==v)&&bf(s,u,l,v),Js=!1;var re=s.memoizedState;u.state=re,pi(s,l,u,d),mi(),le=s.memoizedState,S||re!==le||Js?(typeof ue=="function"&&(xo(s,a,ue,l),le=s.memoizedState),($=Js||vf(s,a,$,l,re,le,v))?(oe||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(s.flags|=4194308)):(typeof u.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=le),u.props=l,u.state=le,u.context=v,l=$):(typeof u.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{u=s.stateNode,Pc(t,s),v=s.memoizedProps,oe=Ln(a,v),u.props=oe,ue=s.pendingProps,re=u.context,le=a.contextType,$=ca,typeof le=="object"&&le!==null&&($=At(le)),S=a.getDerivedStateFromProps,(le=typeof S=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(v!==ue||re!==$)&&bf(s,u,l,$),Js=!1,re=s.memoizedState,u.state=re,pi(s,l,u,d),mi();var ce=s.memoizedState;v!==ue||re!==ce||Js||t!==null&&t.dependencies!==null&&El(t.dependencies)?(typeof S=="function"&&(xo(s,a,S,l),ce=s.memoizedState),(oe=Js||vf(s,a,oe,l,re,ce,$)||t!==null&&t.dependencies!==null&&El(t.dependencies))?(le||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(l,ce,$),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(l,ce,$)),typeof u.componentDidUpdate=="function"&&(s.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof u.componentDidUpdate!="function"||v===t.memoizedProps&&re===t.memoizedState||(s.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&re===t.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=ce),u.props=l,u.state=ce,u.context=$,l=oe):(typeof u.componentDidUpdate!="function"||v===t.memoizedProps&&re===t.memoizedState||(s.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&re===t.memoizedState||(s.flags|=1024),l=!1)}return u=l,Wl(t,s),l=(s.flags&128)!==0,u||l?(u=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:u.render(),s.flags|=1,t!==null&&l?(s.child=ya(s,t.child,null,d),s.child=ya(s,null,a,d)):Ct(t,s,a,d),s.memoizedState=u.state,t=s.child):t=Os(t,s,d),t}function Of(t,s,a,l){return li(),s.flags|=256,Ct(t,s,a,l),s.child}var vo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bo(t){return{baseLanes:t,cachePool:Nu()}}function No(t,s,a){return t=t!==null?t.childLanes&~a:0,s&&(t|=is),t}function Hf(t,s,a){var l=s.pendingProps,d=!1,u=(s.flags&128)!==0,v;if((v=u)||(v=t!==null&&t.memoizedState===null?!1:(jt.current&2)!==0),v&&(d=!0,s.flags&=-129),v=(s.flags&32)!==0,s.flags&=-33,t===null){if(Pe){if(d?nn(s):an(),Pe){var S=dt,$;if($=S){e:{for($=S,S=ms;$.nodeType!==8;){if(!S){S=null;break e}if($=ds($.nextSibling),$===null){S=null;break e}}S=$}S!==null?(s.memoizedState={dehydrated:S,treeContext:Mn!==null?{id:As,overflow:Es}:null,retryLane:536870912,hydrationErrors:null},$=$t(18,null,null,0),$.stateNode=S,$.return=s,s.child=$,Rt=s,dt=null,$=!0):$=!1}$||An(s)}if(S=s.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return id(S)?s.lanes=32:s.lanes=536870912,null;Ls(s)}return S=l.children,l=l.fallback,d?(an(),d=s.mode,S=Zl({mode:"hidden",children:S},d),l=Cn(l,d,a,null),S.return=s,l.return=s,S.sibling=l,s.child=S,d=s.child,d.memoizedState=bo(a),d.childLanes=No(t,v,a),s.memoizedState=vo,l):(nn(s),wo(s,S))}if($=t.memoizedState,$!==null&&(S=$.dehydrated,S!==null)){if(u)s.flags&256?(nn(s),s.flags&=-257,s=So(t,s,a)):s.memoizedState!==null?(an(),s.child=t.child,s.flags|=128,s=null):(an(),d=l.fallback,S=s.mode,l=Zl({mode:"visible",children:l.children},S),d=Cn(d,S,a,null),d.flags|=2,l.return=s,d.return=s,l.sibling=d,s.child=l,ya(s,t.child,null,a),l=s.child,l.memoizedState=bo(a),l.childLanes=No(t,v,a),s.memoizedState=vo,s=d);else if(nn(s),id(S)){if(v=S.nextSibling&&S.nextSibling.dataset,v)var le=v.dgst;v=le,l=Error(c(419)),l.stack="",l.digest=v,ri({value:l,source:null,stack:null}),s=So(t,s,a)}else if(wt||ci(t,s,a,!1),v=(a&t.childLanes)!==0,wt||v){if(v=tt,v!==null&&(l=a&-a,l=(l&42)!==0?1:Ka(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==$.retryLane))throw $.retryLane=l,ra(t,l),Qt(v,t,l),Tf;S.data==="$?"||Vo(),s=So(t,s,a)}else S.data==="$?"?(s.flags|=192,s.child=t.child,s=null):(t=$.treeContext,dt=ds(S.nextSibling),Rt=s,Pe=!0,kn=null,ms=!1,t!==null&&(ss[ns++]=As,ss[ns++]=Es,ss[ns++]=Mn,As=t.id,Es=t.overflow,Mn=s),s=wo(s,l.children),s.flags|=4096);return s}return d?(an(),d=l.fallback,S=s.mode,$=t.child,le=$.sibling,l=ks($,{mode:"hidden",children:l.children}),l.subtreeFlags=$.subtreeFlags&65011712,le!==null?d=ks(le,d):(d=Cn(d,S,a,null),d.flags|=2),d.return=s,l.return=s,l.sibling=d,s.child=l,l=d,d=s.child,S=t.child.memoizedState,S===null?S=bo(a):($=S.cachePool,$!==null?(le=yt._currentValue,$=$.parent!==le?{parent:le,pool:le}:$):$=Nu(),S={baseLanes:S.baseLanes|a,cachePool:$}),d.memoizedState=S,d.childLanes=No(t,v,a),s.memoizedState=vo,l):(nn(s),a=t.child,t=a.sibling,a=ks(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,t!==null&&(v=s.deletions,v===null?(s.deletions=[t],s.flags|=16):v.push(t)),s.child=a,s.memoizedState=null,a)}function wo(t,s){return s=Zl({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function Zl(t,s){return t=$t(22,t,null,s),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function So(t,s,a){return ya(s,t.child,null,a),t=wo(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function Bf(t,s,a){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s),Yc(t.return,s,a)}function _o(t,s,a,l,d){var u=t.memoizedState;u===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d}:(u.isBackwards=s,u.rendering=null,u.renderingStartTime=0,u.last=l,u.tail=a,u.tailMode=d)}function Uf(t,s,a){var l=s.pendingProps,d=l.revealOrder,u=l.tail;if(Ct(t,s,l.children,a),l=jt.current,(l&2)!==0)l=l&1|2,s.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Bf(t,a,s);else if(t.tag===19)Bf(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(I(jt,l),d){case"forwards":for(a=s.child,d=null;a!==null;)t=a.alternate,t!==null&&Kl(t)===null&&(d=a),a=a.sibling;a=d,a===null?(d=s.child,s.child=null):(d=a.sibling,a.sibling=null),_o(s,!1,d,a,u);break;case"backwards":for(a=null,d=s.child,s.child=null;d!==null;){if(t=d.alternate,t!==null&&Kl(t)===null){s.child=d;break}t=d.sibling,d.sibling=a,a=d,d=t}_o(s,!0,a,null,u);break;case"together":_o(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Os(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),dn|=s.lanes,(a&s.childLanes)===0)if(t!==null){if(ci(t,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(c(153));if(s.child!==null){for(t=s.child,a=ks(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=ks(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function Co(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&El(t)))}function yy(t,s,a){switch(s.tag){case 3:ee(s,s.stateNode.containerInfo),Is(s,yt,t.memoizedState.cache),li();break;case 27:case 5:de(s);break;case 4:ee(s,s.stateNode.containerInfo);break;case 10:Is(s,s.type,s.memoizedProps.value);break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(nn(s),s.flags|=128,null):(a&s.child.childLanes)!==0?Hf(t,s,a):(nn(s),t=Os(t,s,a),t!==null?t.sibling:null);nn(s);break;case 19:var d=(t.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(ci(t,s,a,!1),l=(a&s.childLanes)!==0),d){if(l)return Uf(t,s,a);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),I(jt,jt.current),l)break;return null;case 22:case 23:return s.lanes=0,zf(t,s,a);case 24:Is(s,yt,t.memoizedState.cache)}return Os(t,s,a)}function qf(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps)wt=!0;else{if(!Co(t,a)&&(s.flags&128)===0)return wt=!1,yy(t,s,a);wt=(t.flags&131072)!==0}else wt=!1,Pe&&(s.flags&1048576)!==0&&pu(s,Al,s.index);switch(s.lanes=0,s.tag){case 16:e:{t=s.pendingProps;var l=s.elementType,d=l._init;if(l=d(l._payload),s.type=l,typeof l=="function")Rc(l)?(t=Ln(l,t),s.tag=1,s=Lf(null,s,l,t,a)):(s.tag=0,s=jo(null,s,l,t,a));else{if(l!=null){if(d=l.$$typeof,d===L){s.tag=11,s=kf(null,s,l,t,a);break e}else if(d===Q){s.tag=14,s=Af(null,s,l,t,a);break e}}throw s=E(l)||l,Error(c(306,s,""))}}return s;case 0:return jo(t,s,s.type,s.pendingProps,a);case 1:return l=s.type,d=Ln(l,s.pendingProps),Lf(t,s,l,d,a);case 3:e:{if(ee(s,s.stateNode.containerInfo),t===null)throw Error(c(387));l=s.pendingProps;var u=s.memoizedState;d=u.element,Pc(t,s),pi(s,l,null,a);var v=s.memoizedState;if(l=v.cache,Is(s,yt,l),l!==u.cache&&Vc(s,[yt],a,!0),mi(),l=v.element,u.isDehydrated)if(u={element:l,isDehydrated:!1,cache:v.cache},s.updateQueue.baseState=u,s.memoizedState=u,s.flags&256){s=Of(t,s,l,a);break e}else if(l!==d){d=es(Error(c(424)),s),ri(d),s=Of(t,s,l,a);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(dt=ds(t.firstChild),Rt=s,Pe=!0,kn=null,ms=!0,a=yf(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(li(),l===d){s=Os(t,s,a);break e}Ct(t,s,l,a)}s=s.child}return s;case 26:return Wl(t,s),t===null?(a=$m(s.type,null,s.pendingProps,null))?s.memoizedState=a:Pe||(a=s.type,t=s.pendingProps,l=hr(A.current).createElement(a),l[mt]=s,l[kt]=t,Tt(l,a,t),Nt(l),s.stateNode=l):s.memoizedState=$m(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return de(s),t===null&&Pe&&(l=s.stateNode=Ym(s.type,s.pendingProps,A.current),Rt=s,ms=!0,d=dt,mn(s.type)?(ld=d,dt=ds(l.firstChild)):dt=d),Ct(t,s,s.pendingProps.children,a),Wl(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&Pe&&((d=l=dt)&&(l=Fy(l,s.type,s.pendingProps,ms),l!==null?(s.stateNode=l,Rt=s,dt=ds(l.firstChild),ms=!1,d=!0):d=!1),d||An(s)),de(s),d=s.type,u=s.pendingProps,v=t!==null?t.memoizedProps:null,l=u.children,sd(d,u)?l=null:v!==null&&sd(d,v)&&(s.flags|=32),s.memoizedState!==null&&(d=eo(t,s,dy,null,null,a),Hi._currentValue=d),Wl(t,s),Ct(t,s,l,a),s.child;case 6:return t===null&&Pe&&((t=a=dt)&&(a=Ky(a,s.pendingProps,ms),a!==null?(s.stateNode=a,Rt=s,dt=null,t=!0):t=!1),t||An(s)),null;case 13:return Hf(t,s,a);case 4:return ee(s,s.stateNode.containerInfo),l=s.pendingProps,t===null?s.child=ya(s,null,l,a):Ct(t,s,l,a),s.child;case 11:return kf(t,s,s.type,s.pendingProps,a);case 7:return Ct(t,s,s.pendingProps,a),s.child;case 8:return Ct(t,s,s.pendingProps.children,a),s.child;case 12:return Ct(t,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Is(s,s.type,l.value),Ct(t,s,l.children,a),s.child;case 9:return d=s.type._context,l=s.pendingProps.children,zn(s),d=At(d),l=l(d),s.flags|=1,Ct(t,s,l,a),s.child;case 14:return Af(t,s,s.type,s.pendingProps,a);case 15:return Ef(t,s,s.type,s.pendingProps,a);case 19:return Uf(t,s,a);case 31:return l=s.pendingProps,a=s.mode,l={mode:l.mode,children:l.children},t===null?(a=Zl(l,a),a.ref=s.ref,s.child=a,a.return=s,s=a):(a=ks(t.child,l),a.ref=s.ref,s.child=a,a.return=s,s=a),s;case 22:return zf(t,s,a);case 24:return zn(s),l=At(yt),t===null?(d=Xc(),d===null&&(d=tt,u=Gc(),d.pooledCache=u,u.refCount++,u!==null&&(d.pooledCacheLanes|=a),d=u),s.memoizedState={parent:l,cache:d},Kc(s),Is(s,yt,d)):((t.lanes&a)!==0&&(Pc(t,s),pi(s,null,null,a),mi()),d=t.memoizedState,u=s.memoizedState,d.parent!==l?(d={parent:l,cache:l},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),Is(s,yt,l)):(l=u.cache,Is(s,yt,l),l!==d.cache&&Vc(s,[yt],a,!0))),Ct(t,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(c(156,s.tag))}function Hs(t){t.flags|=4}function Yf(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Qm(s)){if(s=as.current,s!==null&&(($e&4194048)===$e?ps!==null:($e&62914560)!==$e&&($e&536870912)===0||s!==ps))throw ui=Fc,wu;t.flags|=8192}}function Il(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?Fa():536870912,t.lanes|=s,Na|=s)}function Ni(t,s){if(!Pe)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function lt(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(s)for(var d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=a,s}function jy(t,s,a){var l=s.pendingProps;switch(Bc(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(s),null;case 1:return lt(s),null;case 3:return a=s.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Ds(yt),Z(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ii(s)?Hs(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,yu())),lt(s),null;case 26:return a=s.memoizedState,t===null?(Hs(s),a!==null?(lt(s),Yf(s,a)):(lt(s),s.flags&=-16777217)):a?a!==t.memoizedState?(Hs(s),lt(s),Yf(s,a)):(lt(s),s.flags&=-16777217):(t.memoizedProps!==l&&Hs(s),lt(s),s.flags&=-16777217),null;case 27:pe(s),a=A.current;var d=s.type;if(t!==null&&s.stateNode!=null)t.memoizedProps!==l&&Hs(s);else{if(!l){if(s.stateNode===null)throw Error(c(166));return lt(s),null}t=P.current,ii(s)?xu(s):(t=Ym(d,l,a),s.stateNode=t,Hs(s))}return lt(s),null;case 5:if(pe(s),a=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&Hs(s);else{if(!l){if(s.stateNode===null)throw Error(c(166));return lt(s),null}if(t=P.current,ii(s))xu(s);else{switch(d=hr(A.current),t){case 1:t=d.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=d.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=d.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?d.createElement("select",{is:l.is}):d.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?d.createElement(a,{is:l.is}):d.createElement(a)}}t[mt]=s,t[kt]=l;e:for(d=s.child;d!==null;){if(d.tag===5||d.tag===6)t.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===s)break e;for(;d.sibling===null;){if(d.return===null||d.return===s)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}s.stateNode=t;e:switch(Tt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Hs(s)}}return lt(s),s.flags&=-16777217,null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==l&&Hs(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(c(166));if(t=A.current,ii(s)){if(t=s.stateNode,a=s.memoizedProps,l=null,d=Rt,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}t[mt]=s,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Rm(t.nodeValue,a)),t||An(s)}else t=hr(t).createTextNode(l),t[mt]=s,s.stateNode=t}return lt(s),null;case 13:if(l=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=ii(s),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(c(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(c(317));d[mt]=s}else li(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;lt(s),d=!1}else d=yu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(Ls(s),s):(Ls(s),null)}if(Ls(s),(s.flags&128)!==0)return s.lanes=a,s;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=s.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool);var u=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(u=l.memoizedState.cachePool.pool),u!==d&&(l.flags|=2048)}return a!==t&&a&&(s.child.flags|=8192),Il(s,s.updateQueue),lt(s),null;case 4:return Z(),t===null&&Zo(s.stateNode.containerInfo),lt(s),null;case 10:return Ds(s.type),lt(s),null;case 19:if(C(jt),d=s.memoizedState,d===null)return lt(s),null;if(l=(s.flags&128)!==0,u=d.rendering,u===null)if(l)Ni(d,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(u=Kl(t),u!==null){for(s.flags|=128,Ni(d,!1),t=u.updateQueue,s.updateQueue=t,Il(s,t),s.subtreeFlags=0,t=a,a=s.child;a!==null;)mu(a,t),a=a.sibling;return I(jt,jt.current&1|2),s.child}t=t.sibling}d.tail!==null&&Re()>tr&&(s.flags|=128,l=!0,Ni(d,!1),s.lanes=4194304)}else{if(!l)if(t=Kl(u),t!==null){if(s.flags|=128,l=!0,t=t.updateQueue,s.updateQueue=t,Il(s,t),Ni(d,!0),d.tail===null&&d.tailMode==="hidden"&&!u.alternate&&!Pe)return lt(s),null}else 2*Re()-d.renderingStartTime>tr&&a!==536870912&&(s.flags|=128,l=!0,Ni(d,!1),s.lanes=4194304);d.isBackwards?(u.sibling=s.child,s.child=u):(t=d.last,t!==null?t.sibling=u:s.child=u,d.last=u)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=Re(),s.sibling=null,t=jt.current,I(jt,l?t&1|2:t&1),s):(lt(s),null);case 22:case 23:return Ls(s),Ic(),l=s.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(lt(s),s.subtreeFlags&6&&(s.flags|=8192)):lt(s),a=s.updateQueue,a!==null&&Il(s,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),t!==null&&C(Dn),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Ds(yt),lt(s),null;case 25:return null;case 30:return null}throw Error(c(156,s.tag))}function vy(t,s){switch(Bc(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return Ds(yt),Z(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return pe(s),null;case 13:if(Ls(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(c(340));li()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return C(jt),null;case 4:return Z(),null;case 10:return Ds(s.type),null;case 22:case 23:return Ls(s),Ic(),t!==null&&C(Dn),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return Ds(yt),null;case 25:return null;default:return null}}function Vf(t,s){switch(Bc(s),s.tag){case 3:Ds(yt),Z();break;case 26:case 27:case 5:pe(s);break;case 4:Z();break;case 13:Ls(s);break;case 19:C(jt);break;case 10:Ds(s.type);break;case 22:case 23:Ls(s),Ic(),t!==null&&C(Dn);break;case 24:Ds(yt)}}function wi(t,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&t)===t){l=void 0;var u=a.create,v=a.inst;l=u(),v.destroy=l}a=a.next}while(a!==d)}}catch(S){et(s,s.return,S)}}function ln(t,s,a){try{var l=s.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var u=d.next;l=u;do{if((l.tag&t)===t){var v=l.inst,S=v.destroy;if(S!==void 0){v.destroy=void 0,d=s;var $=a,le=S;try{le()}catch(oe){et(d,$,oe)}}}l=l.next}while(l!==u)}}catch(oe){et(s,s.return,oe)}}function Gf(t){var s=t.updateQueue;if(s!==null){var a=t.stateNode;try{ku(s,a)}catch(l){et(t,t.return,l)}}}function $f(t,s,a){a.props=Ln(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){et(t,s,l)}}function Si(t,s){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(d){et(t,s,d)}}function xs(t,s){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){et(t,s,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){et(t,s,d)}else a.current=null}function Xf(t){var s=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){et(t,t.return,d)}}function Mo(t,s,a){try{var l=t.stateNode;Yy(l,t.type,a,s),l[kt]=s}catch(d){et(t,t.return,d)}}function Ff(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&mn(t.type)||t.tag===4}function To(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ff(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&mn(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ko(t,s,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(t),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=dr));else if(l!==4&&(l===27&&mn(t.type)&&(a=t.stateNode,s=null),t=t.child,t!==null))for(ko(t,s,a),t=t.sibling;t!==null;)ko(t,s,a),t=t.sibling}function Jl(t,s,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(l!==4&&(l===27&&mn(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Jl(t,s,a),t=t.sibling;t!==null;)Jl(t,s,a),t=t.sibling}function Kf(t){var s=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);Tt(s,l,a),s[mt]=t,s[kt]=a}catch(u){et(t,t.return,u)}}var Bs=!1,ft=!1,Ao=!1,Pf=typeof WeakSet=="function"?WeakSet:Set,St=null;function by(t,s){if(t=t.containerInfo,ed=gr,t=au(t),Mc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,u=l.focusNode;l=l.focusOffset;try{a.nodeType,u.nodeType}catch{a=null;break e}var v=0,S=-1,$=-1,le=0,oe=0,ue=t,re=null;t:for(;;){for(var ce;ue!==a||d!==0&&ue.nodeType!==3||(S=v+d),ue!==u||l!==0&&ue.nodeType!==3||($=v+l),ue.nodeType===3&&(v+=ue.nodeValue.length),(ce=ue.firstChild)!==null;)re=ue,ue=ce;for(;;){if(ue===t)break t;if(re===a&&++le===d&&(S=v),re===u&&++oe===l&&($=v),(ce=ue.nextSibling)!==null)break;ue=re,re=ue.parentNode}ue=ce}a=S===-1||$===-1?null:{start:S,end:$}}else a=null}a=a||{start:0,end:0}}else a=null;for(td={focusedElem:t,selectionRange:a},gr=!1,St=s;St!==null;)if(s=St,t=s.child,(s.subtreeFlags&1024)!==0&&t!==null)t.return=s,St=t;else for(;St!==null;){switch(s=St,u=s.alternate,t=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&u!==null){t=void 0,a=s,d=u.memoizedProps,u=u.memoizedState,l=a.stateNode;try{var De=Ln(a.type,d,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(De,u),l.__reactInternalSnapshotBeforeUpdate=t}catch(ke){et(a,a.return,ke)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,a=t.nodeType,a===9)ad(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":ad(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(c(163))}if(t=s.sibling,t!==null){t.return=s.return,St=t;break}St=s.return}}function Qf(t,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:rn(t,a),l&4&&wi(5,a);break;case 1:if(rn(t,a),l&4)if(t=a.stateNode,s===null)try{t.componentDidMount()}catch(v){et(a,a.return,v)}else{var d=Ln(a.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(d,s,t.__reactInternalSnapshotBeforeUpdate)}catch(v){et(a,a.return,v)}}l&64&&Gf(a),l&512&&Si(a,a.return);break;case 3:if(rn(t,a),l&64&&(t=a.updateQueue,t!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{ku(t,s)}catch(v){et(a,a.return,v)}}break;case 27:s===null&&l&4&&Kf(a);case 26:case 5:rn(t,a),s===null&&l&4&&Xf(a),l&512&&Si(a,a.return);break;case 12:rn(t,a);break;case 13:rn(t,a),l&4&&If(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Ay.bind(null,a),Py(t,a))));break;case 22:if(l=a.memoizedState!==null||Bs,!l){s=s!==null&&s.memoizedState!==null||ft,d=Bs;var u=ft;Bs=l,(ft=s)&&!u?cn(t,a,(a.subtreeFlags&8772)!==0):rn(t,a),Bs=d,ft=u}break;case 30:break;default:rn(t,a)}}function Wf(t){var s=t.alternate;s!==null&&(t.alternate=null,Wf(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&cc(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var at=null,Ut=!1;function Us(t,s,a){for(a=a.child;a!==null;)Zf(t,s,a),a=a.sibling}function Zf(t,s,a){if(be&&typeof be.onCommitFiberUnmount=="function")try{be.onCommitFiberUnmount(me,a)}catch{}switch(a.tag){case 26:ft||xs(a,s),Us(t,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ft||xs(a,s);var l=at,d=Ut;mn(a.type)&&(at=a.stateNode,Ut=!1),Us(t,s,a),Di(a.stateNode),at=l,Ut=d;break;case 5:ft||xs(a,s);case 6:if(l=at,d=Ut,at=null,Us(t,s,a),at=l,Ut=d,at!==null)if(Ut)try{(at.nodeType===9?at.body:at.nodeName==="HTML"?at.ownerDocument.body:at).removeChild(a.stateNode)}catch(u){et(a,s,u)}else try{at.removeChild(a.stateNode)}catch(u){et(a,s,u)}break;case 18:at!==null&&(Ut?(t=at,Um(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Yi(t)):Um(at,a.stateNode));break;case 4:l=at,d=Ut,at=a.stateNode.containerInfo,Ut=!0,Us(t,s,a),at=l,Ut=d;break;case 0:case 11:case 14:case 15:ft||ln(2,a,s),ft||ln(4,a,s),Us(t,s,a);break;case 1:ft||(xs(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&$f(a,s,l)),Us(t,s,a);break;case 21:Us(t,s,a);break;case 22:ft=(l=ft)||a.memoizedState!==null,Us(t,s,a),ft=l;break;default:Us(t,s,a)}}function If(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Yi(t)}catch(a){et(s,s.return,a)}}function Ny(t){switch(t.tag){case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new Pf),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new Pf),s;default:throw Error(c(435,t.tag))}}function Eo(t,s){var a=Ny(t);s.forEach(function(l){var d=Ey.bind(null,t,l);a.has(l)||(a.add(l),l.then(d,d))})}function Xt(t,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],u=t,v=s,S=v;e:for(;S!==null;){switch(S.tag){case 27:if(mn(S.type)){at=S.stateNode,Ut=!1;break e}break;case 5:at=S.stateNode,Ut=!1;break e;case 3:case 4:at=S.stateNode.containerInfo,Ut=!0;break e}S=S.return}if(at===null)throw Error(c(160));Zf(u,v,d),at=null,Ut=!1,u=d.alternate,u!==null&&(u.return=null),d.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Jf(s,t),s=s.sibling}var os=null;function Jf(t,s){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Xt(s,t),Ft(t),l&4&&(ln(3,t,t.return),wi(3,t),ln(5,t,t.return));break;case 1:Xt(s,t),Ft(t),l&512&&(ft||a===null||xs(a,a.return)),l&64&&Bs&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=os;if(Xt(s,t),Ft(t),l&512&&(ft||a===null||xs(a,a.return)),l&4){var u=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":u=d.getElementsByTagName("title")[0],(!u||u[Pa]||u[mt]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=d.createElement(l),d.head.insertBefore(u,d.querySelector("head > title"))),Tt(u,l,a),u[mt]=t,Nt(u),l=u;break e;case"link":var v=Km("link","href",d).get(l+(a.href||""));if(v){for(var S=0;S<v.length;S++)if(u=v[S],u.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&u.getAttribute("rel")===(a.rel==null?null:a.rel)&&u.getAttribute("title")===(a.title==null?null:a.title)&&u.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(S,1);break t}}u=d.createElement(l),Tt(u,l,a),d.head.appendChild(u);break;case"meta":if(v=Km("meta","content",d).get(l+(a.content||""))){for(S=0;S<v.length;S++)if(u=v[S],u.getAttribute("content")===(a.content==null?null:""+a.content)&&u.getAttribute("name")===(a.name==null?null:a.name)&&u.getAttribute("property")===(a.property==null?null:a.property)&&u.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&u.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(S,1);break t}}u=d.createElement(l),Tt(u,l,a),d.head.appendChild(u);break;default:throw Error(c(468,l))}u[mt]=t,Nt(u),l=u}t.stateNode=l}else Pm(d,t.type,t.stateNode);else t.stateNode=Fm(d,l,t.memoizedProps);else u!==l?(u===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):u.count--,l===null?Pm(d,t.type,t.stateNode):Fm(d,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Mo(t,t.memoizedProps,a.memoizedProps)}break;case 27:Xt(s,t),Ft(t),l&512&&(ft||a===null||xs(a,a.return)),a!==null&&l&4&&Mo(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Xt(s,t),Ft(t),l&512&&(ft||a===null||xs(a,a.return)),t.flags&32){d=t.stateNode;try{ea(d,"")}catch(ce){et(t,t.return,ce)}}l&4&&t.stateNode!=null&&(d=t.memoizedProps,Mo(t,d,a!==null?a.memoizedProps:d)),l&1024&&(Ao=!0);break;case 6:if(Xt(s,t),Ft(t),l&4){if(t.stateNode===null)throw Error(c(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ce){et(t,t.return,ce)}}break;case 3:if(mr=null,d=os,os=ur(s.containerInfo),Xt(s,t),os=d,Ft(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Yi(s.containerInfo)}catch(ce){et(t,t.return,ce)}Ao&&(Ao=!1,em(t));break;case 4:l=os,os=ur(t.stateNode.containerInfo),Xt(s,t),Ft(t),os=l;break;case 12:Xt(s,t),Ft(t);break;case 13:Xt(s,t),Ft(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ho=Re()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Eo(t,l)));break;case 22:d=t.memoizedState!==null;var $=a!==null&&a.memoizedState!==null,le=Bs,oe=ft;if(Bs=le||d,ft=oe||$,Xt(s,t),ft=oe,Bs=le,Ft(t),l&8192)e:for(s=t.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(a===null||$||Bs||ft||On(t)),a=null,s=t;;){if(s.tag===5||s.tag===26){if(a===null){$=a=s;try{if(u=$.stateNode,d)v=u.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{S=$.stateNode;var ue=$.memoizedProps.style,re=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;S.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(ce){et($,$.return,ce)}}}else if(s.tag===6){if(a===null){$=s;try{$.stateNode.nodeValue=d?"":$.memoizedProps}catch(ce){et($,$.return,ce)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Eo(t,a))));break;case 19:Xt(s,t),Ft(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Eo(t,l)));break;case 30:break;case 21:break;default:Xt(s,t),Ft(t)}}function Ft(t){var s=t.flags;if(s&2){try{for(var a,l=t.return;l!==null;){if(Ff(l)){a=l;break}l=l.return}if(a==null)throw Error(c(160));switch(a.tag){case 27:var d=a.stateNode,u=To(t);Jl(t,u,d);break;case 5:var v=a.stateNode;a.flags&32&&(ea(v,""),a.flags&=-33);var S=To(t);Jl(t,S,v);break;case 3:case 4:var $=a.stateNode.containerInfo,le=To(t);ko(t,le,$);break;default:throw Error(c(161))}}catch(oe){et(t,t.return,oe)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function em(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;em(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function rn(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Qf(t,s.alternate,s),s=s.sibling}function On(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:ln(4,s,s.return),On(s);break;case 1:xs(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&$f(s,s.return,a),On(s);break;case 27:Di(s.stateNode);case 26:case 5:xs(s,s.return),On(s);break;case 22:s.memoizedState===null&&On(s);break;case 30:On(s);break;default:On(s)}t=t.sibling}}function cn(t,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,d=t,u=s,v=u.flags;switch(u.tag){case 0:case 11:case 15:cn(d,u,a),wi(4,u);break;case 1:if(cn(d,u,a),l=u,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(le){et(l,l.return,le)}if(l=u,d=l.updateQueue,d!==null){var S=l.stateNode;try{var $=d.shared.hiddenCallbacks;if($!==null)for(d.shared.hiddenCallbacks=null,d=0;d<$.length;d++)Tu($[d],S)}catch(le){et(l,l.return,le)}}a&&v&64&&Gf(u),Si(u,u.return);break;case 27:Kf(u);case 26:case 5:cn(d,u,a),a&&l===null&&v&4&&Xf(u),Si(u,u.return);break;case 12:cn(d,u,a);break;case 13:cn(d,u,a),a&&v&4&&If(d,u);break;case 22:u.memoizedState===null&&cn(d,u,a),Si(u,u.return);break;case 30:break;default:cn(d,u,a)}s=s.sibling}}function zo(t,s){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&oi(a))}function Do(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&oi(t))}function gs(t,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)tm(t,s,a,l),s=s.sibling}function tm(t,s,a,l){var d=s.flags;switch(s.tag){case 0:case 11:case 15:gs(t,s,a,l),d&2048&&wi(9,s);break;case 1:gs(t,s,a,l);break;case 3:gs(t,s,a,l),d&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&oi(t)));break;case 12:if(d&2048){gs(t,s,a,l),t=s.stateNode;try{var u=s.memoizedProps,v=u.id,S=u.onPostCommit;typeof S=="function"&&S(v,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch($){et(s,s.return,$)}}else gs(t,s,a,l);break;case 13:gs(t,s,a,l);break;case 23:break;case 22:u=s.stateNode,v=s.alternate,s.memoizedState!==null?u._visibility&2?gs(t,s,a,l):_i(t,s):u._visibility&2?gs(t,s,a,l):(u._visibility|=2,ja(t,s,a,l,(s.subtreeFlags&10256)!==0)),d&2048&&zo(v,s);break;case 24:gs(t,s,a,l),d&2048&&Do(s.alternate,s);break;default:gs(t,s,a,l)}}function ja(t,s,a,l,d){for(d=d&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var u=t,v=s,S=a,$=l,le=v.flags;switch(v.tag){case 0:case 11:case 15:ja(u,v,S,$,d),wi(8,v);break;case 23:break;case 22:var oe=v.stateNode;v.memoizedState!==null?oe._visibility&2?ja(u,v,S,$,d):_i(u,v):(oe._visibility|=2,ja(u,v,S,$,d)),d&&le&2048&&zo(v.alternate,v);break;case 24:ja(u,v,S,$,d),d&&le&2048&&Do(v.alternate,v);break;default:ja(u,v,S,$,d)}s=s.sibling}}function _i(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=t,l=s,d=l.flags;switch(l.tag){case 22:_i(a,l),d&2048&&zo(l.alternate,l);break;case 24:_i(a,l),d&2048&&Do(l.alternate,l);break;default:_i(a,l)}s=s.sibling}}var Ci=8192;function va(t){if(t.subtreeFlags&Ci)for(t=t.child;t!==null;)sm(t),t=t.sibling}function sm(t){switch(t.tag){case 26:va(t),t.flags&Ci&&t.memoizedState!==null&&r0(os,t.memoizedState,t.memoizedProps);break;case 5:va(t);break;case 3:case 4:var s=os;os=ur(t.stateNode.containerInfo),va(t),os=s;break;case 22:t.memoizedState===null&&(s=t.alternate,s!==null&&s.memoizedState!==null?(s=Ci,Ci=16777216,va(t),Ci=s):va(t));break;default:va(t)}}function nm(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function Mi(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];St=l,im(l,t)}nm(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)am(t),t=t.sibling}function am(t){switch(t.tag){case 0:case 11:case 15:Mi(t),t.flags&2048&&ln(9,t,t.return);break;case 3:Mi(t);break;case 12:Mi(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,er(t)):Mi(t);break;default:Mi(t)}}function er(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];St=l,im(l,t)}nm(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:ln(8,s,s.return),er(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,er(s));break;default:er(s)}t=t.sibling}}function im(t,s){for(;St!==null;){var a=St;switch(a.tag){case 0:case 11:case 15:ln(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:oi(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,St=l;else e:for(a=t;St!==null;){l=St;var d=l.sibling,u=l.return;if(Wf(l),l===a){St=null;break e}if(d!==null){d.return=u,St=d;break e}St=u}}}var wy={getCacheForType:function(t){var s=At(yt),a=s.data.get(t);return a===void 0&&(a=t(),s.data.set(t,a)),a}},Sy=typeof WeakMap=="function"?WeakMap:Map,Qe=0,tt=null,qe=null,$e=0,We=0,Kt=null,on=!1,ba=!1,Ro=!1,qs=0,ht=0,dn=0,Hn=0,Lo=0,is=0,Na=0,Ti=null,qt=null,Oo=!1,Ho=0,tr=1/0,sr=null,hn=null,Mt=0,un=null,wa=null,Sa=0,Bo=0,Uo=null,lm=null,ki=0,qo=null;function Pt(){if((Qe&2)!==0&&$e!==0)return $e&-$e;if(b.T!==null){var t=ha;return t!==0?t:Ko()}return Ge()}function rm(){is===0&&(is=($e&536870912)===0||Pe?Xa():536870912);var t=as.current;return t!==null&&(t.flags|=32),is}function Qt(t,s,a){(t===tt&&(We===2||We===9)||t.cancelPendingCommit!==null)&&(_a(t,0),fn(t,$e,is,!1)),Zt(t,a),((Qe&2)===0||t!==tt)&&(t===tt&&((Qe&2)===0&&(Hn|=a),ht===4&&fn(t,$e,is,!1)),ys(t))}function cm(t,s,a){if((Qe&6)!==0)throw Error(c(327));var l=!a&&(s&124)===0&&(s&t.expiredLanes)===0||Cs(t,s),d=l?My(t,s):Go(t,s,!0),u=l;do{if(d===0){ba&&!l&&fn(t,s,0,!1);break}else{if(a=t.current.alternate,u&&!_y(a)){d=Go(t,s,!1),u=!1;continue}if(d===2){if(u=s,t.errorRecoveryDisabledLanes&u)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){s=v;e:{var S=t;d=Ti;var $=S.current.memoizedState.isDehydrated;if($&&(_a(S,v).flags|=256),v=Go(S,v,!1),v!==2){if(Ro&&!$){S.errorRecoveryDisabledLanes|=u,Hn|=u,d=4;break e}u=qt,qt=d,u!==null&&(qt===null?qt=u:qt.push.apply(qt,u))}d=v}if(u=!1,d!==2)continue}}if(d===1){_a(t,0),fn(t,s,0,!0);break}e:{switch(l=t,u=d,u){case 0:case 1:throw Error(c(345));case 4:if((s&4194048)!==s)break;case 6:fn(l,s,is,!on);break e;case 2:qt=null;break;case 3:case 5:break;default:throw Error(c(329))}if((s&62914560)===s&&(d=Ho+300-Re(),10<d)){if(fn(l,s,is,!on),_s(l,0,!0)!==0)break e;l.timeoutHandle=Hm(om.bind(null,l,a,qt,sr,Oo,s,is,Hn,Na,on,u,2,-0,0),d);break e}om(l,a,qt,sr,Oo,s,is,Hn,Na,on,u,0,-0,0)}}break}while(!0);ys(t)}function om(t,s,a,l,d,u,v,S,$,le,oe,ue,re,ce){if(t.timeoutHandle=-1,ue=s.subtreeFlags,(ue&8192||(ue&16785408)===16785408)&&(Oi={stylesheets:null,count:0,unsuspend:l0},sm(s),ue=c0(),ue!==null)){t.cancelPendingCommit=ue(xm.bind(null,t,s,u,a,l,d,v,S,$,oe,1,re,ce)),fn(t,u,v,!le);return}xm(t,s,u,a,l,d,v,S,$)}function _y(t){for(var s=t;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],u=d.getSnapshot;d=d.value;try{if(!Gt(u(),d))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function fn(t,s,a,l){s&=~Lo,s&=~Hn,t.suspendedLanes|=s,t.pingedLanes&=~s,l&&(t.warmLanes|=s),l=t.expirationTimes;for(var d=s;0<d;){var u=31-Ve(d),v=1<<u;l[u]=-1,d&=~v}a!==0&&ul(t,a,s)}function nr(){return(Qe&6)===0?(Ai(0),!1):!0}function Yo(){if(qe!==null){if(We===0)var t=qe.return;else t=qe,zs=En=null,no(t),ga=null,vi=0,t=qe;for(;t!==null;)Vf(t.alternate,t),t=t.return;qe=null}}function _a(t,s){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Gy(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Yo(),tt=t,qe=a=ks(t.current,null),$e=s,We=0,Kt=null,on=!1,ba=Cs(t,s),Ro=!1,Na=is=Lo=Hn=dn=ht=0,qt=Ti=null,Oo=!1,(s&8)!==0&&(s|=s&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=s;0<l;){var d=31-Ve(l),u=1<<d;s|=t[d],l&=~u}return qs=s,_l(),a}function dm(t,s){He=null,b.H=$l,s===hi||s===Rl?(s=Cu(),We=3):s===wu?(s=Cu(),We=4):We=s===Tf?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Kt=s,qe===null&&(ht=1,Ql(t,es(s,t.current)))}function hm(){var t=b.H;return b.H=$l,t===null?$l:t}function um(){var t=b.A;return b.A=wy,t}function Vo(){ht=4,on||($e&4194048)!==$e&&as.current!==null||(ba=!0),(dn&134217727)===0&&(Hn&134217727)===0||tt===null||fn(tt,$e,is,!1)}function Go(t,s,a){var l=Qe;Qe|=2;var d=hm(),u=um();(tt!==t||$e!==s)&&(sr=null,_a(t,s)),s=!1;var v=ht;e:do try{if(We!==0&&qe!==null){var S=qe,$=Kt;switch(We){case 8:Yo(),v=6;break e;case 3:case 2:case 9:case 6:as.current===null&&(s=!0);var le=We;if(We=0,Kt=null,Ca(t,S,$,le),a&&ba){v=0;break e}break;default:le=We,We=0,Kt=null,Ca(t,S,$,le)}}Cy(),v=ht;break}catch(oe){dm(t,oe)}while(!0);return s&&t.shellSuspendCounter++,zs=En=null,Qe=l,b.H=d,b.A=u,qe===null&&(tt=null,$e=0,_l()),v}function Cy(){for(;qe!==null;)fm(qe)}function My(t,s){var a=Qe;Qe|=2;var l=hm(),d=um();tt!==t||$e!==s?(sr=null,tr=Re()+500,_a(t,s)):ba=Cs(t,s);e:do try{if(We!==0&&qe!==null){s=qe;var u=Kt;t:switch(We){case 1:We=0,Kt=null,Ca(t,s,u,1);break;case 2:case 9:if(Su(u)){We=0,Kt=null,mm(s);break}s=function(){We!==2&&We!==9||tt!==t||(We=7),ys(t)},u.then(s,s);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:Su(u)?(We=0,Kt=null,mm(s)):(We=0,Kt=null,Ca(t,s,u,7));break;case 5:var v=null;switch(qe.tag){case 26:v=qe.memoizedState;case 5:case 27:var S=qe;if(!v||Qm(v)){We=0,Kt=null;var $=S.sibling;if($!==null)qe=$;else{var le=S.return;le!==null?(qe=le,ar(le)):qe=null}break t}}We=0,Kt=null,Ca(t,s,u,5);break;case 6:We=0,Kt=null,Ca(t,s,u,6);break;case 8:Yo(),ht=6;break e;default:throw Error(c(462))}}Ty();break}catch(oe){dm(t,oe)}while(!0);return zs=En=null,b.H=l,b.A=d,Qe=a,qe!==null?0:(tt=null,$e=0,_l(),ht)}function Ty(){for(;qe!==null&&!Me();)fm(qe)}function fm(t){var s=qf(t.alternate,t,qs);t.memoizedProps=t.pendingProps,s===null?ar(t):qe=s}function mm(t){var s=t,a=s.alternate;switch(s.tag){case 15:case 0:s=Rf(a,s,s.pendingProps,s.type,void 0,$e);break;case 11:s=Rf(a,s,s.pendingProps,s.type.render,s.ref,$e);break;case 5:no(s);default:Vf(a,s),s=qe=mu(s,qs),s=qf(a,s,qs)}t.memoizedProps=t.pendingProps,s===null?ar(t):qe=s}function Ca(t,s,a,l){zs=En=null,no(s),ga=null,vi=0;var d=s.return;try{if(gy(t,d,s,a,$e)){ht=1,Ql(t,es(a,t.current)),qe=null;return}}catch(u){if(d!==null)throw qe=d,u;ht=1,Ql(t,es(a,t.current)),qe=null;return}s.flags&32768?(Pe||l===1?t=!0:ba||($e&536870912)!==0?t=!1:(on=t=!0,(l===2||l===9||l===3||l===6)&&(l=as.current,l!==null&&l.tag===13&&(l.flags|=16384))),pm(s,t)):ar(s)}function ar(t){var s=t;do{if((s.flags&32768)!==0){pm(s,on);return}t=s.return;var a=jy(s.alternate,s,qs);if(a!==null){qe=a;return}if(s=s.sibling,s!==null){qe=s;return}qe=s=t}while(s!==null);ht===0&&(ht=5)}function pm(t,s){do{var a=vy(t.alternate,t);if(a!==null){a.flags&=32767,qe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(t=t.sibling,t!==null)){qe=t;return}qe=t=a}while(t!==null);ht=6,qe=null}function xm(t,s,a,l,d,u,v,S,$){t.cancelPendingCommit=null;do ir();while(Mt!==0);if((Qe&6)!==0)throw Error(c(327));if(s!==null){if(s===t.current)throw Error(c(177));if(u=s.lanes|s.childLanes,u|=zc,Ws(t,a,u,v,S,$),t===tt&&(qe=tt=null,$e=0),wa=s,un=t,Sa=a,Bo=u,Uo=d,lm=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,zy(Se,function(){return bm(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=b.T,b.T=null,d=D.p,D.p=2,v=Qe,Qe|=4;try{by(t,s,a)}finally{Qe=v,D.p=d,b.T=l}}Mt=1,gm(),ym(),jm()}}function gm(){if(Mt===1){Mt=0;var t=un,s=wa,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=b.T,b.T=null;var l=D.p;D.p=2;var d=Qe;Qe|=4;try{Jf(s,t);var u=td,v=au(t.containerInfo),S=u.focusedElem,$=u.selectionRange;if(v!==S&&S&&S.ownerDocument&&nu(S.ownerDocument.documentElement,S)){if($!==null&&Mc(S)){var le=$.start,oe=$.end;if(oe===void 0&&(oe=le),"selectionStart"in S)S.selectionStart=le,S.selectionEnd=Math.min(oe,S.value.length);else{var ue=S.ownerDocument||document,re=ue&&ue.defaultView||window;if(re.getSelection){var ce=re.getSelection(),De=S.textContent.length,ke=Math.min($.start,De),Je=$.end===void 0?ke:Math.min($.end,De);!ce.extend&&ke>Je&&(v=Je,Je=ke,ke=v);var ne=su(S,ke),W=su(S,Je);if(ne&&W&&(ce.rangeCount!==1||ce.anchorNode!==ne.node||ce.anchorOffset!==ne.offset||ce.focusNode!==W.node||ce.focusOffset!==W.offset)){var ie=ue.createRange();ie.setStart(ne.node,ne.offset),ce.removeAllRanges(),ke>Je?(ce.addRange(ie),ce.extend(W.node,W.offset)):(ie.setEnd(W.node,W.offset),ce.addRange(ie))}}}}for(ue=[],ce=S;ce=ce.parentNode;)ce.nodeType===1&&ue.push({element:ce,left:ce.scrollLeft,top:ce.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ue.length;S++){var he=ue[S];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}gr=!!ed,td=ed=null}finally{Qe=d,D.p=l,b.T=a}}t.current=s,Mt=2}}function ym(){if(Mt===2){Mt=0;var t=un,s=wa,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=b.T,b.T=null;var l=D.p;D.p=2;var d=Qe;Qe|=4;try{Qf(t,s.alternate,s)}finally{Qe=d,D.p=l,b.T=a}}Mt=3}}function jm(){if(Mt===4||Mt===3){Mt=0,Ce();var t=un,s=wa,a=Sa,l=lm;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Mt=5:(Mt=0,wa=un=null,vm(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(hn=null),Fn(a),s=s.stateNode,be&&typeof be.onCommitFiberRoot=="function")try{be.onCommitFiberRoot(me,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=b.T,d=D.p,D.p=2,b.T=null;try{for(var u=t.onRecoverableError,v=0;v<l.length;v++){var S=l[v];u(S.value,{componentStack:S.stack})}}finally{b.T=s,D.p=d}}(Sa&3)!==0&&ir(),ys(t),d=t.pendingLanes,(a&4194090)!==0&&(d&42)!==0?t===qo?ki++:(ki=0,qo=t):ki=0,Ai(0)}}function vm(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,oi(s)))}function ir(t){return gm(),ym(),jm(),bm()}function bm(){if(Mt!==5)return!1;var t=un,s=Bo;Bo=0;var a=Fn(Sa),l=b.T,d=D.p;try{D.p=32>a?32:a,b.T=null,a=Uo,Uo=null;var u=un,v=Sa;if(Mt=0,wa=un=null,Sa=0,(Qe&6)!==0)throw Error(c(331));var S=Qe;if(Qe|=4,am(u.current),tm(u,u.current,v,a),Qe=S,Ai(0,!1),be&&typeof be.onPostCommitFiberRoot=="function")try{be.onPostCommitFiberRoot(me,u)}catch{}return!0}finally{D.p=d,b.T=l,vm(t,s)}}function Nm(t,s,a){s=es(a,s),s=yo(t.stateNode,s,2),t=tn(t,s,2),t!==null&&(Zt(t,2),ys(t))}function et(t,s,a){if(t.tag===3)Nm(t,t,a);else for(;s!==null;){if(s.tag===3){Nm(s,t,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(hn===null||!hn.has(l))){t=es(a,t),a=Cf(2),l=tn(s,a,2),l!==null&&(Mf(a,l,s,t),Zt(l,2),ys(l));break}}s=s.return}}function $o(t,s,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Sy;var d=new Set;l.set(s,d)}else d=l.get(s),d===void 0&&(d=new Set,l.set(s,d));d.has(a)||(Ro=!0,d.add(a),t=ky.bind(null,t,s,a),s.then(t,t))}function ky(t,s,a){var l=t.pingCache;l!==null&&l.delete(s),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,tt===t&&($e&a)===a&&(ht===4||ht===3&&($e&62914560)===$e&&300>Re()-Ho?(Qe&2)===0&&_a(t,0):Lo|=a,Na===$e&&(Na=0)),ys(t)}function wm(t,s){s===0&&(s=Fa()),t=ra(t,s),t!==null&&(Zt(t,s),ys(t))}function Ay(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),wm(t,a)}function Ey(t,s){var a=0;switch(t.tag){case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(c(314))}l!==null&&l.delete(s),wm(t,a)}function zy(t,s){return xe(t,s)}var lr=null,Ma=null,Xo=!1,rr=!1,Fo=!1,Bn=0;function ys(t){t!==Ma&&t.next===null&&(Ma===null?lr=Ma=t:Ma=Ma.next=t),rr=!0,Xo||(Xo=!0,Ry())}function Ai(t,s){if(!Fo&&rr){Fo=!0;do for(var a=!1,l=lr;l!==null;){if(t!==0){var d=l.pendingLanes;if(d===0)var u=0;else{var v=l.suspendedLanes,S=l.pingedLanes;u=(1<<31-Ve(42|t)+1)-1,u&=d&~(v&~S),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(a=!0,Mm(l,u))}else u=$e,u=_s(l,l===tt?u:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(u&3)===0||Cs(l,u)||(a=!0,Mm(l,u));l=l.next}while(a);Fo=!1}}function Dy(){Sm()}function Sm(){rr=Xo=!1;var t=0;Bn!==0&&(Vy()&&(t=Bn),Bn=0);for(var s=Re(),a=null,l=lr;l!==null;){var d=l.next,u=_m(l,s);u===0?(l.next=null,a===null?lr=d:a.next=d,d===null&&(Ma=a)):(a=l,(t!==0||(u&3)!==0)&&(rr=!0)),l=d}Ai(t)}function _m(t,s){for(var a=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,u=t.pendingLanes&-62914561;0<u;){var v=31-Ve(u),S=1<<v,$=d[v];$===-1?((S&a)===0||(S&l)!==0)&&(d[v]=bn(S,s)):$<=s&&(t.expiredLanes|=S),u&=~S}if(s=tt,a=$e,a=_s(t,t===s?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===s&&(We===2||We===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ve(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Cs(t,a)){if(s=a&-a,s===t.callbackPriority)return s;switch(l!==null&&ve(l),Fn(a)){case 2:case 8:a=ye;break;case 32:a=Se;break;case 268435456:a=_e;break;default:a=Se}return l=Cm.bind(null,t),a=xe(a,l),t.callbackPriority=s,t.callbackNode=a,s}return l!==null&&l!==null&&ve(l),t.callbackPriority=2,t.callbackNode=null,2}function Cm(t,s){if(Mt!==0&&Mt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(ir()&&t.callbackNode!==a)return null;var l=$e;return l=_s(t,t===tt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(cm(t,l,s),_m(t,Re()),t.callbackNode!=null&&t.callbackNode===a?Cm.bind(null,t):null)}function Mm(t,s){if(ir())return null;cm(t,s,!0)}function Ry(){$y(function(){(Qe&6)!==0?xe(fe,Dy):Sm()})}function Ko(){return Bn===0&&(Bn=Xa()),Bn}function Tm(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:yl(""+t)}function km(t,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,t.id&&a.setAttribute("form",t.id),s.parentNode.insertBefore(a,s),t=new FormData(t),a.parentNode.removeChild(a),t}function Ly(t,s,a,l,d){if(s==="submit"&&a&&a.stateNode===d){var u=Tm((d[kt]||null).action),v=l.submitter;v&&(s=(s=v[kt]||null)?Tm(s.formAction):v.getAttribute("formAction"),s!==null&&(u=s,v=null));var S=new Nl("action","action",null,l,d);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Bn!==0){var $=v?km(d,v):new FormData(d);fo(a,{pending:!0,data:$,method:d.method,action:u},null,$)}}else typeof u=="function"&&(S.preventDefault(),$=v?km(d,v):new FormData(d),fo(a,{pending:!0,data:$,method:d.method,action:u},u,$))},currentTarget:d}]})}}for(var Po=0;Po<Ec.length;Po++){var Qo=Ec[Po],Oy=Qo.toLowerCase(),Hy=Qo[0].toUpperCase()+Qo.slice(1);cs(Oy,"on"+Hy)}cs(ru,"onAnimationEnd"),cs(cu,"onAnimationIteration"),cs(ou,"onAnimationStart"),cs("dblclick","onDoubleClick"),cs("focusin","onFocus"),cs("focusout","onBlur"),cs(ey,"onTransitionRun"),cs(ty,"onTransitionStart"),cs(sy,"onTransitionCancel"),cs(du,"onTransitionEnd"),Zn("onMouseEnter",["mouseout","mouseover"]),Zn("onMouseLeave",["mouseout","mouseover"]),Zn("onPointerEnter",["pointerout","pointerover"]),Zn("onPointerLeave",["pointerout","pointerover"]),Nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Nn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ei="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),By=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ei));function Am(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],d=l.event;l=l.listeners;e:{var u=void 0;if(s)for(var v=l.length-1;0<=v;v--){var S=l[v],$=S.instance,le=S.currentTarget;if(S=S.listener,$!==u&&d.isPropagationStopped())break e;u=S,d.currentTarget=le;try{u(d)}catch(oe){Pl(oe)}d.currentTarget=null,u=$}else for(v=0;v<l.length;v++){if(S=l[v],$=S.instance,le=S.currentTarget,S=S.listener,$!==u&&d.isPropagationStopped())break e;u=S,d.currentTarget=le;try{u(d)}catch(oe){Pl(oe)}d.currentTarget=null,u=$}}}}function Ye(t,s){var a=s[rc];a===void 0&&(a=s[rc]=new Set);var l=t+"__bubble";a.has(l)||(Em(s,t,2,!1),a.add(l))}function Wo(t,s,a){var l=0;s&&(l|=4),Em(a,t,l,s)}var cr="_reactListening"+Math.random().toString(36).slice(2);function Zo(t){if(!t[cr]){t[cr]=!0,wh.forEach(function(a){a!=="selectionchange"&&(By.has(a)||Wo(a,!1,t),Wo(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[cr]||(s[cr]=!0,Wo("selectionchange",!1,s))}}function Em(t,s,a,l){switch(tp(s)){case 2:var d=h0;break;case 8:d=u0;break;default:d=hd}a=d.bind(null,s,a,t),d=void 0,!yc||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(s,a,{capture:!0,passive:d}):t.addEventListener(s,a,!0):d!==void 0?t.addEventListener(s,a,{passive:d}):t.addEventListener(s,a,!1)}function Io(t,s,a,l,d){var u=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var S=l.stateNode.containerInfo;if(S===d)break;if(v===4)for(v=l.return;v!==null;){var $=v.tag;if(($===3||$===4)&&v.stateNode.containerInfo===d)return;v=v.return}for(;S!==null;){if(v=Pn(S),v===null)return;if($=v.tag,$===5||$===6||$===26||$===27){l=u=v;continue e}S=S.parentNode}}l=l.return}Hh(function(){var le=u,oe=xc(a),ue=[];e:{var re=hu.get(t);if(re!==void 0){var ce=Nl,De=t;switch(t){case"keypress":if(vl(a)===0)break e;case"keydown":case"keyup":ce=zg;break;case"focusin":De="focus",ce=Nc;break;case"focusout":De="blur",ce=Nc;break;case"beforeblur":case"afterblur":ce=Nc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=qh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=vg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=Lg;break;case ru:case cu:case ou:ce=wg;break;case du:ce=Hg;break;case"scroll":case"scrollend":ce=yg;break;case"wheel":ce=Ug;break;case"copy":case"cut":case"paste":ce=_g;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=Vh;break;case"toggle":case"beforetoggle":ce=Yg}var ke=(s&4)!==0,Je=!ke&&(t==="scroll"||t==="scrollend"),ne=ke?re!==null?re+"Capture":null:re;ke=[];for(var W=le,ie;W!==null;){var he=W;if(ie=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||ie===null||ne===null||(he=Wa(W,ne),he!=null&&ke.push(zi(W,he,ie))),Je)break;W=W.return}0<ke.length&&(re=new ce(re,De,null,a,oe),ue.push({event:re,listeners:ke}))}}if((s&7)===0){e:{if(re=t==="mouseover"||t==="pointerover",ce=t==="mouseout"||t==="pointerout",re&&a!==pc&&(De=a.relatedTarget||a.fromElement)&&(Pn(De)||De[Kn]))break e;if((ce||re)&&(re=oe.window===oe?oe:(re=oe.ownerDocument)?re.defaultView||re.parentWindow:window,ce?(De=a.relatedTarget||a.toElement,ce=le,De=De?Pn(De):null,De!==null&&(Je=h(De),ke=De.tag,De!==Je||ke!==5&&ke!==27&&ke!==6)&&(De=null)):(ce=null,De=le),ce!==De)){if(ke=qh,he="onMouseLeave",ne="onMouseEnter",W="mouse",(t==="pointerout"||t==="pointerover")&&(ke=Vh,he="onPointerLeave",ne="onPointerEnter",W="pointer"),Je=ce==null?re:Qa(ce),ie=De==null?re:Qa(De),re=new ke(he,W+"leave",ce,a,oe),re.target=Je,re.relatedTarget=ie,he=null,Pn(oe)===le&&(ke=new ke(ne,W+"enter",De,a,oe),ke.target=ie,ke.relatedTarget=Je,he=ke),Je=he,ce&&De)t:{for(ke=ce,ne=De,W=0,ie=ke;ie;ie=Ta(ie))W++;for(ie=0,he=ne;he;he=Ta(he))ie++;for(;0<W-ie;)ke=Ta(ke),W--;for(;0<ie-W;)ne=Ta(ne),ie--;for(;W--;){if(ke===ne||ne!==null&&ke===ne.alternate)break t;ke=Ta(ke),ne=Ta(ne)}ke=null}else ke=null;ce!==null&&zm(ue,re,ce,ke,!1),De!==null&&Je!==null&&zm(ue,Je,De,ke,!0)}}e:{if(re=le?Qa(le):window,ce=re.nodeName&&re.nodeName.toLowerCase(),ce==="select"||ce==="input"&&re.type==="file")var Ne=Wh;else if(Ph(re))if(Zh)Ne=Zg;else{Ne=Qg;var Ue=Pg}else ce=re.nodeName,!ce||ce.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?le&&mc(le.elementType)&&(Ne=Wh):Ne=Wg;if(Ne&&(Ne=Ne(t,le))){Qh(ue,Ne,a,oe);break e}Ue&&Ue(t,re,le),t==="focusout"&&le&&re.type==="number"&&le.memoizedProps.value!=null&&fc(re,"number",re.value)}switch(Ue=le?Qa(le):window,t){case"focusin":(Ph(Ue)||Ue.contentEditable==="true")&&(aa=Ue,Tc=le,ai=null);break;case"focusout":ai=Tc=aa=null;break;case"mousedown":kc=!0;break;case"contextmenu":case"mouseup":case"dragend":kc=!1,iu(ue,a,oe);break;case"selectionchange":if(Jg)break;case"keydown":case"keyup":iu(ue,a,oe)}var Te;if(Sc)e:{switch(t){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else na?Fh(t,a)&&(Ae="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ae="onCompositionStart");Ae&&(Gh&&a.locale!=="ko"&&(na||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&na&&(Te=Bh()):(Zs=oe,jc="value"in Zs?Zs.value:Zs.textContent,na=!0)),Ue=or(le,Ae),0<Ue.length&&(Ae=new Yh(Ae,t,null,a,oe),ue.push({event:Ae,listeners:Ue}),Te?Ae.data=Te:(Te=Kh(a),Te!==null&&(Ae.data=Te)))),(Te=Gg?$g(t,a):Xg(t,a))&&(Ae=or(le,"onBeforeInput"),0<Ae.length&&(Ue=new Yh("onBeforeInput","beforeinput",null,a,oe),ue.push({event:Ue,listeners:Ae}),Ue.data=Te)),Ly(ue,t,le,a,oe)}Am(ue,s)})}function zi(t,s,a){return{instance:t,listener:s,currentTarget:a}}function or(t,s){for(var a=s+"Capture",l=[];t!==null;){var d=t,u=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||u===null||(d=Wa(t,a),d!=null&&l.unshift(zi(t,d,u)),d=Wa(t,s),d!=null&&l.push(zi(t,d,u))),t.tag===3)return l;t=t.return}return[]}function Ta(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function zm(t,s,a,l,d){for(var u=s._reactName,v=[];a!==null&&a!==l;){var S=a,$=S.alternate,le=S.stateNode;if(S=S.tag,$!==null&&$===l)break;S!==5&&S!==26&&S!==27||le===null||($=le,d?(le=Wa(a,u),le!=null&&v.unshift(zi(a,le,$))):d||(le=Wa(a,u),le!=null&&v.push(zi(a,le,$)))),a=a.return}v.length!==0&&t.push({event:s,listeners:v})}var Uy=/\r\n?/g,qy=/\u0000|\uFFFD/g;function Dm(t){return(typeof t=="string"?t:""+t).replace(Uy,`
`).replace(qy,"")}function Rm(t,s){return s=Dm(s),Dm(t)===s}function dr(){}function Ie(t,s,a,l,d,u){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||ea(t,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&ea(t,""+l);break;case"className":pl(t,"class",l);break;case"tabIndex":pl(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":pl(t,a,l);break;case"style":Lh(t,l,u);break;case"data":if(s!=="object"){pl(t,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=yl(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(a==="formAction"?(s!=="input"&&Ie(t,s,"name",d.name,d,null),Ie(t,s,"formEncType",d.formEncType,d,null),Ie(t,s,"formMethod",d.formMethod,d,null),Ie(t,s,"formTarget",d.formTarget,d,null)):(Ie(t,s,"encType",d.encType,d,null),Ie(t,s,"method",d.method,d,null),Ie(t,s,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=yl(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=dr);break;case"onScroll":l!=null&&Ye("scroll",t);break;case"onScrollEnd":l!=null&&Ye("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(c(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(c(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=yl(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ye("beforetoggle",t),Ye("toggle",t),ml(t,"popover",l);break;case"xlinkActuate":Ms(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ms(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ms(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ms(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ms(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ms(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ms(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ms(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ms(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ml(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=xg.get(a)||a,ml(t,a,l))}}function Jo(t,s,a,l,d,u){switch(a){case"style":Lh(t,l,u);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(c(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(c(60));t.innerHTML=a}}break;case"children":typeof l=="string"?ea(t,l):(typeof l=="number"||typeof l=="bigint")&&ea(t,""+l);break;case"onScroll":l!=null&&Ye("scroll",t);break;case"onScrollEnd":l!=null&&Ye("scrollend",t);break;case"onClick":l!=null&&(t.onclick=dr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sh.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),s=a.slice(2,d?a.length-7:void 0),u=t[kt]||null,u=u!=null?u[a]:null,typeof u=="function"&&t.removeEventListener(s,u,d),typeof l=="function")){typeof u!="function"&&u!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(s,l,d);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ml(t,a,l)}}}function Tt(t,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ye("error",t),Ye("load",t);var l=!1,d=!1,u;for(u in a)if(a.hasOwnProperty(u)){var v=a[u];if(v!=null)switch(u){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(c(137,s));default:Ie(t,s,u,v,a,null)}}d&&Ie(t,s,"srcSet",a.srcSet,a,null),l&&Ie(t,s,"src",a.src,a,null);return;case"input":Ye("invalid",t);var S=u=v=d=null,$=null,le=null;for(l in a)if(a.hasOwnProperty(l)){var oe=a[l];if(oe!=null)switch(l){case"name":d=oe;break;case"type":v=oe;break;case"checked":$=oe;break;case"defaultChecked":le=oe;break;case"value":u=oe;break;case"defaultValue":S=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(c(137,s));break;default:Ie(t,s,l,oe,a,null)}}Eh(t,u,S,$,le,v,d,!1),xl(t);return;case"select":Ye("invalid",t),l=v=u=null;for(d in a)if(a.hasOwnProperty(d)&&(S=a[d],S!=null))switch(d){case"value":u=S;break;case"defaultValue":v=S;break;case"multiple":l=S;default:Ie(t,s,d,S,a,null)}s=u,a=v,t.multiple=!!l,s!=null?Jn(t,!!l,s,!1):a!=null&&Jn(t,!!l,a,!0);return;case"textarea":Ye("invalid",t),u=d=l=null;for(v in a)if(a.hasOwnProperty(v)&&(S=a[v],S!=null))switch(v){case"value":l=S;break;case"defaultValue":d=S;break;case"children":u=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(c(91));break;default:Ie(t,s,v,S,a,null)}Dh(t,l,d,u),xl(t);return;case"option":for($ in a)if(a.hasOwnProperty($)&&(l=a[$],l!=null))switch($){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ie(t,s,$,l,a,null)}return;case"dialog":Ye("beforetoggle",t),Ye("toggle",t),Ye("cancel",t),Ye("close",t);break;case"iframe":case"object":Ye("load",t);break;case"video":case"audio":for(l=0;l<Ei.length;l++)Ye(Ei[l],t);break;case"image":Ye("error",t),Ye("load",t);break;case"details":Ye("toggle",t);break;case"embed":case"source":case"link":Ye("error",t),Ye("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(le in a)if(a.hasOwnProperty(le)&&(l=a[le],l!=null))switch(le){case"children":case"dangerouslySetInnerHTML":throw Error(c(137,s));default:Ie(t,s,le,l,a,null)}return;default:if(mc(s)){for(oe in a)a.hasOwnProperty(oe)&&(l=a[oe],l!==void 0&&Jo(t,s,oe,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&Ie(t,s,S,l,a,null))}function Yy(t,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,u=null,v=null,S=null,$=null,le=null,oe=null;for(ce in a){var ue=a[ce];if(a.hasOwnProperty(ce)&&ue!=null)switch(ce){case"checked":break;case"value":break;case"defaultValue":$=ue;default:l.hasOwnProperty(ce)||Ie(t,s,ce,null,l,ue)}}for(var re in l){var ce=l[re];if(ue=a[re],l.hasOwnProperty(re)&&(ce!=null||ue!=null))switch(re){case"type":u=ce;break;case"name":d=ce;break;case"checked":le=ce;break;case"defaultChecked":oe=ce;break;case"value":v=ce;break;case"defaultValue":S=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(c(137,s));break;default:ce!==ue&&Ie(t,s,re,ce,l,ue)}}uc(t,v,S,$,le,oe,u,d);return;case"select":ce=v=S=re=null;for(u in a)if($=a[u],a.hasOwnProperty(u)&&$!=null)switch(u){case"value":break;case"multiple":ce=$;default:l.hasOwnProperty(u)||Ie(t,s,u,null,l,$)}for(d in l)if(u=l[d],$=a[d],l.hasOwnProperty(d)&&(u!=null||$!=null))switch(d){case"value":re=u;break;case"defaultValue":S=u;break;case"multiple":v=u;default:u!==$&&Ie(t,s,d,u,l,$)}s=S,a=v,l=ce,re!=null?Jn(t,!!a,re,!1):!!l!=!!a&&(s!=null?Jn(t,!!a,s,!0):Jn(t,!!a,a?[]:"",!1));return;case"textarea":ce=re=null;for(S in a)if(d=a[S],a.hasOwnProperty(S)&&d!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Ie(t,s,S,null,l,d)}for(v in l)if(d=l[v],u=a[v],l.hasOwnProperty(v)&&(d!=null||u!=null))switch(v){case"value":re=d;break;case"defaultValue":ce=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(c(91));break;default:d!==u&&Ie(t,s,v,d,l,u)}zh(t,re,ce);return;case"option":for(var De in a)if(re=a[De],a.hasOwnProperty(De)&&re!=null&&!l.hasOwnProperty(De))switch(De){case"selected":t.selected=!1;break;default:Ie(t,s,De,null,l,re)}for($ in l)if(re=l[$],ce=a[$],l.hasOwnProperty($)&&re!==ce&&(re!=null||ce!=null))switch($){case"selected":t.selected=re&&typeof re!="function"&&typeof re!="symbol";break;default:Ie(t,s,$,re,l,ce)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ke in a)re=a[ke],a.hasOwnProperty(ke)&&re!=null&&!l.hasOwnProperty(ke)&&Ie(t,s,ke,null,l,re);for(le in l)if(re=l[le],ce=a[le],l.hasOwnProperty(le)&&re!==ce&&(re!=null||ce!=null))switch(le){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(c(137,s));break;default:Ie(t,s,le,re,l,ce)}return;default:if(mc(s)){for(var Je in a)re=a[Je],a.hasOwnProperty(Je)&&re!==void 0&&!l.hasOwnProperty(Je)&&Jo(t,s,Je,void 0,l,re);for(oe in l)re=l[oe],ce=a[oe],!l.hasOwnProperty(oe)||re===ce||re===void 0&&ce===void 0||Jo(t,s,oe,re,l,ce);return}}for(var ne in a)re=a[ne],a.hasOwnProperty(ne)&&re!=null&&!l.hasOwnProperty(ne)&&Ie(t,s,ne,null,l,re);for(ue in l)re=l[ue],ce=a[ue],!l.hasOwnProperty(ue)||re===ce||re==null&&ce==null||Ie(t,s,ue,re,l,ce)}var ed=null,td=null;function hr(t){return t.nodeType===9?t:t.ownerDocument}function Lm(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Om(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function sd(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var nd=null;function Vy(){var t=window.event;return t&&t.type==="popstate"?t===nd?!1:(nd=t,!0):(nd=null,!1)}var Hm=typeof setTimeout=="function"?setTimeout:void 0,Gy=typeof clearTimeout=="function"?clearTimeout:void 0,Bm=typeof Promise=="function"?Promise:void 0,$y=typeof queueMicrotask=="function"?queueMicrotask:typeof Bm<"u"?function(t){return Bm.resolve(null).then(t).catch(Xy)}:Hm;function Xy(t){setTimeout(function(){throw t})}function mn(t){return t==="head"}function Um(t,s){var a=s,l=0,d=0;do{var u=a.nextSibling;if(t.removeChild(a),u&&u.nodeType===8)if(a=u.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&Di(v.documentElement),a&2&&Di(v.body),a&4)for(a=v.head,Di(a),v=a.firstChild;v;){var S=v.nextSibling,$=v.nodeName;v[Pa]||$==="SCRIPT"||$==="STYLE"||$==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=S}}if(d===0){t.removeChild(u),Yi(s);return}d--}else a==="$"||a==="$?"||a==="$!"?d++:l=a.charCodeAt(0)-48;else l=0;a=u}while(a);Yi(s)}function ad(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ad(a),cc(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Fy(t,s,a,l){for(;t.nodeType===1;){var d=a;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Pa])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(u=t.getAttribute("rel"),u==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(u!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(u=t.getAttribute("src"),(u!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&u&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var u=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===u)return t}else return t;if(t=ds(t.nextSibling),t===null)break}return null}function Ky(t,s,a){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ds(t.nextSibling),t===null))return null;return t}function id(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Py(t,s){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ds(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return t}var ld=null;function qm(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return t;s--}else a==="/$"&&s++}t=t.previousSibling}return null}function Ym(t,s,a){switch(s=hr(a),t){case"html":if(t=s.documentElement,!t)throw Error(c(452));return t;case"head":if(t=s.head,!t)throw Error(c(453));return t;case"body":if(t=s.body,!t)throw Error(c(454));return t;default:throw Error(c(451))}}function Di(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);cc(t)}var ls=new Map,Vm=new Set;function ur(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ys=D.d;D.d={f:Qy,r:Wy,D:Zy,C:Iy,L:Jy,m:e0,X:s0,S:t0,M:n0};function Qy(){var t=Ys.f(),s=nr();return t||s}function Wy(t){var s=Qn(t);s!==null&&s.tag===5&&s.type==="form"?cf(s):Ys.r(t)}var ka=typeof document>"u"?null:document;function Gm(t,s,a){var l=ka;if(l&&typeof s=="string"&&s){var d=Jt(s);d='link[rel="'+t+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),Vm.has(d)||(Vm.add(d),t={rel:t,crossOrigin:a,href:s},l.querySelector(d)===null&&(s=l.createElement("link"),Tt(s,"link",t),Nt(s),l.head.appendChild(s)))}}function Zy(t){Ys.D(t),Gm("dns-prefetch",t,null)}function Iy(t,s){Ys.C(t,s),Gm("preconnect",t,s)}function Jy(t,s,a){Ys.L(t,s,a);var l=ka;if(l&&t&&s){var d='link[rel="preload"][as="'+Jt(s)+'"]';s==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+Jt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+Jt(a.imageSizes)+'"]')):d+='[href="'+Jt(t)+'"]';var u=d;switch(s){case"style":u=Aa(t);break;case"script":u=Ea(t)}ls.has(u)||(t=g({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:t,as:s},a),ls.set(u,t),l.querySelector(d)!==null||s==="style"&&l.querySelector(Ri(u))||s==="script"&&l.querySelector(Li(u))||(s=l.createElement("link"),Tt(s,"link",t),Nt(s),l.head.appendChild(s)))}}function e0(t,s){Ys.m(t,s);var a=ka;if(a&&t){var l=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+Jt(l)+'"][href="'+Jt(t)+'"]',u=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=Ea(t)}if(!ls.has(u)&&(t=g({rel:"modulepreload",href:t},s),ls.set(u,t),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Li(u)))return}l=a.createElement("link"),Tt(l,"link",t),Nt(l),a.head.appendChild(l)}}}function t0(t,s,a){Ys.S(t,s,a);var l=ka;if(l&&t){var d=Wn(l).hoistableStyles,u=Aa(t);s=s||"default";var v=d.get(u);if(!v){var S={loading:0,preload:null};if(v=l.querySelector(Ri(u)))S.loading=5;else{t=g({rel:"stylesheet",href:t,"data-precedence":s},a),(a=ls.get(u))&&rd(t,a);var $=v=l.createElement("link");Nt($),Tt($,"link",t),$._p=new Promise(function(le,oe){$.onload=le,$.onerror=oe}),$.addEventListener("load",function(){S.loading|=1}),$.addEventListener("error",function(){S.loading|=2}),S.loading|=4,fr(v,s,l)}v={type:"stylesheet",instance:v,count:1,state:S},d.set(u,v)}}}function s0(t,s){Ys.X(t,s);var a=ka;if(a&&t){var l=Wn(a).hoistableScripts,d=Ea(t),u=l.get(d);u||(u=a.querySelector(Li(d)),u||(t=g({src:t,async:!0},s),(s=ls.get(d))&&cd(t,s),u=a.createElement("script"),Nt(u),Tt(u,"link",t),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},l.set(d,u))}}function n0(t,s){Ys.M(t,s);var a=ka;if(a&&t){var l=Wn(a).hoistableScripts,d=Ea(t),u=l.get(d);u||(u=a.querySelector(Li(d)),u||(t=g({src:t,async:!0,type:"module"},s),(s=ls.get(d))&&cd(t,s),u=a.createElement("script"),Nt(u),Tt(u,"link",t),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},l.set(d,u))}}function $m(t,s,a,l){var d=(d=A.current)?ur(d):null;if(!d)throw Error(c(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Aa(a.href),a=Wn(d).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Aa(a.href);var u=Wn(d).hoistableStyles,v=u.get(t);if(v||(d=d.ownerDocument||d,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(t,v),(u=d.querySelector(Ri(t)))&&!u._p&&(v.instance=u,v.state.loading=5),ls.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ls.set(t,a),u||a0(d,t,a,v.state))),s&&l===null)throw Error(c(528,""));return v}if(s&&l!==null)throw Error(c(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ea(a),a=Wn(d).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(c(444,t))}}function Aa(t){return'href="'+Jt(t)+'"'}function Ri(t){return'link[rel="stylesheet"]['+t+"]"}function Xm(t){return g({},t,{"data-precedence":t.precedence,precedence:null})}function a0(t,s,a,l){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=t.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Tt(s,"link",a),Nt(s),t.head.appendChild(s))}function Ea(t){return'[src="'+Jt(t)+'"]'}function Li(t){return"script[async]"+t}function Fm(t,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=t.querySelector('style[data-href~="'+Jt(a.href)+'"]');if(l)return s.instance=l,Nt(l),l;var d=g({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Nt(l),Tt(l,"style",d),fr(l,a.precedence,t),s.instance=l;case"stylesheet":d=Aa(a.href);var u=t.querySelector(Ri(d));if(u)return s.state.loading|=4,s.instance=u,Nt(u),u;l=Xm(a),(d=ls.get(d))&&rd(l,d),u=(t.ownerDocument||t).createElement("link"),Nt(u);var v=u;return v._p=new Promise(function(S,$){v.onload=S,v.onerror=$}),Tt(u,"link",l),s.state.loading|=4,fr(u,a.precedence,t),s.instance=u;case"script":return u=Ea(a.src),(d=t.querySelector(Li(u)))?(s.instance=d,Nt(d),d):(l=a,(d=ls.get(u))&&(l=g({},a),cd(l,d)),t=t.ownerDocument||t,d=t.createElement("script"),Nt(d),Tt(d,"link",l),t.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(c(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,fr(l,a.precedence,t));return s.instance}function fr(t,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,u=d,v=0;v<l.length;v++){var S=l[v];if(S.dataset.precedence===s)u=S;else if(u!==d)break}u?u.parentNode.insertBefore(t,u.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(t,s.firstChild))}function rd(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function cd(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var mr=null;function Km(t,s,a){if(mr===null){var l=new Map,d=mr=new Map;d.set(a,l)}else d=mr,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),d=0;d<a.length;d++){var u=a[d];if(!(u[Pa]||u[mt]||t==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var v=u.getAttribute(s)||"";v=t+v;var S=l.get(v);S?S.push(u):l.set(v,[u])}}return l}function Pm(t,s,a){t=t.ownerDocument||t,t.head.insertBefore(a,s==="title"?t.querySelector("head > title"):null)}function i0(t,s,a){if(a===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Qm(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Oi=null;function l0(){}function r0(t,s,a){if(Oi===null)throw Error(c(475));var l=Oi;if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var d=Aa(a.href),u=t.querySelector(Ri(d));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=pr.bind(l),t.then(l,l)),s.state.loading|=4,s.instance=u,Nt(u);return}u=t.ownerDocument||t,a=Xm(a),(d=ls.get(d))&&rd(a,d),u=u.createElement("link"),Nt(u);var v=u;v._p=new Promise(function(S,$){v.onload=S,v.onerror=$}),Tt(u,"link",a),s.instance=u}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(s,t),(t=s.state.preload)&&(s.state.loading&3)===0&&(l.count++,s=pr.bind(l),t.addEventListener("load",s),t.addEventListener("error",s))}}function c0(){if(Oi===null)throw Error(c(475));var t=Oi;return t.stylesheets&&t.count===0&&od(t,t.stylesheets),0<t.count?function(s){var a=setTimeout(function(){if(t.stylesheets&&od(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(a)}}:null}function pr(){if(this.count--,this.count===0){if(this.stylesheets)od(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var xr=null;function od(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,xr=new Map,s.forEach(o0,t),xr=null,pr.call(t))}function o0(t,s){if(!(s.state.loading&4)){var a=xr.get(t);if(a)var l=a.get(null);else{a=new Map,xr.set(t,a);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<d.length;u++){var v=d[u];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}d=s.instance,v=d.getAttribute("data-precedence"),u=a.get(v)||l,u===l&&a.set(null,d),a.set(v,d),this.count++,l=pr.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),u?u.parentNode.insertBefore(d,u.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),s.state.loading|=4}}var Hi={$$typeof:F,Provider:null,Consumer:null,_currentValue:Y,_currentValue2:Y,_threadCount:0};function d0(t,s,a,l,d,u,v,S){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xn(0),this.hiddenUpdates=Xn(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=u,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Wm(t,s,a,l,d,u,v,S,$,le,oe,ue){return t=new d0(t,s,a,v,S,$,le,ue),s=1,u===!0&&(s|=24),u=$t(3,null,null,s),t.current=u,u.stateNode=t,s=Gc(),s.refCount++,t.pooledCache=s,s.refCount++,u.memoizedState={element:l,isDehydrated:a,cache:s},Kc(u),t}function Zm(t){return t?(t=ca,t):ca}function Im(t,s,a,l,d,u){d=Zm(d),l.context===null?l.context=d:l.pendingContext=d,l=en(s),l.payload={element:a},u=u===void 0?null:u,u!==null&&(l.callback=u),a=tn(t,l,s),a!==null&&(Qt(a,t,s),fi(a,t,s))}function Jm(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function dd(t,s){Jm(t,s),(t=t.alternate)&&Jm(t,s)}function ep(t){if(t.tag===13){var s=ra(t,67108864);s!==null&&Qt(s,t,67108864),dd(t,67108864)}}var gr=!0;function h0(t,s,a,l){var d=b.T;b.T=null;var u=D.p;try{D.p=2,hd(t,s,a,l)}finally{D.p=u,b.T=d}}function u0(t,s,a,l){var d=b.T;b.T=null;var u=D.p;try{D.p=8,hd(t,s,a,l)}finally{D.p=u,b.T=d}}function hd(t,s,a,l){if(gr){var d=ud(l);if(d===null)Io(t,s,l,yr,a),sp(t,l);else if(m0(d,t,s,a,l))l.stopPropagation();else if(sp(t,l),s&4&&-1<f0.indexOf(t)){for(;d!==null;){var u=Qn(d);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var v=gt(u.pendingLanes);if(v!==0){var S=u;for(S.pendingLanes|=2,S.entangledLanes|=2;v;){var $=1<<31-Ve(v);S.entanglements[1]|=$,v&=~$}ys(u),(Qe&6)===0&&(tr=Re()+500,Ai(0))}}break;case 13:S=ra(u,2),S!==null&&Qt(S,u,2),nr(),dd(u,2)}if(u=ud(l),u===null&&Io(t,s,l,yr,a),u===d)break;d=u}d!==null&&l.stopPropagation()}else Io(t,s,l,null,a)}}function ud(t){return t=xc(t),fd(t)}var yr=null;function fd(t){if(yr=null,t=Pn(t),t!==null){var s=h(t);if(s===null)t=null;else{var a=s.tag;if(a===13){if(t=f(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return yr=t,null}function tp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xe()){case fe:return 2;case ye:return 8;case Se:case je:return 32;case _e:return 268435456;default:return 32}default:return 32}}var md=!1,pn=null,xn=null,gn=null,Bi=new Map,Ui=new Map,yn=[],f0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sp(t,s){switch(t){case"focusin":case"focusout":pn=null;break;case"dragenter":case"dragleave":xn=null;break;case"mouseover":case"mouseout":gn=null;break;case"pointerover":case"pointerout":Bi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ui.delete(s.pointerId)}}function qi(t,s,a,l,d,u){return t===null||t.nativeEvent!==u?(t={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:u,targetContainers:[d]},s!==null&&(s=Qn(s),s!==null&&ep(s)),t):(t.eventSystemFlags|=l,s=t.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),t)}function m0(t,s,a,l,d){switch(s){case"focusin":return pn=qi(pn,t,s,a,l,d),!0;case"dragenter":return xn=qi(xn,t,s,a,l,d),!0;case"mouseover":return gn=qi(gn,t,s,a,l,d),!0;case"pointerover":var u=d.pointerId;return Bi.set(u,qi(Bi.get(u)||null,t,s,a,l,d)),!0;case"gotpointercapture":return u=d.pointerId,Ui.set(u,qi(Ui.get(u)||null,t,s,a,l,d)),!0}return!1}function np(t){var s=Pn(t.target);if(s!==null){var a=h(s);if(a!==null){if(s=a.tag,s===13){if(s=f(a),s!==null){t.blockedOn=s,Vt(t.priority,function(){if(a.tag===13){var l=Pt();l=Ka(l);var d=ra(a,l);d!==null&&Qt(d,a,l),dd(a,l)}});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function jr(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=ud(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);pc=l,a.target.dispatchEvent(l),pc=null}else return s=Qn(a),s!==null&&ep(s),t.blockedOn=a,!1;s.shift()}return!0}function ap(t,s,a){jr(t)&&a.delete(s)}function p0(){md=!1,pn!==null&&jr(pn)&&(pn=null),xn!==null&&jr(xn)&&(xn=null),gn!==null&&jr(gn)&&(gn=null),Bi.forEach(ap),Ui.forEach(ap)}function vr(t,s){t.blockedOn===s&&(t.blockedOn=null,md||(md=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,p0)))}var br=null;function ip(t){br!==t&&(br=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){br===t&&(br=null);for(var s=0;s<t.length;s+=3){var a=t[s],l=t[s+1],d=t[s+2];if(typeof l!="function"){if(fd(l||a)===null)continue;break}var u=Qn(a);u!==null&&(t.splice(s,3),s-=3,fo(u,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function Yi(t){function s($){return vr($,t)}pn!==null&&vr(pn,t),xn!==null&&vr(xn,t),gn!==null&&vr(gn,t),Bi.forEach(s),Ui.forEach(s);for(var a=0;a<yn.length;a++){var l=yn[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<yn.length&&(a=yn[0],a.blockedOn===null);)np(a),a.blockedOn===null&&yn.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],u=a[l+1],v=d[kt]||null;if(typeof u=="function")v||ip(a);else if(v){var S=null;if(u&&u.hasAttribute("formAction")){if(d=u,v=u[kt]||null)S=v.formAction;else if(fd(d)!==null)continue}else S=v.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),ip(a)}}}function pd(t){this._internalRoot=t}Nr.prototype.render=pd.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(c(409));var a=s.current,l=Pt();Im(a,l,t,s,null,null)},Nr.prototype.unmount=pd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Im(t.current,2,null,t,null,null),nr(),s[Kn]=null}};function Nr(t){this._internalRoot=t}Nr.prototype.unstable_scheduleHydration=function(t){if(t){var s=Ge();t={blockedOn:null,target:t,priority:s};for(var a=0;a<yn.length&&s!==0&&s<yn[a].priority;a++);yn.splice(a,0,t),a===0&&np(t)}};var lp=i.version;if(lp!=="19.1.1")throw Error(c(527,lp,"19.1.1"));D.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(c(188)):(t=Object.keys(t).join(","),Error(c(268,t)));return t=x(s),t=t!==null?m(t):null,t=t===null?null:t.stateNode,t};var x0={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:b,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wr.isDisabled&&wr.supportsFiber)try{me=wr.inject(x0),be=wr}catch{}}return Gi.createRoot=function(t,s){if(!o(t))throw Error(c(299));var a=!1,l="",d=Nf,u=wf,v=Sf,S=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(u=s.onCaughtError),s.onRecoverableError!==void 0&&(v=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(S=s.unstable_transitionCallbacks)),s=Wm(t,1,!1,null,null,a,l,d,u,v,S,null),t[Kn]=s.current,Zo(t),new pd(s)},Gi.hydrateRoot=function(t,s,a){if(!o(t))throw Error(c(299));var l=!1,d="",u=Nf,v=wf,S=Sf,$=null,le=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(u=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&($=a.unstable_transitionCallbacks),a.formState!==void 0&&(le=a.formState)),s=Wm(t,1,!0,s,a??null,l,d,u,v,S,$,le),s.context=Zm(null),a=s.current,l=Pt(),l=Ka(l),d=en(l),d.callback=null,tn(a,d,l),a=l,s.current.lanes=a,Zt(s,a),ys(s),t[Kn]=s.current,Zo(t),new Nr(s)},Gi.version="19.1.1",Gi}var xp;function C0(){if(xp)return gd.exports;xp=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(i){console.error(i)}}return n(),gd.exports=_0(),gd.exports}var M0=C0(),_=sh();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var gp="popstate";function T0(n={}){function i(c,o){let{pathname:h,search:f,hash:p}=c.location;return Hd("",{pathname:h,search:f,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(c,o){return typeof o=="string"?o:Ii(o)}return A0(i,r,null,n)}function ot(n,i){if(n===!1||n===null||typeof n>"u")throw new Error(i)}function bs(n,i){if(!n){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function k0(){return Math.random().toString(36).substring(2,10)}function yp(n,i){return{usr:n.state,key:n.key,idx:i}}function Hd(n,i,r=null,c){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof i=="string"?Ga(i):i,state:r,key:i&&i.key||c||k0()}}function Ii({pathname:n="/",search:i="",hash:r=""}){return i&&i!=="?"&&(n+=i.charAt(0)==="?"?i:"?"+i),r&&r!=="#"&&(n+=r.charAt(0)==="#"?r:"#"+r),n}function Ga(n){let i={};if(n){let r=n.indexOf("#");r>=0&&(i.hash=n.substring(r),n=n.substring(0,r));let c=n.indexOf("?");c>=0&&(i.search=n.substring(c),n=n.substring(0,c)),n&&(i.pathname=n)}return i}function A0(n,i,r,c={}){let{window:o=document.defaultView,v5Compat:h=!1}=c,f=o.history,p="POP",x=null,m=g();m==null&&(m=0,f.replaceState({...f.state,idx:m},""));function g(){return(f.state||{idx:null}).idx}function y(){p="POP";let R=g(),z=R==null?null:R-m;m=R,x&&x({action:p,location:M.location,delta:z})}function j(R,z){p="PUSH";let H=Hd(M.location,R,z);m=g()+1;let F=yp(H,m),L=M.createHref(H);try{f.pushState(F,"",L)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;o.location.assign(L)}h&&x&&x({action:p,location:M.location,delta:1})}function w(R,z){p="REPLACE";let H=Hd(M.location,R,z);m=g();let F=yp(H,m),L=M.createHref(H);f.replaceState(F,"",L),h&&x&&x({action:p,location:M.location,delta:0})}function B(R){return E0(R)}let M={get action(){return p},get location(){return n(o,f)},listen(R){if(x)throw new Error("A history only accepts one active listener");return o.addEventListener(gp,y),x=R,()=>{o.removeEventListener(gp,y),x=null}},createHref(R){return i(o,R)},createURL:B,encodeLocation(R){let z=B(R);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:j,replace:w,go(R){return f.go(R)}};return M}function E0(n,i=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),ot(r,"No window.location.(origin|href) available to create URL");let c=typeof n=="string"?n:Ii(n);return c=c.replace(/ $/,"%20"),!i&&c.startsWith("//")&&(c=r+c),new URL(c,r)}function lx(n,i,r="/"){return z0(n,i,r,!1)}function z0(n,i,r,c){let o=typeof i=="string"?Ga(i):i,h=Fs(o.pathname||"/",r);if(h==null)return null;let f=rx(n);D0(f);let p=null;for(let x=0;p==null&&x<f.length;++x){let m=$0(h);p=V0(f[x],m,c)}return p}function rx(n,i=[],r=[],c="",o=!1){let h=(f,p,x=o,m)=>{let g={relativePath:m===void 0?f.path||"":m,caseSensitive:f.caseSensitive===!0,childrenIndex:p,route:f};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(c)&&x)return;ot(g.relativePath.startsWith(c),`Absolute route path "${g.relativePath}" nested under path "${c}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(c.length)}let y=$s([c,g.relativePath]),j=r.concat(g);f.children&&f.children.length>0&&(ot(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),rx(f.children,i,j,y,x)),!(f.path==null&&!f.index)&&i.push({path:y,score:q0(y,f.index),routesMeta:j})};return n.forEach((f,p)=>{if(f.path===""||!f.path?.includes("?"))h(f,p);else for(let x of cx(f.path))h(f,p,!0,x)}),i}function cx(n){let i=n.split("/");if(i.length===0)return[];let[r,...c]=i,o=r.endsWith("?"),h=r.replace(/\?$/,"");if(c.length===0)return o?[h,""]:[h];let f=cx(c.join("/")),p=[];return p.push(...f.map(x=>x===""?h:[h,x].join("/"))),o&&p.push(...f),p.map(x=>n.startsWith("/")&&x===""?"/":x)}function D0(n){n.sort((i,r)=>i.score!==r.score?r.score-i.score:Y0(i.routesMeta.map(c=>c.childrenIndex),r.routesMeta.map(c=>c.childrenIndex)))}var R0=/^:[\w-]+$/,L0=3,O0=2,H0=1,B0=10,U0=-2,jp=n=>n==="*";function q0(n,i){let r=n.split("/"),c=r.length;return r.some(jp)&&(c+=U0),i&&(c+=O0),r.filter(o=>!jp(o)).reduce((o,h)=>o+(R0.test(h)?L0:h===""?H0:B0),c)}function Y0(n,i){return n.length===i.length&&n.slice(0,-1).every((c,o)=>c===i[o])?n[n.length-1]-i[i.length-1]:0}function V0(n,i,r=!1){let{routesMeta:c}=n,o={},h="/",f=[];for(let p=0;p<c.length;++p){let x=c[p],m=p===c.length-1,g=h==="/"?i:i.slice(h.length)||"/",y=Vr({path:x.relativePath,caseSensitive:x.caseSensitive,end:m},g),j=x.route;if(!y&&m&&r&&!c[c.length-1].route.index&&(y=Vr({path:x.relativePath,caseSensitive:x.caseSensitive,end:!1},g)),!y)return null;Object.assign(o,y.params),f.push({params:o,pathname:$s([h,y.pathname]),pathnameBase:P0($s([h,y.pathnameBase])),route:j}),y.pathnameBase!=="/"&&(h=$s([h,y.pathnameBase]))}return f}function Vr(n,i){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[r,c]=G0(n.path,n.caseSensitive,n.end),o=i.match(r);if(!o)return null;let h=o[0],f=h.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:c.reduce((m,{paramName:g,isOptional:y},j)=>{if(g==="*"){let B=p[j]||"";f=h.slice(0,h.length-B.length).replace(/(.)\/+$/,"$1")}const w=p[j];return y&&!w?m[g]=void 0:m[g]=(w||"").replace(/%2F/g,"/"),m},{}),pathname:h,pathnameBase:f,pattern:n}}function G0(n,i=!1,r=!0){bs(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let c=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,x)=>(c.push({paramName:p,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(c.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,i?void 0:"i"),c]}function $0(n){try{return n.split("/").map(i=>decodeURIComponent(i).replace(/\//g,"%2F")).join("/")}catch(i){return bs(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${i}).`),n}}function Fs(n,i){if(i==="/")return n;if(!n.toLowerCase().startsWith(i.toLowerCase()))return null;let r=i.endsWith("/")?i.length-1:i.length,c=n.charAt(r);return c&&c!=="/"?null:n.slice(r)||"/"}function X0(n,i="/"){let{pathname:r,search:c="",hash:o=""}=typeof n=="string"?Ga(n):n;return{pathname:r?r.startsWith("/")?r:F0(r,i):i,search:Q0(c),hash:W0(o)}}function F0(n,i){let r=i.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function Nd(n,i,r,c){return`Cannot include a '${n}' character in a manually specified \`to.${i}\` field [${JSON.stringify(c)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function K0(n){return n.filter((i,r)=>r===0||i.route.path&&i.route.path.length>0)}function ox(n){let i=K0(n);return i.map((r,c)=>c===i.length-1?r.pathname:r.pathnameBase)}function dx(n,i,r,c=!1){let o;typeof n=="string"?o=Ga(n):(o={...n},ot(!o.pathname||!o.pathname.includes("?"),Nd("?","pathname","search",o)),ot(!o.pathname||!o.pathname.includes("#"),Nd("#","pathname","hash",o)),ot(!o.search||!o.search.includes("#"),Nd("#","search","hash",o)));let h=n===""||o.pathname==="",f=h?"/":o.pathname,p;if(f==null)p=r;else{let y=i.length-1;if(!c&&f.startsWith("..")){let j=f.split("/");for(;j[0]==="..";)j.shift(),y-=1;o.pathname=j.join("/")}p=y>=0?i[y]:"/"}let x=X0(o,p),m=f&&f!=="/"&&f.endsWith("/"),g=(h||f===".")&&r.endsWith("/");return!x.pathname.endsWith("/")&&(m||g)&&(x.pathname+="/"),x}var $s=n=>n.join("/").replace(/\/\/+/g,"/"),P0=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Q0=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,W0=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Z0(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var hx=["POST","PUT","PATCH","DELETE"];new Set(hx);var I0=["GET",...hx];new Set(I0);var $a=_.createContext(null);$a.displayName="DataRouter";var tc=_.createContext(null);tc.displayName="DataRouterState";_.createContext(!1);var ux=_.createContext({isTransitioning:!1});ux.displayName="ViewTransition";var J0=_.createContext(new Map);J0.displayName="Fetchers";var ej=_.createContext(null);ej.displayName="Await";var ws=_.createContext(null);ws.displayName="Navigation";var ll=_.createContext(null);ll.displayName="Location";var Ps=_.createContext({outlet:null,matches:[],isDataRoute:!1});Ps.displayName="Route";var nh=_.createContext(null);nh.displayName="RouteError";function tj(n,{relative:i}={}){ot(rl(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:c}=_.useContext(ws),{hash:o,pathname:h,search:f}=cl(n,{relative:i}),p=h;return r!=="/"&&(p=h==="/"?r:$s([r,h])),c.createHref({pathname:p,search:f,hash:o})}function rl(){return _.useContext(ll)!=null}function Qs(){return ot(rl(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(ll).location}var fx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function mx(n){_.useContext(ws).static||_.useLayoutEffect(n)}function sj(){let{isDataRoute:n}=_.useContext(Ps);return n?pj():nj()}function nj(){ot(rl(),"useNavigate() may be used only in the context of a <Router> component.");let n=_.useContext($a),{basename:i,navigator:r}=_.useContext(ws),{matches:c}=_.useContext(Ps),{pathname:o}=Qs(),h=JSON.stringify(ox(c)),f=_.useRef(!1);return mx(()=>{f.current=!0}),_.useCallback((x,m={})=>{if(bs(f.current,fx),!f.current)return;if(typeof x=="number"){r.go(x);return}let g=dx(x,JSON.parse(h),o,m.relative==="path");n==null&&i!=="/"&&(g.pathname=g.pathname==="/"?i:$s([i,g.pathname])),(m.replace?r.replace:r.push)(g,m.state,m)},[i,r,h,o,n])}_.createContext(null);function cl(n,{relative:i}={}){let{matches:r}=_.useContext(Ps),{pathname:c}=Qs(),o=JSON.stringify(ox(r));return _.useMemo(()=>dx(n,JSON.parse(o),c,i==="path"),[n,o,c,i])}function aj(n,i){return px(n,i)}function px(n,i,r,c,o){ot(rl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:h}=_.useContext(ws),{matches:f}=_.useContext(Ps),p=f[f.length-1],x=p?p.params:{},m=p?p.pathname:"/",g=p?p.pathnameBase:"/",y=p&&p.route;{let H=y&&y.path||"";xx(m,!y||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let j=Qs(),w;if(i){let H=typeof i=="string"?Ga(i):i;ot(g==="/"||H.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${H.pathname}" was given in the \`location\` prop.`),w=H}else w=j;let B=w.pathname||"/",M=B;if(g!=="/"){let H=g.replace(/^\//,"").split("/");M="/"+B.replace(/^\//,"").split("/").slice(H.length).join("/")}let R=lx(n,{pathname:M});bs(y||R!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),bs(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=oj(R&&R.map(H=>Object.assign({},H,{params:Object.assign({},x,H.params),pathname:$s([g,h.encodeLocation?h.encodeLocation(H.pathname).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?g:$s([g,h.encodeLocation?h.encodeLocation(H.pathnameBase).pathname:H.pathnameBase])})),f,r,c,o);return i&&z?_.createElement(ll.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},z):z}function ij(){let n=mj(),i=Z0(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),r=n instanceof Error?n.stack:null,c="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:c},h={padding:"2px 4px",backgroundColor:c},f=null;return console.error("Error handled by React Router default ErrorBoundary:",n),f=_.createElement(_.Fragment,null,_.createElement("p",null,"💿 Hey developer 👋"),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:h},"ErrorBoundary")," or"," ",_.createElement("code",{style:h},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},i),r?_.createElement("pre",{style:o},r):null,f)}var lj=_.createElement(ij,null),rj=class extends _.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,i){return i.location!==n.location||i.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:i.error,location:i.location,revalidation:n.revalidation||i.revalidation}}componentDidCatch(n,i){this.props.unstable_onError?this.props.unstable_onError(n,i):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?_.createElement(Ps.Provider,{value:this.props.routeContext},_.createElement(nh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function cj({routeContext:n,match:i,children:r}){let c=_.useContext($a);return c&&c.static&&c.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=i.route.id),_.createElement(Ps.Provider,{value:n},r)}function oj(n,i=[],r=null,c=null,o=null){if(n==null){if(!r)return null;if(r.errors)n=r.matches;else if(i.length===0&&!r.initialized&&r.matches.length>0)n=r.matches;else return null}let h=n,f=r?.errors;if(f!=null){let m=h.findIndex(g=>g.route.id&&f?.[g.route.id]!==void 0);ot(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),h=h.slice(0,Math.min(h.length,m+1))}let p=!1,x=-1;if(r)for(let m=0;m<h.length;m++){let g=h[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(x=m),g.route.id){let{loaderData:y,errors:j}=r,w=g.route.loader&&!y.hasOwnProperty(g.route.id)&&(!j||j[g.route.id]===void 0);if(g.route.lazy||w){p=!0,x>=0?h=h.slice(0,x+1):h=[h[0]];break}}}return h.reduceRight((m,g,y)=>{let j,w=!1,B=null,M=null;r&&(j=f&&g.route.id?f[g.route.id]:void 0,B=g.route.errorElement||lj,p&&(x<0&&y===0?(xx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,M=null):x===y&&(w=!0,M=g.route.hydrateFallbackElement||null)));let R=i.concat(h.slice(0,y+1)),z=()=>{let H;return j?H=B:w?H=M:g.route.Component?H=_.createElement(g.route.Component,null):g.route.element?H=g.route.element:H=m,_.createElement(cj,{match:g,routeContext:{outlet:m,matches:R,isDataRoute:r!=null},children:H})};return r&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?_.createElement(rj,{location:r.location,revalidation:r.revalidation,component:B,error:j,children:z(),routeContext:{outlet:null,matches:R,isDataRoute:!0},unstable_onError:c}):z()},null)}function ah(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dj(n){let i=_.useContext($a);return ot(i,ah(n)),i}function hj(n){let i=_.useContext(tc);return ot(i,ah(n)),i}function uj(n){let i=_.useContext(Ps);return ot(i,ah(n)),i}function ih(n){let i=uj(n),r=i.matches[i.matches.length-1];return ot(r.route.id,`${n} can only be used on routes that contain a unique "id"`),r.route.id}function fj(){return ih("useRouteId")}function mj(){let n=_.useContext(nh),i=hj("useRouteError"),r=ih("useRouteError");return n!==void 0?n:i.errors?.[r]}function pj(){let{router:n}=dj("useNavigate"),i=ih("useNavigate"),r=_.useRef(!1);return mx(()=>{r.current=!0}),_.useCallback(async(o,h={})=>{bs(r.current,fx),r.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:i,...h}))},[n,i])}var vp={};function xx(n,i,r){!i&&!vp[n]&&(vp[n]=!0,bs(!1,r))}_.memo(xj);function xj({routes:n,future:i,state:r,unstable_onError:c}){return px(n,void 0,r,c,i)}function vt(n){ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function gj({basename:n="/",children:i=null,location:r,navigationType:c="POP",navigator:o,static:h=!1}){ot(!rl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=n.replace(/^\/*/,"/"),p=_.useMemo(()=>({basename:f,navigator:o,static:h,future:{}}),[f,o,h]);typeof r=="string"&&(r=Ga(r));let{pathname:x="/",search:m="",hash:g="",state:y=null,key:j="default"}=r,w=_.useMemo(()=>{let B=Fs(x,f);return B==null?null:{location:{pathname:B,search:m,hash:g,state:y,key:j},navigationType:c}},[f,x,m,g,y,j,c]);return bs(w!=null,`<Router basename="${f}"> is not able to match the URL "${x}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:_.createElement(ws.Provider,{value:p},_.createElement(ll.Provider,{children:i,value:w}))}function yj({children:n,location:i}){return aj(Bd(n),i)}function Bd(n,i=[]){let r=[];return _.Children.forEach(n,(c,o)=>{if(!_.isValidElement(c))return;let h=[...i,o];if(c.type===_.Fragment){r.push.apply(r,Bd(c.props.children,h));return}ot(c.type===vt,`[${typeof c.type=="string"?c.type:c.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ot(!c.props.index||!c.props.children,"An index route cannot have child routes.");let f={id:c.props.id||h.join("-"),caseSensitive:c.props.caseSensitive,element:c.props.element,Component:c.props.Component,index:c.props.index,path:c.props.path,loader:c.props.loader,action:c.props.action,hydrateFallbackElement:c.props.hydrateFallbackElement,HydrateFallback:c.props.HydrateFallback,errorElement:c.props.errorElement,ErrorBoundary:c.props.ErrorBoundary,hasErrorBoundary:c.props.hasErrorBoundary===!0||c.props.ErrorBoundary!=null||c.props.errorElement!=null,shouldRevalidate:c.props.shouldRevalidate,handle:c.props.handle,lazy:c.props.lazy};c.props.children&&(f.children=Bd(c.props.children,h)),r.push(f)}),r}var Dr="get",Rr="application/x-www-form-urlencoded";function sc(n){return n!=null&&typeof n.tagName=="string"}function jj(n){return sc(n)&&n.tagName.toLowerCase()==="button"}function vj(n){return sc(n)&&n.tagName.toLowerCase()==="form"}function bj(n){return sc(n)&&n.tagName.toLowerCase()==="input"}function Nj(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function wj(n,i){return n.button===0&&(!i||i==="_self")&&!Nj(n)}var Sr=null;function Sj(){if(Sr===null)try{new FormData(document.createElement("form"),0),Sr=!1}catch{Sr=!0}return Sr}var _j=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wd(n){return n!=null&&!_j.has(n)?(bs(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Rr}"`),null):n}function Cj(n,i){let r,c,o,h,f;if(vj(n)){let p=n.getAttribute("action");c=p?Fs(p,i):null,r=n.getAttribute("method")||Dr,o=wd(n.getAttribute("enctype"))||Rr,h=new FormData(n)}else if(jj(n)||bj(n)&&(n.type==="submit"||n.type==="image")){let p=n.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let x=n.getAttribute("formaction")||p.getAttribute("action");if(c=x?Fs(x,i):null,r=n.getAttribute("formmethod")||p.getAttribute("method")||Dr,o=wd(n.getAttribute("formenctype"))||wd(p.getAttribute("enctype"))||Rr,h=new FormData(p,n),!Sj()){let{name:m,type:g,value:y}=n;if(g==="image"){let j=m?`${m}.`:"";h.append(`${j}x`,"0"),h.append(`${j}y`,"0")}else m&&h.append(m,y)}}else{if(sc(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Dr,c=null,o=Rr,f=n}return h&&o==="text/plain"&&(f=h,h=void 0),{action:c,method:r.toLowerCase(),encType:o,formData:h,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function lh(n,i){if(n===!1||n===null||typeof n>"u")throw new Error(i)}function Mj(n,i,r){let c=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return c.pathname==="/"?c.pathname=`_root.${r}`:i&&Fs(c.pathname,i)==="/"?c.pathname=`${i.replace(/\/$/,"")}/_root.${r}`:c.pathname=`${c.pathname.replace(/\/$/,"")}.${r}`,c}async function Tj(n,i){if(n.id in i)return i[n.id];try{let r=await import(n.module);return i[n.id]=r,r}catch(r){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function kj(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Aj(n,i,r){let c=await Promise.all(n.map(async o=>{let h=i.routes[o.route.id];if(h){let f=await Tj(h,r);return f.links?f.links():[]}return[]}));return Rj(c.flat(1).filter(kj).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function bp(n,i,r,c,o,h){let f=(x,m)=>r[m]?x.route.id!==r[m].route.id:!0,p=(x,m)=>r[m].pathname!==x.pathname||r[m].route.path?.endsWith("*")&&r[m].params["*"]!==x.params["*"];return h==="assets"?i.filter((x,m)=>f(x,m)||p(x,m)):h==="data"?i.filter((x,m)=>{let g=c.routes[x.route.id];if(!g||!g.hasLoader)return!1;if(f(x,m)||p(x,m))return!0;if(x.route.shouldRevalidate){let y=x.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:x.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function Ej(n,i,{includeHydrateFallback:r}={}){return zj(n.map(c=>{let o=i.routes[c.route.id];if(!o)return[];let h=[o.module];return o.clientActionModule&&(h=h.concat(o.clientActionModule)),o.clientLoaderModule&&(h=h.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(h=h.concat(o.hydrateFallbackModule)),o.imports&&(h=h.concat(o.imports)),h}).flat(1))}function zj(n){return[...new Set(n)]}function Dj(n){let i={},r=Object.keys(n).sort();for(let c of r)i[c]=n[c];return i}function Rj(n,i){let r=new Set;return new Set(i),n.reduce((c,o)=>{let h=JSON.stringify(Dj(o));return r.has(h)||(r.add(h),c.push({key:h,link:o})),c},[])}function gx(){let n=_.useContext($a);return lh(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Lj(){let n=_.useContext(tc);return lh(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var rh=_.createContext(void 0);rh.displayName="FrameworkContext";function yx(){let n=_.useContext(rh);return lh(n,"You must render this element inside a <HydratedRouter> element"),n}function Oj(n,i){let r=_.useContext(rh),[c,o]=_.useState(!1),[h,f]=_.useState(!1),{onFocus:p,onBlur:x,onMouseEnter:m,onMouseLeave:g,onTouchStart:y}=i,j=_.useRef(null);_.useEffect(()=>{if(n==="render"&&f(!0),n==="viewport"){let M=z=>{z.forEach(H=>{f(H.isIntersecting)})},R=new IntersectionObserver(M,{threshold:.5});return j.current&&R.observe(j.current),()=>{R.disconnect()}}},[n]),_.useEffect(()=>{if(c){let M=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(M)}}},[c]);let w=()=>{o(!0)},B=()=>{o(!1),f(!1)};return r?n!=="intent"?[h,j,{}]:[h,j,{onFocus:$i(p,w),onBlur:$i(x,B),onMouseEnter:$i(m,w),onMouseLeave:$i(g,B),onTouchStart:$i(y,w)}]:[!1,j,{}]}function $i(n,i){return r=>{n&&n(r),r.defaultPrevented||i(r)}}function Hj({page:n,...i}){let{router:r}=gx(),c=_.useMemo(()=>lx(r.routes,n,r.basename),[r.routes,n,r.basename]);return c?_.createElement(Uj,{page:n,matches:c,...i}):null}function Bj(n){let{manifest:i,routeModules:r}=yx(),[c,o]=_.useState([]);return _.useEffect(()=>{let h=!1;return Aj(n,i,r).then(f=>{h||o(f)}),()=>{h=!0}},[n,i,r]),c}function Uj({page:n,matches:i,...r}){let c=Qs(),{manifest:o,routeModules:h}=yx(),{basename:f}=gx(),{loaderData:p,matches:x}=Lj(),m=_.useMemo(()=>bp(n,i,x,o,c,"data"),[n,i,x,o,c]),g=_.useMemo(()=>bp(n,i,x,o,c,"assets"),[n,i,x,o,c]),y=_.useMemo(()=>{if(n===c.pathname+c.search+c.hash)return[];let B=new Set,M=!1;if(i.forEach(z=>{let H=o.routes[z.route.id];!H||!H.hasLoader||(!m.some(F=>F.route.id===z.route.id)&&z.route.id in p&&h[z.route.id]?.shouldRevalidate||H.hasClientLoader?M=!0:B.add(z.route.id))}),B.size===0)return[];let R=Mj(n,f,"data");return M&&B.size>0&&R.searchParams.set("_routes",i.filter(z=>B.has(z.route.id)).map(z=>z.route.id).join(",")),[R.pathname+R.search]},[f,p,c,o,m,i,n,h]),j=_.useMemo(()=>Ej(g,o),[g,o]),w=Bj(g);return _.createElement(_.Fragment,null,y.map(B=>_.createElement("link",{key:B,rel:"prefetch",as:"fetch",href:B,...r})),j.map(B=>_.createElement("link",{key:B,rel:"modulepreload",href:B,...r})),w.map(({key:B,link:M})=>_.createElement("link",{key:B,nonce:r.nonce,...M})))}function qj(...n){return i=>{n.forEach(r=>{typeof r=="function"?r(i):r!=null&&(r.current=i)})}}var jx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{jx&&(window.__reactRouterVersion="7.9.1")}catch{}function Yj({basename:n,children:i,window:r}){let c=_.useRef();c.current==null&&(c.current=T0({window:r,v5Compat:!0}));let o=c.current,[h,f]=_.useState({action:o.action,location:o.location}),p=_.useCallback(x=>{_.startTransition(()=>f(x))},[f]);return _.useLayoutEffect(()=>o.listen(p),[o,p]),_.createElement(gj,{basename:n,children:i,location:h.location,navigationType:h.action,navigator:o})}var vx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Oa=_.forwardRef(function({onClick:i,discover:r="render",prefetch:c="none",relative:o,reloadDocument:h,replace:f,state:p,target:x,to:m,preventScrollReset:g,viewTransition:y,...j},w){let{basename:B}=_.useContext(ws),M=typeof m=="string"&&vx.test(m),R,z=!1;if(typeof m=="string"&&M&&(R=m,jx))try{let q=new URL(window.location.href),J=m.startsWith("//")?new URL(q.protocol+m):new URL(m),G=Fs(J.pathname,B);J.origin===q.origin&&G!=null?m=G+J.search+J.hash:z=!0}catch{bs(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=tj(m,{relative:o}),[F,L,O]=Oj(c,j),V=Xj(m,{replace:f,state:p,target:x,preventScrollReset:g,relative:o,viewTransition:y});function Q(q){i&&i(q),q.defaultPrevented||V(q)}let se=_.createElement("a",{...j,...O,href:R||H,onClick:z||h?i:Q,ref:qj(w,L),target:x,"data-discover":!M&&r==="render"?"true":void 0});return F&&!M?_.createElement(_.Fragment,null,se,_.createElement(Hj,{page:H})):se});Oa.displayName="Link";var Vj=_.forwardRef(function({"aria-current":i="page",caseSensitive:r=!1,className:c="",end:o=!1,style:h,to:f,viewTransition:p,children:x,...m},g){let y=cl(f,{relative:m.relative}),j=Qs(),w=_.useContext(tc),{navigator:B,basename:M}=_.useContext(ws),R=w!=null&&Wj(y)&&p===!0,z=B.encodeLocation?B.encodeLocation(y).pathname:y.pathname,H=j.pathname,F=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;r||(H=H.toLowerCase(),F=F?F.toLowerCase():null,z=z.toLowerCase()),F&&M&&(F=Fs(F,M)||F);const L=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let O=H===z||!o&&H.startsWith(z)&&H.charAt(L)==="/",V=F!=null&&(F===z||!o&&F.startsWith(z)&&F.charAt(z.length)==="/"),Q={isActive:O,isPending:V,isTransitioning:R},se=O?i:void 0,q;typeof c=="function"?q=c(Q):q=[c,O?"active":null,V?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let J=typeof h=="function"?h(Q):h;return _.createElement(Oa,{...m,"aria-current":se,className:q,ref:g,style:J,to:f,viewTransition:p},typeof x=="function"?x(Q):x)});Vj.displayName="NavLink";var Gj=_.forwardRef(({discover:n="render",fetcherKey:i,navigate:r,reloadDocument:c,replace:o,state:h,method:f=Dr,action:p,onSubmit:x,relative:m,preventScrollReset:g,viewTransition:y,...j},w)=>{let B=Pj(),M=Qj(p,{relative:m}),R=f.toLowerCase()==="get"?"get":"post",z=typeof p=="string"&&vx.test(p),H=F=>{if(x&&x(F),F.defaultPrevented)return;F.preventDefault();let L=F.nativeEvent.submitter,O=L?.getAttribute("formmethod")||f;B(L||F.currentTarget,{fetcherKey:i,method:O,navigate:r,replace:o,state:h,relative:m,preventScrollReset:g,viewTransition:y})};return _.createElement("form",{ref:w,method:R,action:M,onSubmit:c?x:H,...j,"data-discover":!z&&n==="render"?"true":void 0})});Gj.displayName="Form";function $j(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bx(n){let i=_.useContext($a);return ot(i,$j(n)),i}function Xj(n,{target:i,replace:r,state:c,preventScrollReset:o,relative:h,viewTransition:f}={}){let p=sj(),x=Qs(),m=cl(n,{relative:h});return _.useCallback(g=>{if(wj(g,i)){g.preventDefault();let y=r!==void 0?r:Ii(x)===Ii(m);p(n,{replace:y,state:c,preventScrollReset:o,relative:h,viewTransition:f})}},[x,p,m,r,c,i,n,o,h,f])}var Fj=0,Kj=()=>`__${String(++Fj)}__`;function Pj(){let{router:n}=bx("useSubmit"),{basename:i}=_.useContext(ws),r=fj();return _.useCallback(async(c,o={})=>{let{action:h,method:f,encType:p,formData:x,body:m}=Cj(c,i);if(o.navigate===!1){let g=o.fetcherKey||Kj();await n.fetch(g,r,o.action||h,{preventScrollReset:o.preventScrollReset,formData:x,body:m,formMethod:o.method||f,formEncType:o.encType||p,flushSync:o.flushSync})}else await n.navigate(o.action||h,{preventScrollReset:o.preventScrollReset,formData:x,body:m,formMethod:o.method||f,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,i,r])}function Qj(n,{relative:i}={}){let{basename:r}=_.useContext(ws),c=_.useContext(Ps);ot(c,"useFormAction must be used inside a RouteContext");let[o]=c.matches.slice(-1),h={...cl(n||".",{relative:i})},f=Qs();if(n==null){h.search=f.search;let p=new URLSearchParams(h.search),x=p.getAll("index");if(x.some(g=>g==="")){p.delete("index"),x.filter(y=>y).forEach(y=>p.append("index",y));let g=p.toString();h.search=g?`?${g}`:""}}return(!n||n===".")&&o.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(h.pathname=h.pathname==="/"?r:$s([r,h.pathname])),Ii(h)}function Wj(n,{relative:i}={}){let r=_.useContext(ux);ot(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:c}=bx("useViewTransitionState"),o=cl(n,{relative:i});if(!r.isTransitioning)return!1;let h=Fs(r.currentLocation.pathname,c)||r.currentLocation.pathname,f=Fs(r.nextLocation.pathname,c)||r.nextLocation.pathname;return Vr(o.pathname,f)!=null||Vr(o.pathname,h)!=null}const Zj=()=>{const n=Qs();return e.jsx("header",{className:"header",children:e.jsxs("div",{className:"container",children:[e.jsxs(Oa,{to:"/",className:"header-logo",children:[e.jsx("h1",{className:"text-xl font-bold text-primary",children:"Data Science and Machine Learning Simulations"}),e.jsx("p",{className:"text-sm text-secondary-600",children:"Interactive Learning Platform"})]}),e.jsxs("nav",{className:"header-nav",children:[e.jsx(Oa,{to:"/",className:`btn ${n.pathname==="/"?"btn-primary":"btn-outline"}`,children:"Home"}),e.jsx(Oa,{to:"/about",className:`btn ${n.pathname==="/about"?"btn-primary":"btn-outline"}`,children:"About"})]})]})})},Ij=[{id:"normal-distribution",title:"Normal Distribution",description:"Explore the bell curve and understand statistical distributions",path:"/normal-distribution",status:"available",category:"Statistics"},{id:"central-limit-theorem",title:"Central Limit Theorem",description:"Watch sample means converge to normality from any distribution",path:"/central-limit-theorem",status:"available",category:"Statistics"},{id:"intro-probability",title:"Intro to Probability",description:"Learn the fundamentals of probability theory and basic concepts",path:"/intro-probability",status:"available",category:"Statistics"},{id:"linear-regression",title:"Linear Regression",description:"Visualize the line of best fit and understand gradient descent",path:"/linear-regression",status:"available",category:"Regression"},{id:"regularization-explorer",title:"Regularization Explorer",description:"Explore L1 and L2 regularization to prevent overfitting",path:"/regularization-explorer",status:"available",category:"Regression"},{id:"decision-trees",title:"Decision Trees",description:"Build and visualize decision trees with interactive feature selection",path:"/decision-trees",status:"available",category:"Classification"},{id:"k-means",title:"K-Means Clustering",description:"Watch clusters form and move with different initialization strategies",path:"/kmeans-clustering",status:"available",category:"Clustering"},{id:"cosine-similarity",title:"Cosine Similarity",description:"Explore how vectors relate to each other through angle and magnitude",path:"/cosine-similarity",status:"available",category:"Distance Metrics"},{id:"euclidean-distance",title:"Euclidean Distance",description:"Explore distance metrics and their role in clustering algorithms",path:"/euclidean-distance",status:"available",category:"Distance Metrics"},{id:"neural-networks",title:"Neural Networks",description:"Explore how neurons connect and learn through backpropagation",path:"/neural-networks",status:"coming-soon",category:"Deep Learning"},{id:"perceptron-anatomy",title:"Perceptron Anatomy Explorer",description:"Explore the internal structure and forward pass of a perceptron",path:"/perceptron-anatomy",status:"available",category:"Deep Learning"},{id:"perceptron-learning",title:"Perceptron Learning Simulator",description:"Understand the foundation of neural networks with single-layer perceptrons",path:"/perceptron-learning",status:"available",category:"Deep Learning"},{id:"multilayer-perceptron",title:"Multi-layer Perceptron Explorer",description:"Explore how multiple layers create complex decision boundaries",path:"/multilayer-perceptron",status:"coming-soon",category:"Deep Learning"},{id:"cnn-demo",title:"Convolutional Neural Network Demo",description:"Visualize how CNNs process images through convolutional layers",path:"/cnn-demo",status:"coming-soon",category:"Deep Learning"},{id:"bayes-theorem",title:"Bayes Theorem",description:"Understand conditional probability and Bayesian inference",path:"/bayes-theorem",status:"available",category:"Statistics"},{id:"correlation-causation",title:"Correlation",description:"Explore correlation through interactive data visualization",path:"/correlation-causation",status:"available",category:"Statistics"},{id:"causal-detective",title:"Causal Detective",description:"Solve mysteries by investigating causal relationships",path:"/causal-detective",status:"available",category:"Statistics"},{id:"manhattan-euclidean",title:"Manhattan Distance vs Euclidean",description:"Compare different distance metrics and their applications",path:"/manhattan-euclidean",status:"coming-soon",category:"Distance Metrics"},{id:"knn-explorer",title:"K-Nearest Neighbors (KNN) Explorer",description:"Explore instance-based learning with interactive KNN visualization",path:"/k-nearest-neighbors",status:"available",category:"Classification"},{id:"naive-bayes",title:"Naive Bayes Classifier",description:"Understand probabilistic classification with Bayes theorem",path:"/naive-bayes",status:"coming-soon",category:"Classification"},{id:"logistic-regression",title:"Logistic Regression Visualizer",description:"Visualize how logistic regression creates decision boundaries",path:"/logistic-regression",status:"available",category:"Classification"},{id:"hierarchical-clustering",title:"Hierarchical Clustering Explorer",description:"Watch clusters form in a tree-like structure with different linkage methods",path:"/hierarchical-clustering",status:"coming-soon",category:"Clustering"}],Jj=()=>{const n=Qs(),i=Ij.reduce((r,c)=>(r[c.category]||(r[c.category]=[]),r[c.category].push(c),r),{});return e.jsx("aside",{className:"sidebar",children:e.jsxs("div",{className:"sidebar-content",children:[e.jsxs("div",{className:"sidebar-section",children:[e.jsx("h3",{className:"sidebar-title",children:"Available Simulations"}),e.jsx("p",{className:"sidebar-description",children:"Interactive tools to explore machine learning concepts"})]}),Object.entries(i).map(([r,c])=>e.jsxs("div",{className:"sidebar-section",children:[e.jsx("h4",{className:"sidebar-category",children:r}),e.jsx("nav",{className:"sidebar-nav",children:c.map(o=>e.jsx(Oa,{to:o.path,className:`sidebar-link ${n.pathname===o.path?"active":""} ${o.status}`,children:e.jsxs("div",{className:"sidebar-link-content",children:[e.jsx("span",{className:"sidebar-link-title",children:o.title}),e.jsx("span",{className:"sidebar-link-description",children:o.description}),o.status==="coming-soon"&&e.jsx("span",{className:"sidebar-link-badge",children:"Coming Soon"}),o.status==="beta"&&e.jsx("span",{className:"sidebar-link-badge beta",children:"Beta"})]})},o.id))})]},r)),e.jsx("div",{className:"sidebar-footer",children:e.jsx("p",{className:"text-xs text-secondary-500",children:`Built for Todd's SVA Continuing Education course: "AI for Creatives: Strategies for Success"`})})]})})},ev=()=>e.jsx("div",{className:"home fade-in",children:e.jsxs("div",{className:"container",children:[e.jsx("section",{className:"hero",children:e.jsxs("div",{className:"hero-content",children:[e.jsx("h1",{className:"hero-title",children:"Todd's Interactive Machine Learning Simulations for Creatives, Designers, and everyone else who wants to learn kewl stuff."}),e.jsx("p",{className:"hero-description",children:"Explore complex ML concepts through hands-on, visual simulations. Perfect for students and professionals who want to understand the mathematics behind machine learning algorithms."}),e.jsx("div",{className:"hero-actions",children:e.jsx("a",{href:"#features",className:"btn btn-primary",children:"Learn More"})})]})}),e.jsxs("section",{id:"features",className:"features",children:[e.jsxs("div",{className:"features-header",children:[e.jsx("h2",{className:"features-title",children:"Why Interactive Learning?"}),e.jsx("p",{className:"features-description",children:"Traditional textbooks can make ML concepts feel abstract. These simulations bring these ideas to life through visual, interactive experiences."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx("div",{className:"card feature-card",children:e.jsxs("div",{className:"card-body",children:[e.jsx("div",{className:"feature-icon"}),e.jsx("h3",{className:"feature-title",children:"Visual Understanding"}),e.jsx("p",{className:"feature-description",children:"See how algorithms work in real-time with dynamic visualizations that respond to your input."})]})}),e.jsx("div",{className:"card feature-card",children:e.jsxs("div",{className:"card-body",children:[e.jsx("div",{className:"feature-icon"}),e.jsx("h3",{className:"feature-title",children:"Immediate Feedback"}),e.jsx("p",{className:"feature-description",children:"Experiment with parameters and see instant results. Learn through trial and error in a safe environment."})]})}),e.jsx("div",{className:"card feature-card",children:e.jsxs("div",{className:"card-body",children:[e.jsx("div",{className:"feature-icon"}),e.jsx("h3",{className:"feature-title",children:"Built for Education"}),e.jsx("p",{className:"feature-description",children:"Designed specifically for SVA Continuing Education students in creative industries."})]})})]})]}),e.jsxs("section",{id:"getting-started",className:"getting-started",children:[e.jsxs("div",{className:"getting-started-header",children:[e.jsx("h2",{className:"getting-started-title",children:"Ready to Explore?"}),e.jsx("p",{className:"getting-started-description",children:"All simulations are available in the sidebar. Start with any concept that interests you and learn through hands-on experimentation."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx("div",{className:"card step-card",children:e.jsxs("div",{className:"card-body",children:[e.jsx("div",{className:"step-number",children:"1"}),e.jsx("h3",{className:"step-title",children:"Choose a Simulation"}),e.jsx("p",{className:"step-description",children:"Browse the sidebar to find simulations organized by category - from distance metrics to clustering algorithms."})]})}),e.jsx("div",{className:"card step-card",children:e.jsxs("div",{className:"card-body",children:[e.jsx("div",{className:"step-number",children:"2"}),e.jsx("h3",{className:"step-title",children:"Experiment Freely"}),e.jsx("p",{className:"step-description",children:"Adjust parameters, change inputs, and see how the algorithm responds in real-time."})]})}),e.jsx("div",{className:"card step-card",children:e.jsxs("div",{className:"card-body",children:[e.jsx("div",{className:"step-number",children:"3"}),e.jsx("h3",{className:"step-title",children:"Learn Through Doing"}),e.jsx("p",{className:"step-description",children:"Build intuition by seeing the mathematics in action, not just on paper."})]})})]})]}),e.jsx("section",{className:"copyright-section",children:e.jsx("div",{className:"copyright-notice",children:e.jsx("p",{children:"© 2025, Todd Brous. All rights reserved."})})})]})});function Lr(n,i){return n==null||i==null?NaN:n<i?-1:n>i?1:n>=i?0:NaN}function tv(n,i){return n==null||i==null?NaN:i<n?-1:i>n?1:i>=n?0:NaN}function Nx(n){let i,r,c;n.length!==2?(i=Lr,r=(p,x)=>Lr(n(p),x),c=(p,x)=>n(p)-x):(i=n===Lr||n===tv?n:sv,r=n,c=n);function o(p,x,m=0,g=p.length){if(m<g){if(i(x,x)!==0)return g;do{const y=m+g>>>1;r(p[y],x)<0?m=y+1:g=y}while(m<g)}return m}function h(p,x,m=0,g=p.length){if(m<g){if(i(x,x)!==0)return g;do{const y=m+g>>>1;r(p[y],x)<=0?m=y+1:g=y}while(m<g)}return m}function f(p,x,m=0,g=p.length){const y=o(p,x,m,g-1);return y>m&&c(p[y-1],x)>-c(p[y],x)?y-1:y}return{left:o,center:f,right:h}}function sv(){return 0}function nv(n){return n===null?NaN:+n}const av=Nx(Lr),wx=av.right;Nx(nv).center;function iv(n,i){let r=0;for(let c of n)c!=null&&(c=+c)>=c&&++r;return r}function lv(n,i){let r=0,c,o=0,h=0;if(i===void 0)for(let f of n)f!=null&&(f=+f)>=f&&(c=f-o,o+=c/++r,h+=c*(f-o));else{let f=-1;for(let p of n)(p=i(p,++f,n))!=null&&(p=+p)>=p&&(c=p-o,o+=c/++r,h+=c*(p-o))}if(r>1)return h/(r-1)}function Np(n,i){const r=lv(n,i);return r&&Math.sqrt(r)}function st(n,i){let r,c;if(i===void 0)for(const o of n)o!=null&&(r===void 0?o>=o&&(r=c=o):(r>o&&(r=o),c<o&&(c=o)));else{let o=-1;for(let h of n)(h=i(h,++o,n))!=null&&(r===void 0?h>=h&&(r=c=h):(r>h&&(r=h),c<h&&(c=h)))}return[r,c]}function rv(n){return n}var cv=Array.prototype,ov=cv.slice;function Sd(n){return()=>n}const dv=Math.sqrt(50),hv=Math.sqrt(10),uv=Math.sqrt(2);function Gr(n,i,r){const c=(i-n)/Math.max(0,r),o=Math.floor(Math.log10(c)),h=c/Math.pow(10,o),f=h>=dv?10:h>=hv?5:h>=uv?2:1;let p,x,m;return o<0?(m=Math.pow(10,-o)/f,p=Math.round(n*m),x=Math.round(i*m),p/m<n&&++p,x/m>i&&--x,m=-m):(m=Math.pow(10,o)*f,p=Math.round(n/m),x=Math.round(i/m),p*m<n&&++p,x*m>i&&--x),x<p&&.5<=r&&r<2?Gr(n,i,r*2):[p,x,m]}function $r(n,i,r){if(i=+i,n=+n,r=+r,!(r>0))return[];if(n===i)return[n];const c=i<n,[o,h,f]=c?Gr(i,n,r):Gr(n,i,r);if(!(h>=o))return[];const p=h-o+1,x=new Array(p);if(c)if(f<0)for(let m=0;m<p;++m)x[m]=(h-m)/-f;else for(let m=0;m<p;++m)x[m]=(h-m)*f;else if(f<0)for(let m=0;m<p;++m)x[m]=(o+m)/-f;else for(let m=0;m<p;++m)x[m]=(o+m)*f;return x}function Ua(n,i,r){return i=+i,n=+n,r=+r,Gr(n,i,r)[2]}function fv(n,i,r){i=+i,n=+n,r=+r;const c=i<n,o=c?Ua(i,n,r):Ua(n,i,r);return(c?-1:1)*(o<0?1/-o:o)}function mv(n,i,r){let c;for(;;){const o=Ua(n,i,r);if(o===c||o===0||!isFinite(o))return[n,i];o>0?(n=Math.floor(n/o)*o,i=Math.ceil(i/o)*o):o<0&&(n=Math.ceil(n*o)/o,i=Math.floor(i*o)/o),c=o}}function pv(n){return Math.max(1,Math.ceil(Math.log(iv(n))/Math.LN2)+1)}function Xr(){var n=rv,i=st,r=pv;function c(o){Array.isArray(o)||(o=Array.from(o));var h,f=o.length,p,x,m=new Array(f);for(h=0;h<f;++h)m[h]=n(o[h],h,o);var g=i(m),y=g[0],j=g[1],w=r(m,y,j);if(!Array.isArray(w)){const F=j,L=+w;if(i===st&&([y,j]=mv(y,j,L)),w=$r(y,j,L),w[0]<=y&&(x=Ua(y,j,L)),w[w.length-1]>=j)if(F>=j&&i===st){const O=Ua(y,j,L);isFinite(O)&&(O>0?j=(Math.floor(j/O)+1)*O:O<0&&(j=(Math.ceil(j*-O)+1)/-O))}else w.pop()}for(var B=w.length,M=0,R=B;w[M]<=y;)++M;for(;w[R-1]>j;)--R;(M||R<B)&&(w=w.slice(M,R),B=R-M);var z=new Array(B+1),H;for(h=0;h<=B;++h)H=z[h]=[],H.x0=h>0?w[h-1]:y,H.x1=h<B?w[h]:j;if(isFinite(x)){if(x>0)for(h=0;h<f;++h)(p=m[h])!=null&&y<=p&&p<=j&&z[Math.min(B,Math.floor((p-y)/x))].push(o[h]);else if(x<0){for(h=0;h<f;++h)if((p=m[h])!=null&&y<=p&&p<=j){const F=Math.floor((y-p)*x);z[Math.min(B,F+(w[F]<=p))].push(o[h])}}}else for(h=0;h<f;++h)(p=m[h])!=null&&y<=p&&p<=j&&z[wx(w,p,0,B)].push(o[h]);return z}return c.value=function(o){return arguments.length?(n=typeof o=="function"?o:Sd(o),c):n},c.domain=function(o){return arguments.length?(i=typeof o=="function"?o:Sd([o[0],o[1]]),c):i},c.thresholds=function(o){return arguments.length?(r=typeof o=="function"?o:Sd(Array.isArray(o)?ov.call(o):o),c):r},c}function Zi(n,i){let r;if(i===void 0)for(const c of n)c!=null&&(r<c||r===void 0&&c>=c)&&(r=c);else{let c=-1;for(let o of n)(o=i(o,++c,n))!=null&&(r<o||r===void 0&&o>=o)&&(r=o)}return r}function wp(n,i){let r=0,c=0;if(i===void 0)for(let o of n)o!=null&&(o=+o)>=o&&(++r,c+=o);else{let o=-1;for(let h of n)(h=i(h,++o,n))!=null&&(h=+h)>=h&&(++r,c+=h)}if(r)return c/r}function xv(n,i,r){n=+n,i=+i,r=(o=arguments.length)<2?(i=n,n=0,1):o<3?1:+r;for(var c=-1,o=Math.max(0,Math.ceil((i-n)/r))|0,h=new Array(o);++c<o;)h[c]=n+c*r;return h}function gv(n){return n}var _d=1,Or=2,Ud=3,Pi=4,Sp=1e-6;function yv(n){return"translate("+n+",0)"}function jv(n){return"translate(0,"+n+")"}function vv(n){return i=>+n(i)}function bv(n,i){return i=Math.max(0,n.bandwidth()-i*2)/2,n.round()&&(i=Math.round(i)),r=>+n(r)+i}function Nv(){return!this.__axis}function ch(n,i){var r=[],c=null,o=null,h=6,f=6,p=3,x=typeof window<"u"&&window.devicePixelRatio>1?0:.5,m=n===_d||n===Pi?-1:1,g=n===Pi||n===Or?"x":"y",y=n===_d||n===Ud?yv:jv;function j(w){var B=c??(i.ticks?i.ticks.apply(i,r):i.domain()),M=o??(i.tickFormat?i.tickFormat.apply(i,r):gv),R=Math.max(h,0)+p,z=i.range(),H=+z[0]+x,F=+z[z.length-1]+x,L=(i.bandwidth?bv:vv)(i.copy(),x),O=w.selection?w.selection():w,V=O.selectAll(".domain").data([null]),Q=O.selectAll(".tick").data(B,i).order(),se=Q.exit(),q=Q.enter().append("g").attr("class","tick"),J=Q.select("line"),G=Q.select("text");V=V.merge(V.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),Q=Q.merge(q),J=J.merge(q.append("line").attr("stroke","currentColor").attr(g+"2",m*h)),G=G.merge(q.append("text").attr("fill","currentColor").attr(g,m*R).attr("dy",n===_d?"0em":n===Ud?"0.71em":"0.32em")),w!==O&&(V=V.transition(w),Q=Q.transition(w),J=J.transition(w),G=G.transition(w),se=se.transition(w).attr("opacity",Sp).attr("transform",function(K){return isFinite(K=L(K))?y(K+x):this.getAttribute("transform")}),q.attr("opacity",Sp).attr("transform",function(K){var ae=this.parentNode.__axis;return y((ae&&isFinite(ae=ae(K))?ae:L(K))+x)})),se.remove(),V.attr("d",n===Pi||n===Or?f?"M"+m*f+","+H+"H"+x+"V"+F+"H"+m*f:"M"+x+","+H+"V"+F:f?"M"+H+","+m*f+"V"+x+"H"+F+"V"+m*f:"M"+H+","+x+"H"+F),Q.attr("opacity",1).attr("transform",function(K){return y(L(K)+x)}),J.attr(g+"2",m*h),G.attr(g,m*R).text(M),O.filter(Nv).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",n===Or?"start":n===Pi?"end":"middle"),O.each(function(){this.__axis=L})}return j.scale=function(w){return arguments.length?(i=w,j):i},j.ticks=function(){return r=Array.from(arguments),j},j.tickArguments=function(w){return arguments.length?(r=w==null?[]:Array.from(w),j):r.slice()},j.tickValues=function(w){return arguments.length?(c=w==null?null:Array.from(w),j):c&&c.slice()},j.tickFormat=function(w){return arguments.length?(o=w,j):o},j.tickSize=function(w){return arguments.length?(h=f=+w,j):h},j.tickSizeInner=function(w){return arguments.length?(h=+w,j):h},j.tickSizeOuter=function(w){return arguments.length?(f=+w,j):f},j.tickPadding=function(w){return arguments.length?(p=+w,j):p},j.offset=function(w){return arguments.length?(x=+w,j):x},j}function wv(n){return ch(Or,n)}function rt(n){return ch(Ud,n)}function ct(n){return ch(Pi,n)}var Sv={value:()=>{}};function nc(){for(var n=0,i=arguments.length,r={},c;n<i;++n){if(!(c=arguments[n]+"")||c in r||/[\s.]/.test(c))throw new Error("illegal type: "+c);r[c]=[]}return new Hr(r)}function Hr(n){this._=n}function _v(n,i){return n.trim().split(/^|\s+/).map(function(r){var c="",o=r.indexOf(".");if(o>=0&&(c=r.slice(o+1),r=r.slice(0,o)),r&&!i.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:c}})}Hr.prototype=nc.prototype={constructor:Hr,on:function(n,i){var r=this._,c=_v(n+"",r),o,h=-1,f=c.length;if(arguments.length<2){for(;++h<f;)if((o=(n=c[h]).type)&&(o=Cv(r[o],n.name)))return o;return}if(i!=null&&typeof i!="function")throw new Error("invalid callback: "+i);for(;++h<f;)if(o=(n=c[h]).type)r[o]=_p(r[o],n.name,i);else if(i==null)for(o in r)r[o]=_p(r[o],n.name,null);return this},copy:function(){var n={},i=this._;for(var r in i)n[r]=i[r].slice();return new Hr(n)},call:function(n,i){if((o=arguments.length-2)>0)for(var r=new Array(o),c=0,o,h;c<o;++c)r[c]=arguments[c+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(h=this._[n],c=0,o=h.length;c<o;++c)h[c].value.apply(i,r)},apply:function(n,i,r){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var c=this._[n],o=0,h=c.length;o<h;++o)c[o].value.apply(i,r)}};function Cv(n,i){for(var r=0,c=n.length,o;r<c;++r)if((o=n[r]).name===i)return o.value}function _p(n,i,r){for(var c=0,o=n.length;c<o;++c)if(n[c].name===i){n[c]=Sv,n=n.slice(0,c).concat(n.slice(c+1));break}return r!=null&&n.push({name:i,value:r}),n}var qd="http://www.w3.org/1999/xhtml";const Cp={svg:"http://www.w3.org/2000/svg",xhtml:qd,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ac(n){var i=n+="",r=i.indexOf(":");return r>=0&&(i=n.slice(0,r))!=="xmlns"&&(n=n.slice(r+1)),Cp.hasOwnProperty(i)?{space:Cp[i],local:n}:n}function Mv(n){return function(){var i=this.ownerDocument,r=this.namespaceURI;return r===qd&&i.documentElement.namespaceURI===qd?i.createElement(n):i.createElementNS(r,n)}}function Tv(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function Sx(n){var i=ac(n);return(i.local?Tv:Mv)(i)}function kv(){}function oh(n){return n==null?kv:function(){return this.querySelector(n)}}function Av(n){typeof n!="function"&&(n=oh(n));for(var i=this._groups,r=i.length,c=new Array(r),o=0;o<r;++o)for(var h=i[o],f=h.length,p=c[o]=new Array(f),x,m,g=0;g<f;++g)(x=h[g])&&(m=n.call(x,x.__data__,g,h))&&("__data__"in x&&(m.__data__=x.__data__),p[g]=m);return new Wt(c,this._parents)}function Ev(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function zv(){return[]}function _x(n){return n==null?zv:function(){return this.querySelectorAll(n)}}function Dv(n){return function(){return Ev(n.apply(this,arguments))}}function Rv(n){typeof n=="function"?n=Dv(n):n=_x(n);for(var i=this._groups,r=i.length,c=[],o=[],h=0;h<r;++h)for(var f=i[h],p=f.length,x,m=0;m<p;++m)(x=f[m])&&(c.push(n.call(x,x.__data__,m,f)),o.push(x));return new Wt(c,o)}function Cx(n){return function(){return this.matches(n)}}function Mx(n){return function(i){return i.matches(n)}}var Lv=Array.prototype.find;function Ov(n){return function(){return Lv.call(this.children,n)}}function Hv(){return this.firstElementChild}function Bv(n){return this.select(n==null?Hv:Ov(typeof n=="function"?n:Mx(n)))}var Uv=Array.prototype.filter;function qv(){return Array.from(this.children)}function Yv(n){return function(){return Uv.call(this.children,n)}}function Vv(n){return this.selectAll(n==null?qv:Yv(typeof n=="function"?n:Mx(n)))}function Gv(n){typeof n!="function"&&(n=Cx(n));for(var i=this._groups,r=i.length,c=new Array(r),o=0;o<r;++o)for(var h=i[o],f=h.length,p=c[o]=[],x,m=0;m<f;++m)(x=h[m])&&n.call(x,x.__data__,m,h)&&p.push(x);return new Wt(c,this._parents)}function Tx(n){return new Array(n.length)}function $v(){return new Wt(this._enter||this._groups.map(Tx),this._parents)}function Fr(n,i){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=i}Fr.prototype={constructor:Fr,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,i){return this._parent.insertBefore(n,i)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function Xv(n){return function(){return n}}function Fv(n,i,r,c,o,h){for(var f=0,p,x=i.length,m=h.length;f<m;++f)(p=i[f])?(p.__data__=h[f],c[f]=p):r[f]=new Fr(n,h[f]);for(;f<x;++f)(p=i[f])&&(o[f]=p)}function Kv(n,i,r,c,o,h,f){var p,x,m=new Map,g=i.length,y=h.length,j=new Array(g),w;for(p=0;p<g;++p)(x=i[p])&&(j[p]=w=f.call(x,x.__data__,p,i)+"",m.has(w)?o[p]=x:m.set(w,x));for(p=0;p<y;++p)w=f.call(n,h[p],p,h)+"",(x=m.get(w))?(c[p]=x,x.__data__=h[p],m.delete(w)):r[p]=new Fr(n,h[p]);for(p=0;p<g;++p)(x=i[p])&&m.get(j[p])===x&&(o[p]=x)}function Pv(n){return n.__data__}function Qv(n,i){if(!arguments.length)return Array.from(this,Pv);var r=i?Kv:Fv,c=this._parents,o=this._groups;typeof n!="function"&&(n=Xv(n));for(var h=o.length,f=new Array(h),p=new Array(h),x=new Array(h),m=0;m<h;++m){var g=c[m],y=o[m],j=y.length,w=Wv(n.call(g,g&&g.__data__,m,c)),B=w.length,M=p[m]=new Array(B),R=f[m]=new Array(B),z=x[m]=new Array(j);r(g,y,M,R,z,w,i);for(var H=0,F=0,L,O;H<B;++H)if(L=M[H]){for(H>=F&&(F=H+1);!(O=R[F])&&++F<B;);L._next=O||null}}return f=new Wt(f,c),f._enter=p,f._exit=x,f}function Wv(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function Zv(){return new Wt(this._exit||this._groups.map(Tx),this._parents)}function Iv(n,i,r){var c=this.enter(),o=this,h=this.exit();return typeof n=="function"?(c=n(c),c&&(c=c.selection())):c=c.append(n+""),i!=null&&(o=i(o),o&&(o=o.selection())),r==null?h.remove():r(h),c&&o?c.merge(o).order():o}function Jv(n){for(var i=n.selection?n.selection():n,r=this._groups,c=i._groups,o=r.length,h=c.length,f=Math.min(o,h),p=new Array(o),x=0;x<f;++x)for(var m=r[x],g=c[x],y=m.length,j=p[x]=new Array(y),w,B=0;B<y;++B)(w=m[B]||g[B])&&(j[B]=w);for(;x<o;++x)p[x]=r[x];return new Wt(p,this._parents)}function eb(){for(var n=this._groups,i=-1,r=n.length;++i<r;)for(var c=n[i],o=c.length-1,h=c[o],f;--o>=0;)(f=c[o])&&(h&&f.compareDocumentPosition(h)^4&&h.parentNode.insertBefore(f,h),h=f);return this}function tb(n){n||(n=sb);function i(y,j){return y&&j?n(y.__data__,j.__data__):!y-!j}for(var r=this._groups,c=r.length,o=new Array(c),h=0;h<c;++h){for(var f=r[h],p=f.length,x=o[h]=new Array(p),m,g=0;g<p;++g)(m=f[g])&&(x[g]=m);x.sort(i)}return new Wt(o,this._parents).order()}function sb(n,i){return n<i?-1:n>i?1:n>=i?0:NaN}function nb(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function ab(){return Array.from(this)}function ib(){for(var n=this._groups,i=0,r=n.length;i<r;++i)for(var c=n[i],o=0,h=c.length;o<h;++o){var f=c[o];if(f)return f}return null}function lb(){let n=0;for(const i of this)++n;return n}function rb(){return!this.node()}function cb(n){for(var i=this._groups,r=0,c=i.length;r<c;++r)for(var o=i[r],h=0,f=o.length,p;h<f;++h)(p=o[h])&&n.call(p,p.__data__,h,o);return this}function ob(n){return function(){this.removeAttribute(n)}}function db(n){return function(){this.removeAttributeNS(n.space,n.local)}}function hb(n,i){return function(){this.setAttribute(n,i)}}function ub(n,i){return function(){this.setAttributeNS(n.space,n.local,i)}}function fb(n,i){return function(){var r=i.apply(this,arguments);r==null?this.removeAttribute(n):this.setAttribute(n,r)}}function mb(n,i){return function(){var r=i.apply(this,arguments);r==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,r)}}function pb(n,i){var r=ac(n);if(arguments.length<2){var c=this.node();return r.local?c.getAttributeNS(r.space,r.local):c.getAttribute(r)}return this.each((i==null?r.local?db:ob:typeof i=="function"?r.local?mb:fb:r.local?ub:hb)(r,i))}function kx(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function xb(n){return function(){this.style.removeProperty(n)}}function gb(n,i,r){return function(){this.style.setProperty(n,i,r)}}function yb(n,i,r){return function(){var c=i.apply(this,arguments);c==null?this.style.removeProperty(n):this.style.setProperty(n,c,r)}}function jb(n,i,r){return arguments.length>1?this.each((i==null?xb:typeof i=="function"?yb:gb)(n,i,r??"")):qa(this.node(),n)}function qa(n,i){return n.style.getPropertyValue(i)||kx(n).getComputedStyle(n,null).getPropertyValue(i)}function vb(n){return function(){delete this[n]}}function bb(n,i){return function(){this[n]=i}}function Nb(n,i){return function(){var r=i.apply(this,arguments);r==null?delete this[n]:this[n]=r}}function wb(n,i){return arguments.length>1?this.each((i==null?vb:typeof i=="function"?Nb:bb)(n,i)):this.node()[n]}function Ax(n){return n.trim().split(/^|\s+/)}function dh(n){return n.classList||new Ex(n)}function Ex(n){this._node=n,this._names=Ax(n.getAttribute("class")||"")}Ex.prototype={add:function(n){var i=this._names.indexOf(n);i<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var i=this._names.indexOf(n);i>=0&&(this._names.splice(i,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function zx(n,i){for(var r=dh(n),c=-1,o=i.length;++c<o;)r.add(i[c])}function Dx(n,i){for(var r=dh(n),c=-1,o=i.length;++c<o;)r.remove(i[c])}function Sb(n){return function(){zx(this,n)}}function _b(n){return function(){Dx(this,n)}}function Cb(n,i){return function(){(i.apply(this,arguments)?zx:Dx)(this,n)}}function Mb(n,i){var r=Ax(n+"");if(arguments.length<2){for(var c=dh(this.node()),o=-1,h=r.length;++o<h;)if(!c.contains(r[o]))return!1;return!0}return this.each((typeof i=="function"?Cb:i?Sb:_b)(r,i))}function Tb(){this.textContent=""}function kb(n){return function(){this.textContent=n}}function Ab(n){return function(){var i=n.apply(this,arguments);this.textContent=i??""}}function Eb(n){return arguments.length?this.each(n==null?Tb:(typeof n=="function"?Ab:kb)(n)):this.node().textContent}function zb(){this.innerHTML=""}function Db(n){return function(){this.innerHTML=n}}function Rb(n){return function(){var i=n.apply(this,arguments);this.innerHTML=i??""}}function Lb(n){return arguments.length?this.each(n==null?zb:(typeof n=="function"?Rb:Db)(n)):this.node().innerHTML}function Ob(){this.nextSibling&&this.parentNode.appendChild(this)}function Hb(){return this.each(Ob)}function Bb(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ub(){return this.each(Bb)}function qb(n){var i=typeof n=="function"?n:Sx(n);return this.select(function(){return this.appendChild(i.apply(this,arguments))})}function Yb(){return null}function Vb(n,i){var r=typeof n=="function"?n:Sx(n),c=i==null?Yb:typeof i=="function"?i:oh(i);return this.select(function(){return this.insertBefore(r.apply(this,arguments),c.apply(this,arguments)||null)})}function Gb(){var n=this.parentNode;n&&n.removeChild(this)}function $b(){return this.each(Gb)}function Xb(){var n=this.cloneNode(!1),i=this.parentNode;return i?i.insertBefore(n,this.nextSibling):n}function Fb(){var n=this.cloneNode(!0),i=this.parentNode;return i?i.insertBefore(n,this.nextSibling):n}function Kb(n){return this.select(n?Fb:Xb)}function Pb(n){return arguments.length?this.property("__data__",n):this.node().__data__}function Qb(n){return function(i){n.call(this,i,this.__data__)}}function Wb(n){return n.trim().split(/^|\s+/).map(function(i){var r="",c=i.indexOf(".");return c>=0&&(r=i.slice(c+1),i=i.slice(0,c)),{type:i,name:r}})}function Zb(n){return function(){var i=this.__on;if(i){for(var r=0,c=-1,o=i.length,h;r<o;++r)h=i[r],(!n.type||h.type===n.type)&&h.name===n.name?this.removeEventListener(h.type,h.listener,h.options):i[++c]=h;++c?i.length=c:delete this.__on}}}function Ib(n,i,r){return function(){var c=this.__on,o,h=Qb(i);if(c){for(var f=0,p=c.length;f<p;++f)if((o=c[f]).type===n.type&&o.name===n.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=h,o.options=r),o.value=i;return}}this.addEventListener(n.type,h,r),o={type:n.type,name:n.name,value:i,listener:h,options:r},c?c.push(o):this.__on=[o]}}function Jb(n,i,r){var c=Wb(n+""),o,h=c.length,f;if(arguments.length<2){var p=this.node().__on;if(p){for(var x=0,m=p.length,g;x<m;++x)for(o=0,g=p[x];o<h;++o)if((f=c[o]).type===g.type&&f.name===g.name)return g.value}return}for(p=i?Ib:Zb,o=0;o<h;++o)this.each(p(c[o],i,r));return this}function Rx(n,i,r){var c=kx(n),o=c.CustomEvent;typeof o=="function"?o=new o(i,r):(o=c.document.createEvent("Event"),r?(o.initEvent(i,r.bubbles,r.cancelable),o.detail=r.detail):o.initEvent(i,!1,!1)),n.dispatchEvent(o)}function e1(n,i){return function(){return Rx(this,n,i)}}function t1(n,i){return function(){return Rx(this,n,i.apply(this,arguments))}}function s1(n,i){return this.each((typeof i=="function"?t1:e1)(n,i))}function*n1(){for(var n=this._groups,i=0,r=n.length;i<r;++i)for(var c=n[i],o=0,h=c.length,f;o<h;++o)(f=c[o])&&(yield f)}var Lx=[null];function Wt(n,i){this._groups=n,this._parents=i}function ol(){return new Wt([[document.documentElement]],Lx)}function a1(){return this}Wt.prototype=ol.prototype={constructor:Wt,select:Av,selectAll:Rv,selectChild:Bv,selectChildren:Vv,filter:Gv,data:Qv,enter:$v,exit:Zv,join:Iv,merge:Jv,selection:a1,order:eb,sort:tb,call:nb,nodes:ab,node:ib,size:lb,empty:rb,each:cb,attr:pb,style:jb,property:wb,classed:Mb,text:Eb,html:Lb,raise:Hb,lower:Ub,append:qb,insert:Vb,remove:$b,clone:Kb,datum:Pb,on:Jb,dispatch:s1,[Symbol.iterator]:n1};function Ee(n){return typeof n=="string"?new Wt([[document.querySelector(n)]],[document.documentElement]):new Wt([[n]],Lx)}function i1(n){let i;for(;i=n.sourceEvent;)n=i;return n}function js(n,i){if(n=i1(n),i===void 0&&(i=n.currentTarget),i){var r=i.ownerSVGElement||i;if(r.createSVGPoint){var c=r.createSVGPoint();return c.x=n.clientX,c.y=n.clientY,c=c.matrixTransform(i.getScreenCTM().inverse()),[c.x,c.y]}if(i.getBoundingClientRect){var o=i.getBoundingClientRect();return[n.clientX-o.left-i.clientLeft,n.clientY-o.top-i.clientTop]}}return[n.pageX,n.pageY]}const l1={passive:!1},Ji={capture:!0,passive:!1};function Cd(n){n.stopImmediatePropagation()}function Ha(n){n.preventDefault(),n.stopImmediatePropagation()}function Ox(n){var i=n.document.documentElement,r=Ee(n).on("dragstart.drag",Ha,Ji);"onselectstart"in i?r.on("selectstart.drag",Ha,Ji):(i.__noselect=i.style.MozUserSelect,i.style.MozUserSelect="none")}function Hx(n,i){var r=n.document.documentElement,c=Ee(n).on("dragstart.drag",null);i&&(c.on("click.drag",Ha,Ji),setTimeout(function(){c.on("click.drag",null)},0)),"onselectstart"in r?c.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const _r=n=>()=>n;function Yd(n,{sourceEvent:i,subject:r,target:c,identifier:o,active:h,x:f,y:p,dx:x,dy:m,dispatch:g}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:i,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:c,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:h,enumerable:!0,configurable:!0},x:{value:f,enumerable:!0,configurable:!0},y:{value:p,enumerable:!0,configurable:!0},dx:{value:x,enumerable:!0,configurable:!0},dy:{value:m,enumerable:!0,configurable:!0},_:{value:g}})}Yd.prototype.on=function(){var n=this._.on.apply(this._,arguments);return n===this._?this:n};function r1(n){return!n.ctrlKey&&!n.button}function c1(){return this.parentNode}function o1(n,i){return i??{x:n.x,y:n.y}}function d1(){return navigator.maxTouchPoints||"ontouchstart"in this}function hh(){var n=r1,i=c1,r=o1,c=d1,o={},h=nc("start","drag","end"),f=0,p,x,m,g,y=0;function j(L){L.on("mousedown.drag",w).filter(c).on("touchstart.drag",R).on("touchmove.drag",z,l1).on("touchend.drag touchcancel.drag",H).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function w(L,O){if(!(g||!n.call(this,L,O))){var V=F(this,i.call(this,L,O),L,O,"mouse");V&&(Ee(L.view).on("mousemove.drag",B,Ji).on("mouseup.drag",M,Ji),Ox(L.view),Cd(L),m=!1,p=L.clientX,x=L.clientY,V("start",L))}}function B(L){if(Ha(L),!m){var O=L.clientX-p,V=L.clientY-x;m=O*O+V*V>y}o.mouse("drag",L)}function M(L){Ee(L.view).on("mousemove.drag mouseup.drag",null),Hx(L.view,m),Ha(L),o.mouse("end",L)}function R(L,O){if(n.call(this,L,O)){var V=L.changedTouches,Q=i.call(this,L,O),se=V.length,q,J;for(q=0;q<se;++q)(J=F(this,Q,L,O,V[q].identifier,V[q]))&&(Cd(L),J("start",L,V[q]))}}function z(L){var O=L.changedTouches,V=O.length,Q,se;for(Q=0;Q<V;++Q)(se=o[O[Q].identifier])&&(Ha(L),se("drag",L,O[Q]))}function H(L){var O=L.changedTouches,V=O.length,Q,se;for(g&&clearTimeout(g),g=setTimeout(function(){g=null},500),Q=0;Q<V;++Q)(se=o[O[Q].identifier])&&(Cd(L),se("end",L,O[Q]))}function F(L,O,V,Q,se,q){var J=h.copy(),G=js(q||V,O),K,ae,E;if((E=r.call(L,new Yd("beforestart",{sourceEvent:V,target:j,identifier:se,active:f,x:G[0],y:G[1],dx:0,dy:0,dispatch:J}),Q))!=null)return K=E.x-G[0]||0,ae=E.y-G[1]||0,function k(b,D,Y){var U=G,N;switch(b){case"start":o[se]=k,N=f++;break;case"end":delete o[se],--f;case"drag":G=js(Y||D,O),N=f;break}J.call(b,L,new Yd(b,{sourceEvent:D,subject:E,target:j,identifier:se,active:N,x:G[0]+K,y:G[1]+ae,dx:G[0]-U[0],dy:G[1]-U[1],dispatch:J}),Q)}}return j.filter=function(L){return arguments.length?(n=typeof L=="function"?L:_r(!!L),j):n},j.container=function(L){return arguments.length?(i=typeof L=="function"?L:_r(L),j):i},j.subject=function(L){return arguments.length?(r=typeof L=="function"?L:_r(L),j):r},j.touchable=function(L){return arguments.length?(c=typeof L=="function"?L:_r(!!L),j):c},j.on=function(){var L=h.on.apply(h,arguments);return L===h?j:L},j.clickDistance=function(L){return arguments.length?(y=(L=+L)*L,j):Math.sqrt(y)},j}function uh(n,i,r){n.prototype=i.prototype=r,r.constructor=n}function Bx(n,i){var r=Object.create(n.prototype);for(var c in i)r[c]=i[c];return r}function dl(){}var el=.7,Kr=1/el,Ba="\\s*([+-]?\\d+)\\s*",tl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",vs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",h1=/^#([0-9a-f]{3,8})$/,u1=new RegExp(`^rgb\\(${Ba},${Ba},${Ba}\\)$`),f1=new RegExp(`^rgb\\(${vs},${vs},${vs}\\)$`),m1=new RegExp(`^rgba\\(${Ba},${Ba},${Ba},${tl}\\)$`),p1=new RegExp(`^rgba\\(${vs},${vs},${vs},${tl}\\)$`),x1=new RegExp(`^hsl\\(${tl},${vs},${vs}\\)$`),g1=new RegExp(`^hsla\\(${tl},${vs},${vs},${tl}\\)$`),Mp={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};uh(dl,Gn,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:Tp,formatHex:Tp,formatHex8:y1,formatHsl:j1,formatRgb:kp,toString:kp});function Tp(){return this.rgb().formatHex()}function y1(){return this.rgb().formatHex8()}function j1(){return Ux(this).formatHsl()}function kp(){return this.rgb().formatRgb()}function Gn(n){var i,r;return n=(n+"").trim().toLowerCase(),(i=h1.exec(n))?(r=i[1].length,i=parseInt(i[1],16),r===6?Ap(i):r===3?new Yt(i>>8&15|i>>4&240,i>>4&15|i&240,(i&15)<<4|i&15,1):r===8?Cr(i>>24&255,i>>16&255,i>>8&255,(i&255)/255):r===4?Cr(i>>12&15|i>>8&240,i>>8&15|i>>4&240,i>>4&15|i&240,((i&15)<<4|i&15)/255):null):(i=u1.exec(n))?new Yt(i[1],i[2],i[3],1):(i=f1.exec(n))?new Yt(i[1]*255/100,i[2]*255/100,i[3]*255/100,1):(i=m1.exec(n))?Cr(i[1],i[2],i[3],i[4]):(i=p1.exec(n))?Cr(i[1]*255/100,i[2]*255/100,i[3]*255/100,i[4]):(i=x1.exec(n))?Dp(i[1],i[2]/100,i[3]/100,1):(i=g1.exec(n))?Dp(i[1],i[2]/100,i[3]/100,i[4]):Mp.hasOwnProperty(n)?Ap(Mp[n]):n==="transparent"?new Yt(NaN,NaN,NaN,0):null}function Ap(n){return new Yt(n>>16&255,n>>8&255,n&255,1)}function Cr(n,i,r,c){return c<=0&&(n=i=r=NaN),new Yt(n,i,r,c)}function v1(n){return n instanceof dl||(n=Gn(n)),n?(n=n.rgb(),new Yt(n.r,n.g,n.b,n.opacity)):new Yt}function Vd(n,i,r,c){return arguments.length===1?v1(n):new Yt(n,i,r,c??1)}function Yt(n,i,r,c){this.r=+n,this.g=+i,this.b=+r,this.opacity=+c}uh(Yt,Vd,Bx(dl,{brighter(n){return n=n==null?Kr:Math.pow(Kr,n),new Yt(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?el:Math.pow(el,n),new Yt(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new Yt(Vn(this.r),Vn(this.g),Vn(this.b),Pr(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ep,formatHex:Ep,formatHex8:b1,formatRgb:zp,toString:zp}));function Ep(){return`#${qn(this.r)}${qn(this.g)}${qn(this.b)}`}function b1(){return`#${qn(this.r)}${qn(this.g)}${qn(this.b)}${qn((isNaN(this.opacity)?1:this.opacity)*255)}`}function zp(){const n=Pr(this.opacity);return`${n===1?"rgb(":"rgba("}${Vn(this.r)}, ${Vn(this.g)}, ${Vn(this.b)}${n===1?")":`, ${n})`}`}function Pr(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function Vn(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function qn(n){return n=Vn(n),(n<16?"0":"")+n.toString(16)}function Dp(n,i,r,c){return c<=0?n=i=r=NaN:r<=0||r>=1?n=i=NaN:i<=0&&(n=NaN),new us(n,i,r,c)}function Ux(n){if(n instanceof us)return new us(n.h,n.s,n.l,n.opacity);if(n instanceof dl||(n=Gn(n)),!n)return new us;if(n instanceof us)return n;n=n.rgb();var i=n.r/255,r=n.g/255,c=n.b/255,o=Math.min(i,r,c),h=Math.max(i,r,c),f=NaN,p=h-o,x=(h+o)/2;return p?(i===h?f=(r-c)/p+(r<c)*6:r===h?f=(c-i)/p+2:f=(i-r)/p+4,p/=x<.5?h+o:2-h-o,f*=60):p=x>0&&x<1?0:f,new us(f,p,x,n.opacity)}function N1(n,i,r,c){return arguments.length===1?Ux(n):new us(n,i,r,c??1)}function us(n,i,r,c){this.h=+n,this.s=+i,this.l=+r,this.opacity=+c}uh(us,N1,Bx(dl,{brighter(n){return n=n==null?Kr:Math.pow(Kr,n),new us(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?el:Math.pow(el,n),new us(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,i=isNaN(n)||isNaN(this.s)?0:this.s,r=this.l,c=r+(r<.5?r:1-r)*i,o=2*r-c;return new Yt(Md(n>=240?n-240:n+120,o,c),Md(n,o,c),Md(n<120?n+240:n-120,o,c),this.opacity)},clamp(){return new us(Rp(this.h),Mr(this.s),Mr(this.l),Pr(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=Pr(this.opacity);return`${n===1?"hsl(":"hsla("}${Rp(this.h)}, ${Mr(this.s)*100}%, ${Mr(this.l)*100}%${n===1?")":`, ${n})`}`}}));function Rp(n){return n=(n||0)%360,n<0?n+360:n}function Mr(n){return Math.max(0,Math.min(1,n||0))}function Md(n,i,r){return(n<60?i+(r-i)*n/60:n<180?r:n<240?i+(r-i)*(240-n)/60:i)*255}const fh=n=>()=>n;function w1(n,i){return function(r){return n+r*i}}function S1(n,i,r){return n=Math.pow(n,r),i=Math.pow(i,r)-n,r=1/r,function(c){return Math.pow(n+c*i,r)}}function _1(n){return(n=+n)==1?qx:function(i,r){return r-i?S1(i,r,n):fh(isNaN(i)?r:i)}}function qx(n,i){var r=i-n;return r?w1(n,r):fh(isNaN(n)?i:n)}const sl=(function n(i){var r=_1(i);function c(o,h){var f=r((o=Vd(o)).r,(h=Vd(h)).r),p=r(o.g,h.g),x=r(o.b,h.b),m=qx(o.opacity,h.opacity);return function(g){return o.r=f(g),o.g=p(g),o.b=x(g),o.opacity=m(g),o+""}}return c.gamma=n,c})(1);function C1(n,i){i||(i=[]);var r=n?Math.min(i.length,n.length):0,c=i.slice(),o;return function(h){for(o=0;o<r;++o)c[o]=n[o]*(1-h)+i[o]*h;return c}}function M1(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function T1(n,i){var r=i?i.length:0,c=n?Math.min(r,n.length):0,o=new Array(c),h=new Array(r),f;for(f=0;f<c;++f)o[f]=mh(n[f],i[f]);for(;f<r;++f)h[f]=i[f];return function(p){for(f=0;f<c;++f)h[f]=o[f](p);return h}}function k1(n,i){var r=new Date;return n=+n,i=+i,function(c){return r.setTime(n*(1-c)+i*c),r}}function hs(n,i){return n=+n,i=+i,function(r){return n*(1-r)+i*r}}function A1(n,i){var r={},c={},o;(n===null||typeof n!="object")&&(n={}),(i===null||typeof i!="object")&&(i={});for(o in i)o in n?r[o]=mh(n[o],i[o]):c[o]=i[o];return function(h){for(o in r)c[o]=r[o](h);return c}}var Gd=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Td=new RegExp(Gd.source,"g");function E1(n){return function(){return n}}function z1(n){return function(i){return n(i)+""}}function Yx(n,i){var r=Gd.lastIndex=Td.lastIndex=0,c,o,h,f=-1,p=[],x=[];for(n=n+"",i=i+"";(c=Gd.exec(n))&&(o=Td.exec(i));)(h=o.index)>r&&(h=i.slice(r,h),p[f]?p[f]+=h:p[++f]=h),(c=c[0])===(o=o[0])?p[f]?p[f]+=o:p[++f]=o:(p[++f]=null,x.push({i:f,x:hs(c,o)})),r=Td.lastIndex;return r<i.length&&(h=i.slice(r),p[f]?p[f]+=h:p[++f]=h),p.length<2?x[0]?z1(x[0].x):E1(i):(i=x.length,function(m){for(var g=0,y;g<i;++g)p[(y=x[g]).i]=y.x(m);return p.join("")})}function mh(n,i){var r=typeof i,c;return i==null||r==="boolean"?fh(i):(r==="number"?hs:r==="string"?(c=Gn(i))?(i=c,sl):Yx:i instanceof Gn?sl:i instanceof Date?k1:M1(i)?C1:Array.isArray(i)?T1:typeof i.valueOf!="function"&&typeof i.toString!="function"||isNaN(i)?A1:hs)(n,i)}function D1(n,i){return n=+n,i=+i,function(r){return Math.round(n*(1-r)+i*r)}}var Lp=180/Math.PI,$d={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Vx(n,i,r,c,o,h){var f,p,x;return(f=Math.sqrt(n*n+i*i))&&(n/=f,i/=f),(x=n*r+i*c)&&(r-=n*x,c-=i*x),(p=Math.sqrt(r*r+c*c))&&(r/=p,c/=p,x/=p),n*c<i*r&&(n=-n,i=-i,x=-x,f=-f),{translateX:o,translateY:h,rotate:Math.atan2(i,n)*Lp,skewX:Math.atan(x)*Lp,scaleX:f,scaleY:p}}var Tr;function R1(n){const i=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return i.isIdentity?$d:Vx(i.a,i.b,i.c,i.d,i.e,i.f)}function L1(n){return n==null||(Tr||(Tr=document.createElementNS("http://www.w3.org/2000/svg","g")),Tr.setAttribute("transform",n),!(n=Tr.transform.baseVal.consolidate()))?$d:(n=n.matrix,Vx(n.a,n.b,n.c,n.d,n.e,n.f))}function Gx(n,i,r,c){function o(m){return m.length?m.pop()+" ":""}function h(m,g,y,j,w,B){if(m!==y||g!==j){var M=w.push("translate(",null,i,null,r);B.push({i:M-4,x:hs(m,y)},{i:M-2,x:hs(g,j)})}else(y||j)&&w.push("translate("+y+i+j+r)}function f(m,g,y,j){m!==g?(m-g>180?g+=360:g-m>180&&(m+=360),j.push({i:y.push(o(y)+"rotate(",null,c)-2,x:hs(m,g)})):g&&y.push(o(y)+"rotate("+g+c)}function p(m,g,y,j){m!==g?j.push({i:y.push(o(y)+"skewX(",null,c)-2,x:hs(m,g)}):g&&y.push(o(y)+"skewX("+g+c)}function x(m,g,y,j,w,B){if(m!==y||g!==j){var M=w.push(o(w)+"scale(",null,",",null,")");B.push({i:M-4,x:hs(m,y)},{i:M-2,x:hs(g,j)})}else(y!==1||j!==1)&&w.push(o(w)+"scale("+y+","+j+")")}return function(m,g){var y=[],j=[];return m=n(m),g=n(g),h(m.translateX,m.translateY,g.translateX,g.translateY,y,j),f(m.rotate,g.rotate,y,j),p(m.skewX,g.skewX,y,j),x(m.scaleX,m.scaleY,g.scaleX,g.scaleY,y,j),m=g=null,function(w){for(var B=-1,M=j.length,R;++B<M;)y[(R=j[B]).i]=R.x(w);return y.join("")}}}var O1=Gx(R1,"px, ","px)","deg)"),H1=Gx(L1,", ",")",")"),B1=1e-12;function Op(n){return((n=Math.exp(n))+1/n)/2}function U1(n){return((n=Math.exp(n))-1/n)/2}function q1(n){return((n=Math.exp(2*n))-1)/(n+1)}const Y1=(function n(i,r,c){function o(h,f){var p=h[0],x=h[1],m=h[2],g=f[0],y=f[1],j=f[2],w=g-p,B=y-x,M=w*w+B*B,R,z;if(M<B1)z=Math.log(j/m)/i,R=function(Q){return[p+Q*w,x+Q*B,m*Math.exp(i*Q*z)]};else{var H=Math.sqrt(M),F=(j*j-m*m+c*M)/(2*m*r*H),L=(j*j-m*m-c*M)/(2*j*r*H),O=Math.log(Math.sqrt(F*F+1)-F),V=Math.log(Math.sqrt(L*L+1)-L);z=(V-O)/i,R=function(Q){var se=Q*z,q=Op(O),J=m/(r*H)*(q*q1(i*se+O)-U1(O));return[p+J*w,x+J*B,m*q/Op(i*se+O)]}}return R.duration=z*1e3*i/Math.SQRT2,R}return o.rho=function(h){var f=Math.max(.001,+h),p=f*f,x=p*p;return n(f,p,x)},o})(Math.SQRT2,2,4);var Ya=0,Qi=0,Xi=0,$x=1e3,Qr,Wi,Wr=0,$n=0,ic=0,nl=typeof performance=="object"&&performance.now?performance:Date,Xx=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function ph(){return $n||(Xx(V1),$n=nl.now()+ic)}function V1(){$n=0}function Zr(){this._call=this._time=this._next=null}Zr.prototype=Fx.prototype={constructor:Zr,restart:function(n,i,r){if(typeof n!="function")throw new TypeError("callback is not a function");r=(r==null?ph():+r)+(i==null?0:+i),!this._next&&Wi!==this&&(Wi?Wi._next=this:Qr=this,Wi=this),this._call=n,this._time=r,Xd()},stop:function(){this._call&&(this._call=null,this._time=1/0,Xd())}};function Fx(n,i,r){var c=new Zr;return c.restart(n,i,r),c}function G1(){ph(),++Ya;for(var n=Qr,i;n;)(i=$n-n._time)>=0&&n._call.call(void 0,i),n=n._next;--Ya}function Hp(){$n=(Wr=nl.now())+ic,Ya=Qi=0;try{G1()}finally{Ya=0,X1(),$n=0}}function $1(){var n=nl.now(),i=n-Wr;i>$x&&(ic-=i,Wr=n)}function X1(){for(var n,i=Qr,r,c=1/0;i;)i._call?(c>i._time&&(c=i._time),n=i,i=i._next):(r=i._next,i._next=null,i=n?n._next=r:Qr=r);Wi=n,Xd(c)}function Xd(n){if(!Ya){Qi&&(Qi=clearTimeout(Qi));var i=n-$n;i>24?(n<1/0&&(Qi=setTimeout(Hp,n-nl.now()-ic)),Xi&&(Xi=clearInterval(Xi))):(Xi||(Wr=nl.now(),Xi=setInterval($1,$x)),Ya=1,Xx(Hp))}}function Bp(n,i,r){var c=new Zr;return i=i==null?0:+i,c.restart(o=>{c.stop(),n(o+i)},i,r),c}var F1=nc("start","end","cancel","interrupt"),K1=[],Kx=0,Up=1,Fd=2,Br=3,qp=4,Kd=5,Ur=6;function lc(n,i,r,c,o,h){var f=n.__transition;if(!f)n.__transition={};else if(r in f)return;P1(n,r,{name:i,index:c,group:o,on:F1,tween:K1,time:h.time,delay:h.delay,duration:h.duration,ease:h.ease,timer:null,state:Kx})}function xh(n,i){var r=fs(n,i);if(r.state>Kx)throw new Error("too late; already scheduled");return r}function Ss(n,i){var r=fs(n,i);if(r.state>Br)throw new Error("too late; already running");return r}function fs(n,i){var r=n.__transition;if(!r||!(r=r[i]))throw new Error("transition not found");return r}function P1(n,i,r){var c=n.__transition,o;c[i]=r,r.timer=Fx(h,0,r.time);function h(m){r.state=Up,r.timer.restart(f,r.delay,r.time),r.delay<=m&&f(m-r.delay)}function f(m){var g,y,j,w;if(r.state!==Up)return x();for(g in c)if(w=c[g],w.name===r.name){if(w.state===Br)return Bp(f);w.state===qp?(w.state=Ur,w.timer.stop(),w.on.call("interrupt",n,n.__data__,w.index,w.group),delete c[g]):+g<i&&(w.state=Ur,w.timer.stop(),w.on.call("cancel",n,n.__data__,w.index,w.group),delete c[g])}if(Bp(function(){r.state===Br&&(r.state=qp,r.timer.restart(p,r.delay,r.time),p(m))}),r.state=Fd,r.on.call("start",n,n.__data__,r.index,r.group),r.state===Fd){for(r.state=Br,o=new Array(j=r.tween.length),g=0,y=-1;g<j;++g)(w=r.tween[g].value.call(n,n.__data__,r.index,r.group))&&(o[++y]=w);o.length=y+1}}function p(m){for(var g=m<r.duration?r.ease.call(null,m/r.duration):(r.timer.restart(x),r.state=Kd,1),y=-1,j=o.length;++y<j;)o[y].call(n,g);r.state===Kd&&(r.on.call("end",n,n.__data__,r.index,r.group),x())}function x(){r.state=Ur,r.timer.stop(),delete c[i];for(var m in c)return;delete n.__transition}}function qr(n,i){var r=n.__transition,c,o,h=!0,f;if(r){i=i==null?null:i+"";for(f in r){if((c=r[f]).name!==i){h=!1;continue}o=c.state>Fd&&c.state<Kd,c.state=Ur,c.timer.stop(),c.on.call(o?"interrupt":"cancel",n,n.__data__,c.index,c.group),delete r[f]}h&&delete n.__transition}}function Q1(n){return this.each(function(){qr(this,n)})}function W1(n,i){var r,c;return function(){var o=Ss(this,n),h=o.tween;if(h!==r){c=r=h;for(var f=0,p=c.length;f<p;++f)if(c[f].name===i){c=c.slice(),c.splice(f,1);break}}o.tween=c}}function Z1(n,i,r){var c,o;if(typeof r!="function")throw new Error;return function(){var h=Ss(this,n),f=h.tween;if(f!==c){o=(c=f).slice();for(var p={name:i,value:r},x=0,m=o.length;x<m;++x)if(o[x].name===i){o[x]=p;break}x===m&&o.push(p)}h.tween=o}}function I1(n,i){var r=this._id;if(n+="",arguments.length<2){for(var c=fs(this.node(),r).tween,o=0,h=c.length,f;o<h;++o)if((f=c[o]).name===n)return f.value;return null}return this.each((i==null?W1:Z1)(r,n,i))}function gh(n,i,r){var c=n._id;return n.each(function(){var o=Ss(this,c);(o.value||(o.value={}))[i]=r.apply(this,arguments)}),function(o){return fs(o,c).value[i]}}function Px(n,i){var r;return(typeof i=="number"?hs:i instanceof Gn?sl:(r=Gn(i))?(i=r,sl):Yx)(n,i)}function J1(n){return function(){this.removeAttribute(n)}}function eN(n){return function(){this.removeAttributeNS(n.space,n.local)}}function tN(n,i,r){var c,o=r+"",h;return function(){var f=this.getAttribute(n);return f===o?null:f===c?h:h=i(c=f,r)}}function sN(n,i,r){var c,o=r+"",h;return function(){var f=this.getAttributeNS(n.space,n.local);return f===o?null:f===c?h:h=i(c=f,r)}}function nN(n,i,r){var c,o,h;return function(){var f,p=r(this),x;return p==null?void this.removeAttribute(n):(f=this.getAttribute(n),x=p+"",f===x?null:f===c&&x===o?h:(o=x,h=i(c=f,p)))}}function aN(n,i,r){var c,o,h;return function(){var f,p=r(this),x;return p==null?void this.removeAttributeNS(n.space,n.local):(f=this.getAttributeNS(n.space,n.local),x=p+"",f===x?null:f===c&&x===o?h:(o=x,h=i(c=f,p)))}}function iN(n,i){var r=ac(n),c=r==="transform"?H1:Px;return this.attrTween(n,typeof i=="function"?(r.local?aN:nN)(r,c,gh(this,"attr."+n,i)):i==null?(r.local?eN:J1)(r):(r.local?sN:tN)(r,c,i))}function lN(n,i){return function(r){this.setAttribute(n,i.call(this,r))}}function rN(n,i){return function(r){this.setAttributeNS(n.space,n.local,i.call(this,r))}}function cN(n,i){var r,c;function o(){var h=i.apply(this,arguments);return h!==c&&(r=(c=h)&&rN(n,h)),r}return o._value=i,o}function oN(n,i){var r,c;function o(){var h=i.apply(this,arguments);return h!==c&&(r=(c=h)&&lN(n,h)),r}return o._value=i,o}function dN(n,i){var r="attr."+n;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(i==null)return this.tween(r,null);if(typeof i!="function")throw new Error;var c=ac(n);return this.tween(r,(c.local?cN:oN)(c,i))}function hN(n,i){return function(){xh(this,n).delay=+i.apply(this,arguments)}}function uN(n,i){return i=+i,function(){xh(this,n).delay=i}}function fN(n){var i=this._id;return arguments.length?this.each((typeof n=="function"?hN:uN)(i,n)):fs(this.node(),i).delay}function mN(n,i){return function(){Ss(this,n).duration=+i.apply(this,arguments)}}function pN(n,i){return i=+i,function(){Ss(this,n).duration=i}}function xN(n){var i=this._id;return arguments.length?this.each((typeof n=="function"?mN:pN)(i,n)):fs(this.node(),i).duration}function gN(n,i){if(typeof i!="function")throw new Error;return function(){Ss(this,n).ease=i}}function yN(n){var i=this._id;return arguments.length?this.each(gN(i,n)):fs(this.node(),i).ease}function jN(n,i){return function(){var r=i.apply(this,arguments);if(typeof r!="function")throw new Error;Ss(this,n).ease=r}}function vN(n){if(typeof n!="function")throw new Error;return this.each(jN(this._id,n))}function bN(n){typeof n!="function"&&(n=Cx(n));for(var i=this._groups,r=i.length,c=new Array(r),o=0;o<r;++o)for(var h=i[o],f=h.length,p=c[o]=[],x,m=0;m<f;++m)(x=h[m])&&n.call(x,x.__data__,m,h)&&p.push(x);return new Ks(c,this._parents,this._name,this._id)}function NN(n){if(n._id!==this._id)throw new Error;for(var i=this._groups,r=n._groups,c=i.length,o=r.length,h=Math.min(c,o),f=new Array(c),p=0;p<h;++p)for(var x=i[p],m=r[p],g=x.length,y=f[p]=new Array(g),j,w=0;w<g;++w)(j=x[w]||m[w])&&(y[w]=j);for(;p<c;++p)f[p]=i[p];return new Ks(f,this._parents,this._name,this._id)}function wN(n){return(n+"").trim().split(/^|\s+/).every(function(i){var r=i.indexOf(".");return r>=0&&(i=i.slice(0,r)),!i||i==="start"})}function SN(n,i,r){var c,o,h=wN(i)?xh:Ss;return function(){var f=h(this,n),p=f.on;p!==c&&(o=(c=p).copy()).on(i,r),f.on=o}}function _N(n,i){var r=this._id;return arguments.length<2?fs(this.node(),r).on.on(n):this.each(SN(r,n,i))}function CN(n){return function(){var i=this.parentNode;for(var r in this.__transition)if(+r!==n)return;i&&i.removeChild(this)}}function MN(){return this.on("end.remove",CN(this._id))}function TN(n){var i=this._name,r=this._id;typeof n!="function"&&(n=oh(n));for(var c=this._groups,o=c.length,h=new Array(o),f=0;f<o;++f)for(var p=c[f],x=p.length,m=h[f]=new Array(x),g,y,j=0;j<x;++j)(g=p[j])&&(y=n.call(g,g.__data__,j,p))&&("__data__"in g&&(y.__data__=g.__data__),m[j]=y,lc(m[j],i,r,j,m,fs(g,r)));return new Ks(h,this._parents,i,r)}function kN(n){var i=this._name,r=this._id;typeof n!="function"&&(n=_x(n));for(var c=this._groups,o=c.length,h=[],f=[],p=0;p<o;++p)for(var x=c[p],m=x.length,g,y=0;y<m;++y)if(g=x[y]){for(var j=n.call(g,g.__data__,y,x),w,B=fs(g,r),M=0,R=j.length;M<R;++M)(w=j[M])&&lc(w,i,r,M,j,B);h.push(j),f.push(g)}return new Ks(h,f,i,r)}var AN=ol.prototype.constructor;function EN(){return new AN(this._groups,this._parents)}function zN(n,i){var r,c,o;return function(){var h=qa(this,n),f=(this.style.removeProperty(n),qa(this,n));return h===f?null:h===r&&f===c?o:o=i(r=h,c=f)}}function Qx(n){return function(){this.style.removeProperty(n)}}function DN(n,i,r){var c,o=r+"",h;return function(){var f=qa(this,n);return f===o?null:f===c?h:h=i(c=f,r)}}function RN(n,i,r){var c,o,h;return function(){var f=qa(this,n),p=r(this),x=p+"";return p==null&&(x=p=(this.style.removeProperty(n),qa(this,n))),f===x?null:f===c&&x===o?h:(o=x,h=i(c=f,p))}}function LN(n,i){var r,c,o,h="style."+i,f="end."+h,p;return function(){var x=Ss(this,n),m=x.on,g=x.value[h]==null?p||(p=Qx(i)):void 0;(m!==r||o!==g)&&(c=(r=m).copy()).on(f,o=g),x.on=c}}function ON(n,i,r){var c=(n+="")=="transform"?O1:Px;return i==null?this.styleTween(n,zN(n,c)).on("end.style."+n,Qx(n)):typeof i=="function"?this.styleTween(n,RN(n,c,gh(this,"style."+n,i))).each(LN(this._id,n)):this.styleTween(n,DN(n,c,i),r).on("end.style."+n,null)}function HN(n,i,r){return function(c){this.style.setProperty(n,i.call(this,c),r)}}function BN(n,i,r){var c,o;function h(){var f=i.apply(this,arguments);return f!==o&&(c=(o=f)&&HN(n,f,r)),c}return h._value=i,h}function UN(n,i,r){var c="style."+(n+="");if(arguments.length<2)return(c=this.tween(c))&&c._value;if(i==null)return this.tween(c,null);if(typeof i!="function")throw new Error;return this.tween(c,BN(n,i,r??""))}function qN(n){return function(){this.textContent=n}}function YN(n){return function(){var i=n(this);this.textContent=i??""}}function VN(n){return this.tween("text",typeof n=="function"?YN(gh(this,"text",n)):qN(n==null?"":n+""))}function GN(n){return function(i){this.textContent=n.call(this,i)}}function $N(n){var i,r;function c(){var o=n.apply(this,arguments);return o!==r&&(i=(r=o)&&GN(o)),i}return c._value=n,c}function XN(n){var i="text";if(arguments.length<1)return(i=this.tween(i))&&i._value;if(n==null)return this.tween(i,null);if(typeof n!="function")throw new Error;return this.tween(i,$N(n))}function FN(){for(var n=this._name,i=this._id,r=Wx(),c=this._groups,o=c.length,h=0;h<o;++h)for(var f=c[h],p=f.length,x,m=0;m<p;++m)if(x=f[m]){var g=fs(x,i);lc(x,n,r,m,f,{time:g.time+g.delay+g.duration,delay:0,duration:g.duration,ease:g.ease})}return new Ks(c,this._parents,n,r)}function KN(){var n,i,r=this,c=r._id,o=r.size();return new Promise(function(h,f){var p={value:f},x={value:function(){--o===0&&h()}};r.each(function(){var m=Ss(this,c),g=m.on;g!==n&&(i=(n=g).copy(),i._.cancel.push(p),i._.interrupt.push(p),i._.end.push(x)),m.on=i}),o===0&&h()})}var PN=0;function Ks(n,i,r,c){this._groups=n,this._parents=i,this._name=r,this._id=c}function Wx(){return++PN}var Vs=ol.prototype;Ks.prototype={constructor:Ks,select:TN,selectAll:kN,selectChild:Vs.selectChild,selectChildren:Vs.selectChildren,filter:bN,merge:NN,selection:EN,transition:FN,call:Vs.call,nodes:Vs.nodes,node:Vs.node,size:Vs.size,empty:Vs.empty,each:Vs.each,on:_N,attr:iN,attrTween:dN,style:ON,styleTween:UN,text:VN,textTween:XN,remove:MN,tween:I1,delay:fN,duration:xN,ease:yN,easeVarying:vN,end:KN,[Symbol.iterator]:Vs[Symbol.iterator]};function QN(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var WN={time:null,delay:0,duration:250,ease:QN};function ZN(n,i){for(var r;!(r=n.__transition)||!(r=r[i]);)if(!(n=n.parentNode))throw new Error(`transition ${i} not found`);return r}function IN(n){var i,r;n instanceof Ks?(i=n._id,n=n._name):(i=Wx(),(r=WN).time=ph(),n=n==null?null:n+"");for(var c=this._groups,o=c.length,h=0;h<o;++h)for(var f=c[h],p=f.length,x,m=0;m<p;++m)(x=f[m])&&lc(x,n,i,m,f,r||ZN(x,i));return new Ks(c,this._parents,n,i)}ol.prototype.interrupt=Q1;ol.prototype.transition=IN;const Pd=Math.PI,Qd=2*Pd,Un=1e-6,JN=Qd-Un;function Zx(n){this._+=n[0];for(let i=1,r=n.length;i<r;++i)this._+=arguments[i]+n[i]}function e2(n){let i=Math.floor(n);if(!(i>=0))throw new Error(`invalid digits: ${n}`);if(i>15)return Zx;const r=10**i;return function(c){this._+=c[0];for(let o=1,h=c.length;o<h;++o)this._+=Math.round(arguments[o]*r)/r+c[o]}}let t2=class{constructor(i){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=i==null?Zx:e2(i)}moveTo(i,r){this._append`M${this._x0=this._x1=+i},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(i,r){this._append`L${this._x1=+i},${this._y1=+r}`}quadraticCurveTo(i,r,c,o){this._append`Q${+i},${+r},${this._x1=+c},${this._y1=+o}`}bezierCurveTo(i,r,c,o,h,f){this._append`C${+i},${+r},${+c},${+o},${this._x1=+h},${this._y1=+f}`}arcTo(i,r,c,o,h){if(i=+i,r=+r,c=+c,o=+o,h=+h,h<0)throw new Error(`negative radius: ${h}`);let f=this._x1,p=this._y1,x=c-i,m=o-r,g=f-i,y=p-r,j=g*g+y*y;if(this._x1===null)this._append`M${this._x1=i},${this._y1=r}`;else if(j>Un)if(!(Math.abs(y*x-m*g)>Un)||!h)this._append`L${this._x1=i},${this._y1=r}`;else{let w=c-f,B=o-p,M=x*x+m*m,R=w*w+B*B,z=Math.sqrt(M),H=Math.sqrt(j),F=h*Math.tan((Pd-Math.acos((M+j-R)/(2*z*H)))/2),L=F/H,O=F/z;Math.abs(L-1)>Un&&this._append`L${i+L*g},${r+L*y}`,this._append`A${h},${h},0,0,${+(y*w>g*B)},${this._x1=i+O*x},${this._y1=r+O*m}`}}arc(i,r,c,o,h,f){if(i=+i,r=+r,c=+c,f=!!f,c<0)throw new Error(`negative radius: ${c}`);let p=c*Math.cos(o),x=c*Math.sin(o),m=i+p,g=r+x,y=1^f,j=f?o-h:h-o;this._x1===null?this._append`M${m},${g}`:(Math.abs(this._x1-m)>Un||Math.abs(this._y1-g)>Un)&&this._append`L${m},${g}`,c&&(j<0&&(j=j%Qd+Qd),j>JN?this._append`A${c},${c},0,1,${y},${i-p},${r-x}A${c},${c},0,1,${y},${this._x1=m},${this._y1=g}`:j>Un&&this._append`A${c},${c},0,${+(j>=Pd)},${y},${this._x1=i+c*Math.cos(h)},${this._y1=r+c*Math.sin(h)}`)}rect(i,r,c,o){this._append`M${this._x0=this._x1=+i},${this._y0=this._y1=+r}h${c=+c}v${+o}h${-c}Z`}toString(){return this._}};const Xs=11102230246251565e-32,zt=134217729,s2=(3+8*Xs)*Xs;function kd(n,i,r,c,o){let h,f,p,x,m=i[0],g=c[0],y=0,j=0;g>m==g>-m?(h=m,m=i[++y]):(h=g,g=c[++j]);let w=0;if(y<n&&j<r)for(g>m==g>-m?(f=m+h,p=h-(f-m),m=i[++y]):(f=g+h,p=h-(f-g),g=c[++j]),h=f,p!==0&&(o[w++]=p);y<n&&j<r;)g>m==g>-m?(f=h+m,x=f-h,p=h-(f-x)+(m-x),m=i[++y]):(f=h+g,x=f-h,p=h-(f-x)+(g-x),g=c[++j]),h=f,p!==0&&(o[w++]=p);for(;y<n;)f=h+m,x=f-h,p=h-(f-x)+(m-x),m=i[++y],h=f,p!==0&&(o[w++]=p);for(;j<r;)f=h+g,x=f-h,p=h-(f-x)+(g-x),g=c[++j],h=f,p!==0&&(o[w++]=p);return(h!==0||w===0)&&(o[w++]=h),w}function n2(n,i){let r=i[0];for(let c=1;c<n;c++)r+=i[c];return r}function hl(n){return new Float64Array(n)}const a2=(3+16*Xs)*Xs,i2=(2+12*Xs)*Xs,l2=(9+64*Xs)*Xs*Xs,za=hl(4),Yp=hl(8),Vp=hl(12),Gp=hl(16),Lt=hl(4);function r2(n,i,r,c,o,h,f){let p,x,m,g,y,j,w,B,M,R,z,H,F,L,O,V,Q,se;const q=n-o,J=r-o,G=i-h,K=c-h;L=q*K,j=zt*q,w=j-(j-q),B=q-w,j=zt*K,M=j-(j-K),R=K-M,O=B*R-(L-w*M-B*M-w*R),V=G*J,j=zt*G,w=j-(j-G),B=G-w,j=zt*J,M=j-(j-J),R=J-M,Q=B*R-(V-w*M-B*M-w*R),z=O-Q,y=O-z,za[0]=O-(z+y)+(y-Q),H=L+z,y=H-L,F=L-(H-y)+(z-y),z=F-V,y=F-z,za[1]=F-(z+y)+(y-V),se=H+z,y=se-H,za[2]=H-(se-y)+(z-y),za[3]=se;let ae=n2(4,za),E=i2*f;if(ae>=E||-ae>=E||(y=n-q,p=n-(q+y)+(y-o),y=r-J,m=r-(J+y)+(y-o),y=i-G,x=i-(G+y)+(y-h),y=c-K,g=c-(K+y)+(y-h),p===0&&x===0&&m===0&&g===0)||(E=l2*f+s2*Math.abs(ae),ae+=q*g+K*p-(G*m+J*x),ae>=E||-ae>=E))return ae;L=p*K,j=zt*p,w=j-(j-p),B=p-w,j=zt*K,M=j-(j-K),R=K-M,O=B*R-(L-w*M-B*M-w*R),V=x*J,j=zt*x,w=j-(j-x),B=x-w,j=zt*J,M=j-(j-J),R=J-M,Q=B*R-(V-w*M-B*M-w*R),z=O-Q,y=O-z,Lt[0]=O-(z+y)+(y-Q),H=L+z,y=H-L,F=L-(H-y)+(z-y),z=F-V,y=F-z,Lt[1]=F-(z+y)+(y-V),se=H+z,y=se-H,Lt[2]=H-(se-y)+(z-y),Lt[3]=se;const k=kd(4,za,4,Lt,Yp);L=q*g,j=zt*q,w=j-(j-q),B=q-w,j=zt*g,M=j-(j-g),R=g-M,O=B*R-(L-w*M-B*M-w*R),V=G*m,j=zt*G,w=j-(j-G),B=G-w,j=zt*m,M=j-(j-m),R=m-M,Q=B*R-(V-w*M-B*M-w*R),z=O-Q,y=O-z,Lt[0]=O-(z+y)+(y-Q),H=L+z,y=H-L,F=L-(H-y)+(z-y),z=F-V,y=F-z,Lt[1]=F-(z+y)+(y-V),se=H+z,y=se-H,Lt[2]=H-(se-y)+(z-y),Lt[3]=se;const b=kd(k,Yp,4,Lt,Vp);L=p*g,j=zt*p,w=j-(j-p),B=p-w,j=zt*g,M=j-(j-g),R=g-M,O=B*R-(L-w*M-B*M-w*R),V=x*m,j=zt*x,w=j-(j-x),B=x-w,j=zt*m,M=j-(j-m),R=m-M,Q=B*R-(V-w*M-B*M-w*R),z=O-Q,y=O-z,Lt[0]=O-(z+y)+(y-Q),H=L+z,y=H-L,F=L-(H-y)+(z-y),z=F-V,y=F-z,Lt[1]=F-(z+y)+(y-V),se=H+z,y=se-H,Lt[2]=H-(se-y)+(z-y),Lt[3]=se;const D=kd(b,Vp,4,Lt,Gp);return Gp[D-1]}function kr(n,i,r,c,o,h){const f=(i-h)*(r-o),p=(n-o)*(c-h),x=f-p,m=Math.abs(f+p);return Math.abs(x)>=a2*m?x:-r2(n,i,r,c,o,h,m)}const $p=Math.pow(2,-52),Ar=new Uint32Array(512);class Ir{static from(i,r=u2,c=f2){const o=i.length,h=new Float64Array(o*2);for(let f=0;f<o;f++){const p=i[f];h[2*f]=r(p),h[2*f+1]=c(p)}return new Ir(h)}constructor(i){const r=i.length>>1;if(r>0&&typeof i[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=i;const c=Math.max(2*r-5,0);this._triangles=new Uint32Array(c*3),this._halfedges=new Int32Array(c*3),this._hashSize=Math.ceil(Math.sqrt(r)),this._hullPrev=new Uint32Array(r),this._hullNext=new Uint32Array(r),this._hullTri=new Uint32Array(r),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(r),this._dists=new Float64Array(r),this.update()}update(){const{coords:i,_hullPrev:r,_hullNext:c,_hullTri:o,_hullHash:h}=this,f=i.length>>1;let p=1/0,x=1/0,m=-1/0,g=-1/0;for(let q=0;q<f;q++){const J=i[2*q],G=i[2*q+1];J<p&&(p=J),G<x&&(x=G),J>m&&(m=J),G>g&&(g=G),this._ids[q]=q}const y=(p+m)/2,j=(x+g)/2;let w,B,M;for(let q=0,J=1/0;q<f;q++){const G=Ad(y,j,i[2*q],i[2*q+1]);G<J&&(w=q,J=G)}const R=i[2*w],z=i[2*w+1];for(let q=0,J=1/0;q<f;q++){if(q===w)continue;const G=Ad(R,z,i[2*q],i[2*q+1]);G<J&&G>0&&(B=q,J=G)}let H=i[2*B],F=i[2*B+1],L=1/0;for(let q=0;q<f;q++){if(q===w||q===B)continue;const J=d2(R,z,H,F,i[2*q],i[2*q+1]);J<L&&(M=q,L=J)}let O=i[2*M],V=i[2*M+1];if(L===1/0){for(let G=0;G<f;G++)this._dists[G]=i[2*G]-i[0]||i[2*G+1]-i[1];Ra(this._ids,this._dists,0,f-1);const q=new Uint32Array(f);let J=0;for(let G=0,K=-1/0;G<f;G++){const ae=this._ids[G],E=this._dists[ae];E>K&&(q[J++]=ae,K=E)}this.hull=q.subarray(0,J),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(kr(R,z,H,F,O,V)<0){const q=B,J=H,G=F;B=M,H=O,F=V,M=q,O=J,V=G}const Q=h2(R,z,H,F,O,V);this._cx=Q.x,this._cy=Q.y;for(let q=0;q<f;q++)this._dists[q]=Ad(i[2*q],i[2*q+1],Q.x,Q.y);Ra(this._ids,this._dists,0,f-1),this._hullStart=w;let se=3;c[w]=r[M]=B,c[B]=r[w]=M,c[M]=r[B]=w,o[w]=0,o[B]=1,o[M]=2,h.fill(-1),h[this._hashKey(R,z)]=w,h[this._hashKey(H,F)]=B,h[this._hashKey(O,V)]=M,this.trianglesLen=0,this._addTriangle(w,B,M,-1,-1,-1);for(let q=0,J,G;q<this._ids.length;q++){const K=this._ids[q],ae=i[2*K],E=i[2*K+1];if(q>0&&Math.abs(ae-J)<=$p&&Math.abs(E-G)<=$p||(J=ae,G=E,K===w||K===B||K===M))continue;let k=0;for(let N=0,T=this._hashKey(ae,E);N<this._hashSize&&(k=h[(T+N)%this._hashSize],!(k!==-1&&k!==c[k]));N++);k=r[k];let b=k,D;for(;D=c[b],kr(ae,E,i[2*b],i[2*b+1],i[2*D],i[2*D+1])>=0;)if(b=D,b===k){b=-1;break}if(b===-1)continue;let Y=this._addTriangle(b,K,c[b],-1,-1,o[b]);o[K]=this._legalize(Y+2),o[b]=Y,se++;let U=c[b];for(;D=c[U],kr(ae,E,i[2*U],i[2*U+1],i[2*D],i[2*D+1])<0;)Y=this._addTriangle(U,K,D,o[K],-1,o[U]),o[K]=this._legalize(Y+2),c[U]=U,se--,U=D;if(b===k)for(;D=r[b],kr(ae,E,i[2*D],i[2*D+1],i[2*b],i[2*b+1])<0;)Y=this._addTriangle(D,K,b,-1,o[b],o[D]),this._legalize(Y+2),o[D]=Y,c[b]=b,se--,b=D;this._hullStart=r[K]=b,c[b]=r[U]=K,c[K]=U,h[this._hashKey(ae,E)]=K,h[this._hashKey(i[2*b],i[2*b+1])]=b}this.hull=new Uint32Array(se);for(let q=0,J=this._hullStart;q<se;q++)this.hull[q]=J,J=c[J];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(i,r){return Math.floor(c2(i-this._cx,r-this._cy)*this._hashSize)%this._hashSize}_legalize(i){const{_triangles:r,_halfedges:c,coords:o}=this;let h=0,f=0;for(;;){const p=c[i],x=i-i%3;if(f=x+(i+2)%3,p===-1){if(h===0)break;i=Ar[--h];continue}const m=p-p%3,g=x+(i+1)%3,y=m+(p+2)%3,j=r[f],w=r[i],B=r[g],M=r[y];if(o2(o[2*j],o[2*j+1],o[2*w],o[2*w+1],o[2*B],o[2*B+1],o[2*M],o[2*M+1])){r[i]=M,r[p]=j;const z=c[y];if(z===-1){let F=this._hullStart;do{if(this._hullTri[F]===y){this._hullTri[F]=i;break}F=this._hullPrev[F]}while(F!==this._hullStart)}this._link(i,z),this._link(p,c[f]),this._link(f,y);const H=m+(p+1)%3;h<Ar.length&&(Ar[h++]=H)}else{if(h===0)break;i=Ar[--h]}}return f}_link(i,r){this._halfedges[i]=r,r!==-1&&(this._halfedges[r]=i)}_addTriangle(i,r,c,o,h,f){const p=this.trianglesLen;return this._triangles[p]=i,this._triangles[p+1]=r,this._triangles[p+2]=c,this._link(p,o),this._link(p+1,h),this._link(p+2,f),this.trianglesLen+=3,p}}function c2(n,i){const r=n/(Math.abs(n)+Math.abs(i));return(i>0?3-r:1+r)/4}function Ad(n,i,r,c){const o=n-r,h=i-c;return o*o+h*h}function o2(n,i,r,c,o,h,f,p){const x=n-f,m=i-p,g=r-f,y=c-p,j=o-f,w=h-p,B=x*x+m*m,M=g*g+y*y,R=j*j+w*w;return x*(y*R-M*w)-m*(g*R-M*j)+B*(g*w-y*j)<0}function d2(n,i,r,c,o,h){const f=r-n,p=c-i,x=o-n,m=h-i,g=f*f+p*p,y=x*x+m*m,j=.5/(f*m-p*x),w=(m*g-p*y)*j,B=(f*y-x*g)*j;return w*w+B*B}function h2(n,i,r,c,o,h){const f=r-n,p=c-i,x=o-n,m=h-i,g=f*f+p*p,y=x*x+m*m,j=.5/(f*m-p*x),w=n+(m*g-p*y)*j,B=i+(f*y-x*g)*j;return{x:w,y:B}}function Ra(n,i,r,c){if(c-r<=20)for(let o=r+1;o<=c;o++){const h=n[o],f=i[h];let p=o-1;for(;p>=r&&i[n[p]]>f;)n[p+1]=n[p--];n[p+1]=h}else{const o=r+c>>1;let h=r+1,f=c;Fi(n,o,h),i[n[r]]>i[n[c]]&&Fi(n,r,c),i[n[h]]>i[n[c]]&&Fi(n,h,c),i[n[r]]>i[n[h]]&&Fi(n,r,h);const p=n[h],x=i[p];for(;;){do h++;while(i[n[h]]<x);do f--;while(i[n[f]]>x);if(f<h)break;Fi(n,h,f)}n[r+1]=n[f],n[f]=p,c-h+1>=f-r?(Ra(n,i,h,c),Ra(n,i,r,f-1)):(Ra(n,i,r,f-1),Ra(n,i,h,c))}}function Fi(n,i,r){const c=n[i];n[i]=n[r],n[r]=c}function u2(n){return n[0]}function f2(n){return n[1]}const Xp=1e-6;class Yn{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(i,r){this._+=`M${this._x0=this._x1=+i},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(i,r){this._+=`L${this._x1=+i},${this._y1=+r}`}arc(i,r,c){i=+i,r=+r,c=+c;const o=i+c,h=r;if(c<0)throw new Error("negative radius");this._x1===null?this._+=`M${o},${h}`:(Math.abs(this._x1-o)>Xp||Math.abs(this._y1-h)>Xp)&&(this._+="L"+o+","+h),c&&(this._+=`A${c},${c},0,1,1,${i-c},${r}A${c},${c},0,1,1,${this._x1=o},${this._y1=h}`)}rect(i,r,c,o){this._+=`M${this._x0=this._x1=+i},${this._y0=this._y1=+r}h${+c}v${+o}h${-c}Z`}value(){return this._||null}}class Wd{constructor(){this._=[]}moveTo(i,r){this._.push([i,r])}closePath(){this._.push(this._[0].slice())}lineTo(i,r){this._.push([i,r])}value(){return this._.length?this._:null}}class m2{constructor(i,[r,c,o,h]=[0,0,960,500]){if(!((o=+o)>=(r=+r))||!((h=+h)>=(c=+c)))throw new Error("invalid bounds");this.delaunay=i,this._circumcenters=new Float64Array(i.points.length*2),this.vectors=new Float64Array(i.points.length*2),this.xmax=o,this.xmin=r,this.ymax=h,this.ymin=c,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:i,hull:r,triangles:c},vectors:o}=this;let h,f;const p=this.circumcenters=this._circumcenters.subarray(0,c.length/3*2);for(let M=0,R=0,z=c.length,H,F;M<z;M+=3,R+=2){const L=c[M]*2,O=c[M+1]*2,V=c[M+2]*2,Q=i[L],se=i[L+1],q=i[O],J=i[O+1],G=i[V],K=i[V+1],ae=q-Q,E=J-se,k=G-Q,b=K-se,D=(ae*b-E*k)*2;if(Math.abs(D)<1e-9){if(h===void 0){h=f=0;for(const U of r)h+=i[U*2],f+=i[U*2+1];h/=r.length,f/=r.length}const Y=1e9*Math.sign((h-Q)*b-(f-se)*k);H=(Q+G)/2-Y*b,F=(se+K)/2+Y*k}else{const Y=1/D,U=ae*ae+E*E,N=k*k+b*b;H=Q+(b*U-E*N)*Y,F=se+(ae*N-k*U)*Y}p[R]=H,p[R+1]=F}let x=r[r.length-1],m,g=x*4,y,j=i[2*x],w,B=i[2*x+1];o.fill(0);for(let M=0;M<r.length;++M)x=r[M],m=g,y=j,w=B,g=x*4,j=i[2*x],B=i[2*x+1],o[m+2]=o[g]=w-B,o[m+3]=o[g+1]=j-y}render(i){const r=i==null?i=new Yn:void 0,{delaunay:{halfedges:c,inedges:o,hull:h},circumcenters:f,vectors:p}=this;if(h.length<=1)return null;for(let g=0,y=c.length;g<y;++g){const j=c[g];if(j<g)continue;const w=Math.floor(g/3)*2,B=Math.floor(j/3)*2,M=f[w],R=f[w+1],z=f[B],H=f[B+1];this._renderSegment(M,R,z,H,i)}let x,m=h[h.length-1];for(let g=0;g<h.length;++g){x=m,m=h[g];const y=Math.floor(o[m]/3)*2,j=f[y],w=f[y+1],B=x*4,M=this._project(j,w,p[B+2],p[B+3]);M&&this._renderSegment(j,w,M[0],M[1],i)}return r&&r.value()}renderBounds(i){const r=i==null?i=new Yn:void 0;return i.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),r&&r.value()}renderCell(i,r){const c=r==null?r=new Yn:void 0,o=this._clip(i);if(o===null||!o.length)return;r.moveTo(o[0],o[1]);let h=o.length;for(;o[0]===o[h-2]&&o[1]===o[h-1]&&h>1;)h-=2;for(let f=2;f<h;f+=2)(o[f]!==o[f-2]||o[f+1]!==o[f-1])&&r.lineTo(o[f],o[f+1]);return r.closePath(),c&&c.value()}*cellPolygons(){const{delaunay:{points:i}}=this;for(let r=0,c=i.length/2;r<c;++r){const o=this.cellPolygon(r);o&&(o.index=r,yield o)}}cellPolygon(i){const r=new Wd;return this.renderCell(i,r),r.value()}_renderSegment(i,r,c,o,h){let f;const p=this._regioncode(i,r),x=this._regioncode(c,o);p===0&&x===0?(h.moveTo(i,r),h.lineTo(c,o)):(f=this._clipSegment(i,r,c,o,p,x))&&(h.moveTo(f[0],f[1]),h.lineTo(f[2],f[3]))}contains(i,r,c){return r=+r,r!==r||(c=+c,c!==c)?!1:this.delaunay._step(i,r,c)===i}*neighbors(i){const r=this._clip(i);if(r)for(const c of this.delaunay.neighbors(i)){const o=this._clip(c);if(o){e:for(let h=0,f=r.length;h<f;h+=2)for(let p=0,x=o.length;p<x;p+=2)if(r[h]===o[p]&&r[h+1]===o[p+1]&&r[(h+2)%f]===o[(p+x-2)%x]&&r[(h+3)%f]===o[(p+x-1)%x]){yield c;break e}}}}_cell(i){const{circumcenters:r,delaunay:{inedges:c,halfedges:o,triangles:h}}=this,f=c[i];if(f===-1)return null;const p=[];let x=f;do{const m=Math.floor(x/3);if(p.push(r[m*2],r[m*2+1]),x=x%3===2?x-2:x+1,h[x]!==i)break;x=o[x]}while(x!==f&&x!==-1);return p}_clip(i){if(i===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const r=this._cell(i);if(r===null)return null;const{vectors:c}=this,o=i*4;return this._simplify(c[o]||c[o+1]?this._clipInfinite(i,r,c[o],c[o+1],c[o+2],c[o+3]):this._clipFinite(i,r))}_clipFinite(i,r){const c=r.length;let o=null,h,f,p=r[c-2],x=r[c-1],m,g=this._regioncode(p,x),y,j=0;for(let w=0;w<c;w+=2)if(h=p,f=x,p=r[w],x=r[w+1],m=g,g=this._regioncode(p,x),m===0&&g===0)y=j,j=0,o?o.push(p,x):o=[p,x];else{let B,M,R,z,H;if(m===0){if((B=this._clipSegment(h,f,p,x,m,g))===null)continue;[M,R,z,H]=B}else{if((B=this._clipSegment(p,x,h,f,g,m))===null)continue;[z,H,M,R]=B,y=j,j=this._edgecode(M,R),y&&j&&this._edge(i,y,j,o,o.length),o?o.push(M,R):o=[M,R]}y=j,j=this._edgecode(z,H),y&&j&&this._edge(i,y,j,o,o.length),o?o.push(z,H):o=[z,H]}if(o)y=j,j=this._edgecode(o[0],o[1]),y&&j&&this._edge(i,y,j,o,o.length);else if(this.contains(i,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return o}_clipSegment(i,r,c,o,h,f){const p=h<f;for(p&&([i,r,c,o,h,f]=[c,o,i,r,f,h]);;){if(h===0&&f===0)return p?[c,o,i,r]:[i,r,c,o];if(h&f)return null;let x,m,g=h||f;g&8?(x=i+(c-i)*(this.ymax-r)/(o-r),m=this.ymax):g&4?(x=i+(c-i)*(this.ymin-r)/(o-r),m=this.ymin):g&2?(m=r+(o-r)*(this.xmax-i)/(c-i),x=this.xmax):(m=r+(o-r)*(this.xmin-i)/(c-i),x=this.xmin),h?(i=x,r=m,h=this._regioncode(i,r)):(c=x,o=m,f=this._regioncode(c,o))}}_clipInfinite(i,r,c,o,h,f){let p=Array.from(r),x;if((x=this._project(p[0],p[1],c,o))&&p.unshift(x[0],x[1]),(x=this._project(p[p.length-2],p[p.length-1],h,f))&&p.push(x[0],x[1]),p=this._clipFinite(i,p))for(let m=0,g=p.length,y,j=this._edgecode(p[g-2],p[g-1]);m<g;m+=2)y=j,j=this._edgecode(p[m],p[m+1]),y&&j&&(m=this._edge(i,y,j,p,m),g=p.length);else this.contains(i,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(p=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return p}_edge(i,r,c,o,h){for(;r!==c;){let f,p;switch(r){case 5:r=4;continue;case 4:r=6,f=this.xmax,p=this.ymin;break;case 6:r=2;continue;case 2:r=10,f=this.xmax,p=this.ymax;break;case 10:r=8;continue;case 8:r=9,f=this.xmin,p=this.ymax;break;case 9:r=1;continue;case 1:r=5,f=this.xmin,p=this.ymin;break}(o[h]!==f||o[h+1]!==p)&&this.contains(i,f,p)&&(o.splice(h,0,f,p),h+=2)}return h}_project(i,r,c,o){let h=1/0,f,p,x;if(o<0){if(r<=this.ymin)return null;(f=(this.ymin-r)/o)<h&&(x=this.ymin,p=i+(h=f)*c)}else if(o>0){if(r>=this.ymax)return null;(f=(this.ymax-r)/o)<h&&(x=this.ymax,p=i+(h=f)*c)}if(c>0){if(i>=this.xmax)return null;(f=(this.xmax-i)/c)<h&&(p=this.xmax,x=r+(h=f)*o)}else if(c<0){if(i<=this.xmin)return null;(f=(this.xmin-i)/c)<h&&(p=this.xmin,x=r+(h=f)*o)}return[p,x]}_edgecode(i,r){return(i===this.xmin?1:i===this.xmax?2:0)|(r===this.ymin?4:r===this.ymax?8:0)}_regioncode(i,r){return(i<this.xmin?1:i>this.xmax?2:0)|(r<this.ymin?4:r>this.ymax?8:0)}_simplify(i){if(i&&i.length>4){for(let r=0;r<i.length;r+=2){const c=(r+2)%i.length,o=(r+4)%i.length;(i[r]===i[c]&&i[c]===i[o]||i[r+1]===i[c+1]&&i[c+1]===i[o+1])&&(i.splice(c,2),r-=2)}i.length||(i=null)}return i}}const p2=2*Math.PI,Da=Math.pow;function x2(n){return n[0]}function g2(n){return n[1]}function y2(n){const{triangles:i,coords:r}=n;for(let c=0;c<i.length;c+=3){const o=2*i[c],h=2*i[c+1],f=2*i[c+2];if((r[f]-r[o])*(r[h+1]-r[o+1])-(r[h]-r[o])*(r[f+1]-r[o+1])>1e-10)return!1}return!0}function j2(n,i,r){return[n+Math.sin(n+i)*r,i+Math.cos(n-i)*r]}class yh{static from(i,r=x2,c=g2,o){return new yh("length"in i?v2(i,r,c,o):Float64Array.from(b2(i,r,c,o)))}constructor(i){this._delaunator=new Ir(i),this.inedges=new Int32Array(i.length/2),this._hullIndex=new Int32Array(i.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const i=this._delaunator,r=this.points;if(i.hull&&i.hull.length>2&&y2(i)){this.collinear=Int32Array.from({length:r.length/2},(j,w)=>w).sort((j,w)=>r[2*j]-r[2*w]||r[2*j+1]-r[2*w+1]);const x=this.collinear[0],m=this.collinear[this.collinear.length-1],g=[r[2*x],r[2*x+1],r[2*m],r[2*m+1]],y=1e-8*Math.hypot(g[3]-g[1],g[2]-g[0]);for(let j=0,w=r.length/2;j<w;++j){const B=j2(r[2*j],r[2*j+1],y);r[2*j]=B[0],r[2*j+1]=B[1]}this._delaunator=new Ir(r)}else delete this.collinear;const c=this.halfedges=this._delaunator.halfedges,o=this.hull=this._delaunator.hull,h=this.triangles=this._delaunator.triangles,f=this.inedges.fill(-1),p=this._hullIndex.fill(-1);for(let x=0,m=c.length;x<m;++x){const g=h[x%3===2?x-2:x+1];(c[x]===-1||f[g]===-1)&&(f[g]=x)}for(let x=0,m=o.length;x<m;++x)p[o[x]]=x;o.length<=2&&o.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=o[0],f[o[0]]=1,o.length===2&&(f[o[1]]=0,this.triangles[1]=o[1],this.triangles[2]=o[1]))}voronoi(i){return new m2(this,i)}*neighbors(i){const{inedges:r,hull:c,_hullIndex:o,halfedges:h,triangles:f,collinear:p}=this;if(p){const y=p.indexOf(i);y>0&&(yield p[y-1]),y<p.length-1&&(yield p[y+1]);return}const x=r[i];if(x===-1)return;let m=x,g=-1;do{if(yield g=f[m],m=m%3===2?m-2:m+1,f[m]!==i)return;if(m=h[m],m===-1){const y=c[(o[i]+1)%c.length];y!==g&&(yield y);return}}while(m!==x)}find(i,r,c=0){if(i=+i,i!==i||(r=+r,r!==r))return-1;const o=c;let h;for(;(h=this._step(c,i,r))>=0&&h!==c&&h!==o;)c=h;return h}_step(i,r,c){const{inedges:o,hull:h,_hullIndex:f,halfedges:p,triangles:x,points:m}=this;if(o[i]===-1||!m.length)return(i+1)%(m.length>>1);let g=i,y=Da(r-m[i*2],2)+Da(c-m[i*2+1],2);const j=o[i];let w=j;do{let B=x[w];const M=Da(r-m[B*2],2)+Da(c-m[B*2+1],2);if(M<y&&(y=M,g=B),w=w%3===2?w-2:w+1,x[w]!==i)break;if(w=p[w],w===-1){if(w=h[(f[i]+1)%h.length],w!==B&&Da(r-m[w*2],2)+Da(c-m[w*2+1],2)<y)return w;break}}while(w!==j);return g}render(i){const r=i==null?i=new Yn:void 0,{points:c,halfedges:o,triangles:h}=this;for(let f=0,p=o.length;f<p;++f){const x=o[f];if(x<f)continue;const m=h[f]*2,g=h[x]*2;i.moveTo(c[m],c[m+1]),i.lineTo(c[g],c[g+1])}return this.renderHull(i),r&&r.value()}renderPoints(i,r){r===void 0&&(!i||typeof i.moveTo!="function")&&(r=i,i=null),r=r==null?2:+r;const c=i==null?i=new Yn:void 0,{points:o}=this;for(let h=0,f=o.length;h<f;h+=2){const p=o[h],x=o[h+1];i.moveTo(p+r,x),i.arc(p,x,r,0,p2)}return c&&c.value()}renderHull(i){const r=i==null?i=new Yn:void 0,{hull:c,points:o}=this,h=c[0]*2,f=c.length;i.moveTo(o[h],o[h+1]);for(let p=1;p<f;++p){const x=2*c[p];i.lineTo(o[x],o[x+1])}return i.closePath(),r&&r.value()}hullPolygon(){const i=new Wd;return this.renderHull(i),i.value()}renderTriangle(i,r){const c=r==null?r=new Yn:void 0,{points:o,triangles:h}=this,f=h[i*=3]*2,p=h[i+1]*2,x=h[i+2]*2;return r.moveTo(o[f],o[f+1]),r.lineTo(o[p],o[p+1]),r.lineTo(o[x],o[x+1]),r.closePath(),c&&c.value()}*trianglePolygons(){const{triangles:i}=this;for(let r=0,c=i.length/3;r<c;++r)yield this.trianglePolygon(r)}trianglePolygon(i){const r=new Wd;return this.renderTriangle(i,r),r.value()}}function v2(n,i,r,c){const o=n.length,h=new Float64Array(o*2);for(let f=0;f<o;++f){const p=n[f];h[f*2]=i.call(c,p,f,n),h[f*2+1]=r.call(c,p,f,n)}return h}function*b2(n,i,r,c){let o=0;for(const h of n)yield i.call(c,h,o,n),yield r.call(c,h,o,n),++o}function N2(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function Jr(n,i){if((r=(n=i?n.toExponential(i-1):n.toExponential()).indexOf("e"))<0)return null;var r,c=n.slice(0,r);return[c.length>1?c[0]+c.slice(2):c,+n.slice(r+1)]}function Va(n){return n=Jr(Math.abs(n)),n?n[1]:NaN}function w2(n,i){return function(r,c){for(var o=r.length,h=[],f=0,p=n[0],x=0;o>0&&p>0&&(x+p+1>c&&(p=Math.max(1,c-x)),h.push(r.substring(o-=p,o+p)),!((x+=p+1)>c));)p=n[f=(f+1)%n.length];return h.reverse().join(i)}}function S2(n){return function(i){return i.replace(/[0-9]/g,function(r){return n[+r]})}}var _2=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function al(n){if(!(i=_2.exec(n)))throw new Error("invalid format: "+n);var i;return new jh({fill:i[1],align:i[2],sign:i[3],symbol:i[4],zero:i[5],width:i[6],comma:i[7],precision:i[8]&&i[8].slice(1),trim:i[9],type:i[10]})}al.prototype=jh.prototype;function jh(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}jh.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function C2(n){e:for(var i=n.length,r=1,c=-1,o;r<i;++r)switch(n[r]){case".":c=o=r;break;case"0":c===0&&(c=r),o=r;break;default:if(!+n[r])break e;c>0&&(c=0);break}return c>0?n.slice(0,c)+n.slice(o+1):n}var Ix;function M2(n,i){var r=Jr(n,i);if(!r)return n+"";var c=r[0],o=r[1],h=o-(Ix=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,f=c.length;return h===f?c:h>f?c+new Array(h-f+1).join("0"):h>0?c.slice(0,h)+"."+c.slice(h):"0."+new Array(1-h).join("0")+Jr(n,Math.max(0,i+h-1))[0]}function Fp(n,i){var r=Jr(n,i);if(!r)return n+"";var c=r[0],o=r[1];return o<0?"0."+new Array(-o).join("0")+c:c.length>o+1?c.slice(0,o+1)+"."+c.slice(o+1):c+new Array(o-c.length+2).join("0")}const Kp={"%":(n,i)=>(n*100).toFixed(i),b:n=>Math.round(n).toString(2),c:n=>n+"",d:N2,e:(n,i)=>n.toExponential(i),f:(n,i)=>n.toFixed(i),g:(n,i)=>n.toPrecision(i),o:n=>Math.round(n).toString(8),p:(n,i)=>Fp(n*100,i),r:Fp,s:M2,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function Pp(n){return n}var Qp=Array.prototype.map,Wp=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function T2(n){var i=n.grouping===void 0||n.thousands===void 0?Pp:w2(Qp.call(n.grouping,Number),n.thousands+""),r=n.currency===void 0?"":n.currency[0]+"",c=n.currency===void 0?"":n.currency[1]+"",o=n.decimal===void 0?".":n.decimal+"",h=n.numerals===void 0?Pp:S2(Qp.call(n.numerals,String)),f=n.percent===void 0?"%":n.percent+"",p=n.minus===void 0?"−":n.minus+"",x=n.nan===void 0?"NaN":n.nan+"";function m(y){y=al(y);var j=y.fill,w=y.align,B=y.sign,M=y.symbol,R=y.zero,z=y.width,H=y.comma,F=y.precision,L=y.trim,O=y.type;O==="n"?(H=!0,O="g"):Kp[O]||(F===void 0&&(F=12),L=!0,O="g"),(R||j==="0"&&w==="=")&&(R=!0,j="0",w="=");var V=M==="$"?r:M==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",Q=M==="$"?c:/[%p]/.test(O)?f:"",se=Kp[O],q=/[defgprs%]/.test(O);F=F===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,F)):Math.max(0,Math.min(20,F));function J(G){var K=V,ae=Q,E,k,b;if(O==="c")ae=se(G)+ae,G="";else{G=+G;var D=G<0||1/G<0;if(G=isNaN(G)?x:se(Math.abs(G),F),L&&(G=C2(G)),D&&+G==0&&B!=="+"&&(D=!1),K=(D?B==="("?B:p:B==="-"||B==="("?"":B)+K,ae=(O==="s"?Wp[8+Ix/3]:"")+ae+(D&&B==="("?")":""),q){for(E=-1,k=G.length;++E<k;)if(b=G.charCodeAt(E),48>b||b>57){ae=(b===46?o+G.slice(E+1):G.slice(E))+ae,G=G.slice(0,E);break}}}H&&!R&&(G=i(G,1/0));var Y=K.length+G.length+ae.length,U=Y<z?new Array(z-Y+1).join(j):"";switch(H&&R&&(G=i(U+G,U.length?z-ae.length:1/0),U=""),w){case"<":G=K+G+ae+U;break;case"=":G=K+U+G+ae;break;case"^":G=U.slice(0,Y=U.length>>1)+K+G+ae+U.slice(Y);break;default:G=U+K+G+ae;break}return h(G)}return J.toString=function(){return y+""},J}function g(y,j){var w=m((y=al(y),y.type="f",y)),B=Math.max(-8,Math.min(8,Math.floor(Va(j)/3)))*3,M=Math.pow(10,-B),R=Wp[8+B/3];return function(z){return w(M*z)+R}}return{format:m,formatPrefix:g}}var Er,Ns,Jx;k2({thousands:",",grouping:[3],currency:["$",""]});function k2(n){return Er=T2(n),Ns=Er.format,Jx=Er.formatPrefix,Er}function A2(n){return Math.max(0,-Va(Math.abs(n)))}function E2(n,i){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Va(i)/3)))*3-Va(Math.abs(n)))}function z2(n,i){return n=Math.abs(n),i=Math.abs(i)-n,Math.max(0,Va(i)-Va(n))+1}function D2(n){var i=0,r=n.children,c=r&&r.length;if(!c)i=1;else for(;--c>=0;)i+=r[c].value;n.value=i}function R2(){return this.eachAfter(D2)}function L2(n,i){let r=-1;for(const c of this)n.call(i,c,++r,this);return this}function O2(n,i){for(var r=this,c=[r],o,h,f=-1;r=c.pop();)if(n.call(i,r,++f,this),o=r.children)for(h=o.length-1;h>=0;--h)c.push(o[h]);return this}function H2(n,i){for(var r=this,c=[r],o=[],h,f,p,x=-1;r=c.pop();)if(o.push(r),h=r.children)for(f=0,p=h.length;f<p;++f)c.push(h[f]);for(;r=o.pop();)n.call(i,r,++x,this);return this}function B2(n,i){let r=-1;for(const c of this)if(n.call(i,c,++r,this))return c}function U2(n){return this.eachAfter(function(i){for(var r=+n(i.data)||0,c=i.children,o=c&&c.length;--o>=0;)r+=c[o].value;i.value=r})}function q2(n){return this.eachBefore(function(i){i.children&&i.children.sort(n)})}function Y2(n){for(var i=this,r=V2(i,n),c=[i];i!==r;)i=i.parent,c.push(i);for(var o=c.length;n!==r;)c.splice(o,0,n),n=n.parent;return c}function V2(n,i){if(n===i)return n;var r=n.ancestors(),c=i.ancestors(),o=null;for(n=r.pop(),i=c.pop();n===i;)o=n,n=r.pop(),i=c.pop();return o}function G2(){for(var n=this,i=[n];n=n.parent;)i.push(n);return i}function $2(){return Array.from(this)}function X2(){var n=[];return this.eachBefore(function(i){i.children||n.push(i)}),n}function F2(){var n=this,i=[];return n.each(function(r){r!==n&&i.push({source:r.parent,target:r})}),i}function*K2(){var n=this,i,r=[n],c,o,h;do for(i=r.reverse(),r=[];n=i.pop();)if(yield n,c=n.children)for(o=0,h=c.length;o<h;++o)r.push(c[o]);while(r.length)}function vh(n,i){n instanceof Map?(n=[void 0,n],i===void 0&&(i=W2)):i===void 0&&(i=Q2);for(var r=new il(n),c,o=[r],h,f,p,x;c=o.pop();)if((f=i(c.data))&&(x=(f=Array.from(f)).length))for(c.children=f,p=x-1;p>=0;--p)o.push(h=f[p]=new il(f[p])),h.parent=c,h.depth=c.depth+1;return r.eachBefore(I2)}function P2(){return vh(this).eachBefore(Z2)}function Q2(n){return n.children}function W2(n){return Array.isArray(n)?n[1]:null}function Z2(n){n.data.value!==void 0&&(n.value=n.data.value),n.data=n.data.data}function I2(n){var i=0;do n.height=i;while((n=n.parent)&&n.height<++i)}function il(n){this.data=n,this.depth=this.height=0,this.parent=null}il.prototype=vh.prototype={constructor:il,count:R2,each:L2,eachAfter:H2,eachBefore:O2,find:B2,sum:U2,sort:q2,path:Y2,ancestors:G2,descendants:$2,leaves:X2,links:F2,copy:P2,[Symbol.iterator]:K2};function J2(n,i){return n.parent===i.parent?1:2}function Ed(n){var i=n.children;return i?i[0]:n.t}function zd(n){var i=n.children;return i?i[i.length-1]:n.t}function ew(n,i,r){var c=r/(i.i-n.i);i.c-=c,i.s+=r,n.c+=c,i.z+=r,i.m+=r}function tw(n){for(var i=0,r=0,c=n.children,o=c.length,h;--o>=0;)h=c[o],h.z+=i,h.m+=i,i+=h.s+(r+=h.c)}function sw(n,i,r){return n.a.parent===i.parent?n.a:r}function Yr(n,i){this._=n,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=i}Yr.prototype=Object.create(il.prototype);function nw(n){for(var i=new Yr(n,0),r,c=[i],o,h,f,p;r=c.pop();)if(h=r._.children)for(r.children=new Array(p=h.length),f=p-1;f>=0;--f)c.push(o=r.children[f]=new Yr(h[f],f)),o.parent=r;return(i.parent=new Yr(null,0)).children=[i],i}function aw(){var n=J2,i=1,r=1,c=null;function o(m){var g=nw(m);if(g.eachAfter(h),g.parent.m=-g.z,g.eachBefore(f),c)m.eachBefore(x);else{var y=m,j=m,w=m;m.eachBefore(function(H){H.x<y.x&&(y=H),H.x>j.x&&(j=H),H.depth>w.depth&&(w=H)});var B=y===j?1:n(y,j)/2,M=B-y.x,R=i/(j.x+B+M),z=r/(w.depth||1);m.eachBefore(function(H){H.x=(H.x+M)*R,H.y=H.depth*z})}return m}function h(m){var g=m.children,y=m.parent.children,j=m.i?y[m.i-1]:null;if(g){tw(m);var w=(g[0].z+g[g.length-1].z)/2;j?(m.z=j.z+n(m._,j._),m.m=m.z-w):m.z=w}else j&&(m.z=j.z+n(m._,j._));m.parent.A=p(m,j,m.parent.A||y[0])}function f(m){m._.x=m.z+m.parent.m,m.m+=m.parent.m}function p(m,g,y){if(g){for(var j=m,w=m,B=g,M=j.parent.children[0],R=j.m,z=w.m,H=B.m,F=M.m,L;B=zd(B),j=Ed(j),B&&j;)M=Ed(M),w=zd(w),w.a=m,L=B.z+H-j.z-R+n(B._,j._),L>0&&(ew(sw(B,m,y),m,L),R+=L,z+=L),H+=B.m,R+=j.m,F+=M.m,z+=w.m;B&&!zd(w)&&(w.t=B,w.m+=H-z),j&&!Ed(M)&&(M.t=j,M.m+=R-F,y=m)}return y}function x(m){m.x*=i,m.y=m.depth*r}return o.separation=function(m){return arguments.length?(n=m,o):n},o.size=function(m){return arguments.length?(c=!1,i=+m[0],r=+m[1],o):c?null:[i,r]},o.nodeSize=function(m){return arguments.length?(c=!0,i=+m[0],r=+m[1],o):c?[i,r]:null},o}function eg(n,i){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(i).domain(n);break}return this}function iw(n){return function(){return n}}function lw(n){return+n}var Zp=[0,1];function La(n){return n}function Zd(n,i){return(i-=n=+n)?function(r){return(r-n)/i}:iw(isNaN(i)?NaN:.5)}function rw(n,i){var r;return n>i&&(r=n,n=i,i=r),function(c){return Math.max(n,Math.min(i,c))}}function cw(n,i,r){var c=n[0],o=n[1],h=i[0],f=i[1];return o<c?(c=Zd(o,c),h=r(f,h)):(c=Zd(c,o),h=r(h,f)),function(p){return h(c(p))}}function ow(n,i,r){var c=Math.min(n.length,i.length)-1,o=new Array(c),h=new Array(c),f=-1;for(n[c]<n[0]&&(n=n.slice().reverse(),i=i.slice().reverse());++f<c;)o[f]=Zd(n[f],n[f+1]),h[f]=r(i[f],i[f+1]);return function(p){var x=wx(n,p,1,c)-1;return h[x](o[x](p))}}function tg(n,i){return i.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function sg(){var n=Zp,i=Zp,r=mh,c,o,h,f=La,p,x,m;function g(){var j=Math.min(n.length,i.length);return f!==La&&(f=rw(n[0],n[j-1])),p=j>2?ow:cw,x=m=null,y}function y(j){return j==null||isNaN(j=+j)?h:(x||(x=p(n.map(c),i,r)))(c(f(j)))}return y.invert=function(j){return f(o((m||(m=p(i,n.map(c),hs)))(j)))},y.domain=function(j){return arguments.length?(n=Array.from(j,lw),g()):n.slice()},y.range=function(j){return arguments.length?(i=Array.from(j),g()):i.slice()},y.rangeRound=function(j){return i=Array.from(j),r=D1,g()},y.clamp=function(j){return arguments.length?(f=j?!0:La,g()):f!==La},y.interpolate=function(j){return arguments.length?(r=j,g()):r},y.unknown=function(j){return arguments.length?(h=j,y):h},function(j,w){return c=j,o=w,g()}}function dw(){return sg()(La,La)}function hw(n,i,r,c){var o=fv(n,i,r),h;switch(c=al(c??",f"),c.type){case"s":{var f=Math.max(Math.abs(n),Math.abs(i));return c.precision==null&&!isNaN(h=E2(o,f))&&(c.precision=h),Jx(c,f)}case"":case"e":case"g":case"p":case"r":{c.precision==null&&!isNaN(h=z2(o,Math.max(Math.abs(n),Math.abs(i))))&&(c.precision=h-(c.type==="e"));break}case"f":case"%":{c.precision==null&&!isNaN(h=A2(o))&&(c.precision=h-(c.type==="%")*2);break}}return Ns(c)}function uw(n){var i=n.domain;return n.ticks=function(r){var c=i();return $r(c[0],c[c.length-1],r??10)},n.tickFormat=function(r,c){var o=i();return hw(o[0],o[o.length-1],r??10,c)},n.nice=function(r){r==null&&(r=10);var c=i(),o=0,h=c.length-1,f=c[o],p=c[h],x,m,g=10;for(p<f&&(m=f,f=p,p=m,m=o,o=h,h=m);g-- >0;){if(m=Ua(f,p,r),m===x)return c[o]=f,c[h]=p,i(c);if(m>0)f=Math.floor(f/m)*m,p=Math.ceil(p/m)*m;else if(m<0)f=Math.ceil(f*m)/m,p=Math.floor(p*m)/m;else break;x=m}return n},n}function Ke(){var n=dw();return n.copy=function(){return tg(n,Ke())},eg.apply(n,arguments),uw(n)}function fw(n,i){n=n.slice();var r=0,c=n.length-1,o=n[r],h=n[c],f;return h<o&&(f=r,r=c,c=f,f=o,o=h,h=f),n[r]=i.floor(o),n[c]=i.ceil(h),n}function Ip(n){return Math.log(n)}function Jp(n){return Math.exp(n)}function mw(n){return-Math.log(-n)}function pw(n){return-Math.exp(-n)}function xw(n){return isFinite(n)?+("1e"+n):n<0?0:n}function gw(n){return n===10?xw:n===Math.E?Math.exp:i=>Math.pow(n,i)}function yw(n){return n===Math.E?Math.log:n===10&&Math.log10||n===2&&Math.log2||(n=Math.log(n),i=>Math.log(i)/n)}function ex(n){return(i,r)=>-n(-i,r)}function jw(n){const i=n(Ip,Jp),r=i.domain;let c=10,o,h;function f(){return o=yw(c),h=gw(c),r()[0]<0?(o=ex(o),h=ex(h),n(mw,pw)):n(Ip,Jp),i}return i.base=function(p){return arguments.length?(c=+p,f()):c},i.domain=function(p){return arguments.length?(r(p),f()):r()},i.ticks=p=>{const x=r();let m=x[0],g=x[x.length-1];const y=g<m;y&&([m,g]=[g,m]);let j=o(m),w=o(g),B,M;const R=p==null?10:+p;let z=[];if(!(c%1)&&w-j<R){if(j=Math.floor(j),w=Math.ceil(w),m>0){for(;j<=w;++j)for(B=1;B<c;++B)if(M=j<0?B/h(-j):B*h(j),!(M<m)){if(M>g)break;z.push(M)}}else for(;j<=w;++j)for(B=c-1;B>=1;--B)if(M=j>0?B/h(-j):B*h(j),!(M<m)){if(M>g)break;z.push(M)}z.length*2<R&&(z=$r(m,g,R))}else z=$r(j,w,Math.min(w-j,R)).map(h);return y?z.reverse():z},i.tickFormat=(p,x)=>{if(p==null&&(p=10),x==null&&(x=c===10?"s":","),typeof x!="function"&&(!(c%1)&&(x=al(x)).precision==null&&(x.trim=!0),x=Ns(x)),p===1/0)return x;const m=Math.max(1,c*p/i.ticks().length);return g=>{let y=g/h(Math.round(o(g)));return y*c<c-.5&&(y*=c),y<=m?x(g):""}},i.nice=()=>r(fw(r(),{floor:p=>h(Math.floor(o(p))),ceil:p=>h(Math.ceil(o(p)))})),i}function Id(){const n=jw(sg()).domain([1,10]);return n.copy=()=>tg(n,Id()).base(n.base()),eg.apply(n,arguments),n}function vn(n){return function(){return n}}function ng(n){let i=3;return n.digits=function(r){if(!arguments.length)return i;if(r==null)i=null;else{const c=Math.floor(r);if(!(c>=0))throw new RangeError(`invalid digits: ${r}`);i=c}return n},()=>new t2(i)}var vw=Array.prototype.slice;function bw(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function ag(n){this._context=n}ag.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,i){switch(n=+n,i=+i,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 1:this._point=2;default:this._context.lineTo(n,i);break}}};function Nw(n){return new ag(n)}function ig(n){return n[0]}function lg(n){return n[1]}function rs(n,i){var r=vn(!0),c=null,o=Nw,h=null,f=ng(p);n=typeof n=="function"?n:n===void 0?ig:vn(n),i=typeof i=="function"?i:i===void 0?lg:vn(i);function p(x){var m,g=(x=bw(x)).length,y,j=!1,w;for(c==null&&(h=o(w=f())),m=0;m<=g;++m)!(m<g&&r(y=x[m],m,x))===j&&((j=!j)?h.lineStart():h.lineEnd()),j&&h.point(+n(y,m,x),+i(y,m,x));if(w)return h=null,w+""||null}return p.x=function(x){return arguments.length?(n=typeof x=="function"?x:vn(+x),p):n},p.y=function(x){return arguments.length?(i=typeof x=="function"?x:vn(+x),p):i},p.defined=function(x){return arguments.length?(r=typeof x=="function"?x:vn(!!x),p):r},p.curve=function(x){return arguments.length?(o=x,c!=null&&(h=o(c)),p):o},p.context=function(x){return arguments.length?(x==null?c=h=null:h=o(c=x),p):c},p}class ww{constructor(i,r){this._context=i,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(i,r){switch(i=+i,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(i,r):this._context.moveTo(i,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+i)/2,this._y0,this._x0,r,i,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,i,this._y0,i,r);break}}this._x0=i,this._y0=r}}function Sw(n){return new ww(n,!1)}function _w(n){return n.source}function Cw(n){return n.target}function Mw(n){let i=_w,r=Cw,c=ig,o=lg,h=null,f=null,p=ng(x);function x(){let m;const g=vw.call(arguments),y=i.apply(this,g),j=r.apply(this,g);if(h==null&&(f=n(m=p())),f.lineStart(),g[0]=y,f.point(+c.apply(this,g),+o.apply(this,g)),g[0]=j,f.point(+c.apply(this,g),+o.apply(this,g)),f.lineEnd(),m)return f=null,m+""||null}return x.source=function(m){return arguments.length?(i=m,x):i},x.target=function(m){return arguments.length?(r=m,x):r},x.x=function(m){return arguments.length?(c=typeof m=="function"?m:vn(+m),x):c},x.y=function(m){return arguments.length?(o=typeof m=="function"?m:vn(+m),x):o},x.context=function(m){return arguments.length?(m==null?h=f=null:f=n(h=m),x):h},x}function Tw(){return Mw(Sw)}function tx(n){return n<0?-1:1}function sx(n,i,r){var c=n._x1-n._x0,o=i-n._x1,h=(n._y1-n._y0)/(c||o<0&&-0),f=(r-n._y1)/(o||c<0&&-0),p=(h*o+f*c)/(c+o);return(tx(h)+tx(f))*Math.min(Math.abs(h),Math.abs(f),.5*Math.abs(p))||0}function nx(n,i){var r=n._x1-n._x0;return r?(3*(n._y1-n._y0)/r-i)/2:i}function Dd(n,i,r){var c=n._x0,o=n._y0,h=n._x1,f=n._y1,p=(h-c)/3;n._context.bezierCurveTo(c+p,o+p*i,h-p,f-p*r,h,f)}function ec(n){this._context=n}ec.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Dd(this,this._t0,nx(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,i){var r=NaN;if(n=+n,i=+i,!(n===this._x1&&i===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 1:this._point=2;break;case 2:this._point=3,Dd(this,nx(this,r=sx(this,n,i)),r);break;default:Dd(this,this._t0,r=sx(this,n,i));break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=i,this._t0=r}}};Object.create(ec.prototype).point=function(n,i){ec.prototype.point.call(this,i,n)};function rg(n){return new ec(n)}const zr=n=>()=>n;function kw(n,{sourceEvent:i,target:r,transform:c,dispatch:o}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:i,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:c,enumerable:!0,configurable:!0},_:{value:o}})}function Gs(n,i,r){this.k=n,this.x=i,this.y=r}Gs.prototype={constructor:Gs,scale:function(n){return n===1?this:new Gs(this.k*n,this.x,this.y)},translate:function(n,i){return n===0&i===0?this:new Gs(this.k,this.x+this.k*n,this.y+this.k*i)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var bh=new Gs(1,0,0);Gs.prototype;function Rd(n){n.stopImmediatePropagation()}function Ki(n){n.preventDefault(),n.stopImmediatePropagation()}function Aw(n){return(!n.ctrlKey||n.type==="wheel")&&!n.button}function Ew(){var n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,n.hasAttribute("viewBox")?(n=n.viewBox.baseVal,[[n.x,n.y],[n.x+n.width,n.y+n.height]]):[[0,0],[n.width.baseVal.value,n.height.baseVal.value]]):[[0,0],[n.clientWidth,n.clientHeight]]}function ax(){return this.__zoom||bh}function zw(n){return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*(n.ctrlKey?10:1)}function Dw(){return navigator.maxTouchPoints||"ontouchstart"in this}function Rw(n,i,r){var c=n.invertX(i[0][0])-r[0][0],o=n.invertX(i[1][0])-r[1][0],h=n.invertY(i[0][1])-r[0][1],f=n.invertY(i[1][1])-r[1][1];return n.translate(o>c?(c+o)/2:Math.min(0,c)||Math.max(0,o),f>h?(h+f)/2:Math.min(0,h)||Math.max(0,f))}function Lw(){var n=Aw,i=Ew,r=Rw,c=zw,o=Dw,h=[0,1/0],f=[[-1/0,-1/0],[1/0,1/0]],p=250,x=Y1,m=nc("start","zoom","end"),g,y,j,w=500,B=150,M=0,R=10;function z(E){E.property("__zoom",ax).on("wheel.zoom",se,{passive:!1}).on("mousedown.zoom",q).on("dblclick.zoom",J).filter(o).on("touchstart.zoom",G).on("touchmove.zoom",K).on("touchend.zoom touchcancel.zoom",ae).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}z.transform=function(E,k,b,D){var Y=E.selection?E.selection():E;Y.property("__zoom",ax),E!==Y?O(E,k,b,D):Y.interrupt().each(function(){V(this,arguments).event(D).start().zoom(null,typeof k=="function"?k.apply(this,arguments):k).end()})},z.scaleBy=function(E,k,b,D){z.scaleTo(E,function(){var Y=this.__zoom.k,U=typeof k=="function"?k.apply(this,arguments):k;return Y*U},b,D)},z.scaleTo=function(E,k,b,D){z.transform(E,function(){var Y=i.apply(this,arguments),U=this.__zoom,N=b==null?L(Y):typeof b=="function"?b.apply(this,arguments):b,T=U.invert(N),C=typeof k=="function"?k.apply(this,arguments):k;return r(F(H(U,C),N,T),Y,f)},b,D)},z.translateBy=function(E,k,b,D){z.transform(E,function(){return r(this.__zoom.translate(typeof k=="function"?k.apply(this,arguments):k,typeof b=="function"?b.apply(this,arguments):b),i.apply(this,arguments),f)},null,D)},z.translateTo=function(E,k,b,D,Y){z.transform(E,function(){var U=i.apply(this,arguments),N=this.__zoom,T=D==null?L(U):typeof D=="function"?D.apply(this,arguments):D;return r(bh.translate(T[0],T[1]).scale(N.k).translate(typeof k=="function"?-k.apply(this,arguments):-k,typeof b=="function"?-b.apply(this,arguments):-b),U,f)},D,Y)};function H(E,k){return k=Math.max(h[0],Math.min(h[1],k)),k===E.k?E:new Gs(k,E.x,E.y)}function F(E,k,b){var D=k[0]-b[0]*E.k,Y=k[1]-b[1]*E.k;return D===E.x&&Y===E.y?E:new Gs(E.k,D,Y)}function L(E){return[(+E[0][0]+ +E[1][0])/2,(+E[0][1]+ +E[1][1])/2]}function O(E,k,b,D){E.on("start.zoom",function(){V(this,arguments).event(D).start()}).on("interrupt.zoom end.zoom",function(){V(this,arguments).event(D).end()}).tween("zoom",function(){var Y=this,U=arguments,N=V(Y,U).event(D),T=i.apply(Y,U),C=b==null?L(T):typeof b=="function"?b.apply(Y,U):b,I=Math.max(T[1][0]-T[0][0],T[1][1]-T[0][1]),P=Y.__zoom,X=typeof k=="function"?k.apply(Y,U):k,A=x(P.invert(C).concat(I/P.k),X.invert(C).concat(I/X.k));return function(te){if(te===1)te=X;else{var ee=A(te),Z=I/ee[2];te=new Gs(Z,C[0]-ee[0]*Z,C[1]-ee[1]*Z)}N.zoom(null,te)}})}function V(E,k,b){return!b&&E.__zooming||new Q(E,k)}function Q(E,k){this.that=E,this.args=k,this.active=0,this.sourceEvent=null,this.extent=i.apply(E,k),this.taps=0}Q.prototype={event:function(E){return E&&(this.sourceEvent=E),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(E,k){return this.mouse&&E!=="mouse"&&(this.mouse[1]=k.invert(this.mouse[0])),this.touch0&&E!=="touch"&&(this.touch0[1]=k.invert(this.touch0[0])),this.touch1&&E!=="touch"&&(this.touch1[1]=k.invert(this.touch1[0])),this.that.__zoom=k,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(E){var k=Ee(this.that).datum();m.call(E,this.that,new kw(E,{sourceEvent:this.sourceEvent,target:z,transform:this.that.__zoom,dispatch:m}),k)}};function se(E,...k){if(!n.apply(this,arguments))return;var b=V(this,k).event(E),D=this.__zoom,Y=Math.max(h[0],Math.min(h[1],D.k*Math.pow(2,c.apply(this,arguments)))),U=js(E);if(b.wheel)(b.mouse[0][0]!==U[0]||b.mouse[0][1]!==U[1])&&(b.mouse[1]=D.invert(b.mouse[0]=U)),clearTimeout(b.wheel);else{if(D.k===Y)return;b.mouse=[U,D.invert(U)],qr(this),b.start()}Ki(E),b.wheel=setTimeout(N,B),b.zoom("mouse",r(F(H(D,Y),b.mouse[0],b.mouse[1]),b.extent,f));function N(){b.wheel=null,b.end()}}function q(E,...k){if(j||!n.apply(this,arguments))return;var b=E.currentTarget,D=V(this,k,!0).event(E),Y=Ee(E.view).on("mousemove.zoom",C,!0).on("mouseup.zoom",I,!0),U=js(E,b),N=E.clientX,T=E.clientY;Ox(E.view),Rd(E),D.mouse=[U,this.__zoom.invert(U)],qr(this),D.start();function C(P){if(Ki(P),!D.moved){var X=P.clientX-N,A=P.clientY-T;D.moved=X*X+A*A>M}D.event(P).zoom("mouse",r(F(D.that.__zoom,D.mouse[0]=js(P,b),D.mouse[1]),D.extent,f))}function I(P){Y.on("mousemove.zoom mouseup.zoom",null),Hx(P.view,D.moved),Ki(P),D.event(P).end()}}function J(E,...k){if(n.apply(this,arguments)){var b=this.__zoom,D=js(E.changedTouches?E.changedTouches[0]:E,this),Y=b.invert(D),U=b.k*(E.shiftKey?.5:2),N=r(F(H(b,U),D,Y),i.apply(this,k),f);Ki(E),p>0?Ee(this).transition().duration(p).call(O,N,D,E):Ee(this).call(z.transform,N,D,E)}}function G(E,...k){if(n.apply(this,arguments)){var b=E.touches,D=b.length,Y=V(this,k,E.changedTouches.length===D).event(E),U,N,T,C;for(Rd(E),N=0;N<D;++N)T=b[N],C=js(T,this),C=[C,this.__zoom.invert(C),T.identifier],Y.touch0?!Y.touch1&&Y.touch0[2]!==C[2]&&(Y.touch1=C,Y.taps=0):(Y.touch0=C,U=!0,Y.taps=1+!!g);g&&(g=clearTimeout(g)),U&&(Y.taps<2&&(y=C[0],g=setTimeout(function(){g=null},w)),qr(this),Y.start())}}function K(E,...k){if(this.__zooming){var b=V(this,k).event(E),D=E.changedTouches,Y=D.length,U,N,T,C;for(Ki(E),U=0;U<Y;++U)N=D[U],T=js(N,this),b.touch0&&b.touch0[2]===N.identifier?b.touch0[0]=T:b.touch1&&b.touch1[2]===N.identifier&&(b.touch1[0]=T);if(N=b.that.__zoom,b.touch1){var I=b.touch0[0],P=b.touch0[1],X=b.touch1[0],A=b.touch1[1],te=(te=X[0]-I[0])*te+(te=X[1]-I[1])*te,ee=(ee=A[0]-P[0])*ee+(ee=A[1]-P[1])*ee;N=H(N,Math.sqrt(te/ee)),T=[(I[0]+X[0])/2,(I[1]+X[1])/2],C=[(P[0]+A[0])/2,(P[1]+A[1])/2]}else if(b.touch0)T=b.touch0[0],C=b.touch0[1];else return;b.zoom("touch",r(F(N,T,C),b.extent,f))}}function ae(E,...k){if(this.__zooming){var b=V(this,k).event(E),D=E.changedTouches,Y=D.length,U,N;for(Rd(E),j&&clearTimeout(j),j=setTimeout(function(){j=null},w),U=0;U<Y;++U)N=D[U],b.touch0&&b.touch0[2]===N.identifier?delete b.touch0:b.touch1&&b.touch1[2]===N.identifier&&delete b.touch1;if(b.touch1&&!b.touch0&&(b.touch0=b.touch1,delete b.touch1),b.touch0)b.touch0[1]=this.__zoom.invert(b.touch0[0]);else if(b.end(),b.taps===2&&(N=js(N,this),Math.hypot(y[0]-N[0],y[1]-N[1])<R)){var T=Ee(this).on("dblclick.zoom");T&&T.apply(this,arguments)}}}return z.wheelDelta=function(E){return arguments.length?(c=typeof E=="function"?E:zr(+E),z):c},z.filter=function(E){return arguments.length?(n=typeof E=="function"?E:zr(!!E),z):n},z.touchable=function(E){return arguments.length?(o=typeof E=="function"?E:zr(!!E),z):o},z.extent=function(E){return arguments.length?(i=typeof E=="function"?E:zr([[+E[0][0],+E[0][1]],[+E[1][0],+E[1][1]]]),z):i},z.scaleExtent=function(E){return arguments.length?(h[0]=+E[0],h[1]=+E[1],z):[h[0],h[1]]},z.translateExtent=function(E){return arguments.length?(f[0][0]=+E[0][0],f[1][0]=+E[1][0],f[0][1]=+E[0][1],f[1][1]=+E[1][1],z):[[f[0][0],f[0][1]],[f[1][0],f[1][1]]]},z.constrain=function(E){return arguments.length?(r=E,z):r},z.duration=function(E){return arguments.length?(p=+E,z):p},z.interpolate=function(E){return arguments.length?(x=E,z):x},z.on=function(){var E=m.on.apply(m,arguments);return E===m?z:E},z.clickDistance=function(E){return arguments.length?(M=(E=+E)*E,z):Math.sqrt(M)},z.tapDistance=function(E){return arguments.length?(R=+E,z):R},z}const Ow=()=>{const n=_.useRef(null),[i,r]=_.useState({x:3,y:4,label:"A",color:"#0ea5e9"}),[c,o]=_.useState({x:4,y:3,label:"B",color:"#22c55e"}),[h,f]=_.useState(!0),[p,x]=_.useState(!0),[m,g]=_.useState(!0),[y,j]=_.useState(0),w=(H,F)=>{const L=H.x*F.x+H.y*F.y,O=Math.sqrt(H.x*H.x+H.y*H.y),V=Math.sqrt(F.x*F.x+F.y*F.y);return O===0||V===0?0:L/(O*V)},B=(H,F)=>{const L=H.x*F.x+H.y*F.y,O=Math.sqrt(H.x*H.x+H.y*H.y),V=Math.sqrt(F.x*F.x+F.y*F.y);if(O===0||V===0)return 0;const Q=L/(O*V);return Math.acos(Math.max(-1,Math.min(1,Q)))*(180/Math.PI)};_.useEffect(()=>{const H=w(i,c);j(H)},[i,c]),_.useEffect(()=>{if(!n.current)return;const H=Ee(n.current);H.selectAll("*").remove();const F=600,L=400,O={top:20,right:20,bottom:40,left:40},V=F-O.left-O.right,Q=L-O.top-O.bottom,se=H.attr("width",F).attr("height",L).append("g").attr("transform",`translate(${O.left},${O.top})`),q=Ke().domain([-6,6]).range([0,V]),J=Ke().domain([-6,6]).range([Q,0]);if(h){const k=rt(q).tickSize(-Q).tickFormat(()=>""),b=ct(J).tickSize(-V).tickFormat(()=>"");se.append("g").attr("class","grid").attr("transform",`translate(0,${Q})`).call(k).style("stroke","#e2e8f0").style("stroke-width",1),se.append("g").attr("class","grid").call(b).style("stroke","#e2e8f0").style("stroke-width",1)}const G=rt(q),K=ct(J);se.append("g").attr("class","axis").attr("transform",`translate(0,${Q})`).call(G).style("color","#64748b"),se.append("g").attr("class","axis").call(K).style("color","#64748b");const ae=(k,b)=>{if(se.append("line").attr("x1",q(0)).attr("y1",J(0)).attr("x2",q(k.x)).attr("y2",J(k.y)).attr("stroke",k.color).attr("stroke-width",3).attr("marker-end",`url(#arrowhead-${b.toLowerCase()})`),se.append("text").attr("x",q(k.x)+10).attr("y",J(k.y)-10).attr("text-anchor","start").attr("font-size","14px").attr("font-weight","bold").attr("fill",k.color).text(`Vector ${b}`),m){const D=Math.sqrt(k.x*k.x+k.y*k.y);se.append("text").attr("x",q(k.x/2)).attr("y",J(k.y/2)-15).attr("text-anchor","middle").attr("font-size","12px").attr("fill",k.color).text(`|${b}| = ${D.toFixed(2)}`)}};if(p&&i.x!==0&&i.y!==0&&c.x!==0&&c.y!==0){const k=B(i,c),b=30,D=Math.sqrt(i.x*i.x+i.y*i.y),Y=Math.sqrt(c.x*c.x+c.y*c.y),U={x:i.x/D,y:i.y/D},N={x:c.x/Y,y:c.y/Y},T=Math.atan2(U.y,U.x),C=Math.atan2(N.y,N.x);let I=T,P=C;Math.abs(T-C)>Math.PI&&(T<C?(I=C,P=T+2*Math.PI):(I=T,P=C+2*Math.PI));const X=q(0),A=J(0),te=X+Math.cos(I)*b,ee=A-Math.sin(I)*b,Z=X+Math.cos(P)*b,de=A-Math.sin(P)*b,pe=P-I>Math.PI?1:0,xe=`M ${te} ${ee} A ${b} ${b} 0 ${pe} 1 ${Z} ${de}`;se.append("path").attr("d",xe).attr("fill","none").attr("stroke","#f59e0b").attr("stroke-width",3).attr("opacity",.7);const ve=(I+P)/2,Me=b+15,Ce=X+Math.cos(ve)*Me,Re=A-Math.sin(ve)*Me;se.append("text").attr("x",Ce).attr("y",Re).attr("text-anchor","middle").attr("font-size","12px").attr("fill","#f59e0b").attr("font-weight","bold").text(`${k.toFixed(1)}°`)}ae(i,"A"),ae(c,"B");const E=H.append("defs");E.append("marker").attr("id","arrowhead-a").attr("viewBox","0 0 10 10").attr("refX",8).attr("refY",3).attr("markerWidth",6).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M0,0 L0,6 L9,3 z").attr("fill",i.color),E.append("marker").attr("id","arrowhead-b").attr("viewBox","0 0 10 10").attr("refX",8).attr("refY",3).attr("markerWidth",6).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M0,0 L0,6 L9,3 z").attr("fill",c.color)},[i,c,h,p,m]);const M=(H,F,L)=>{H==="A"?r(O=>({...O,[F]:L})):o(O=>({...O,[F]:L}))},R=()=>{r({x:3,y:4,label:"A",color:"#0ea5e9"}),o({x:4,y:3,label:"B",color:"#22c55e"})},z=H=>{switch(H){case"identical":r({x:3,y:4,label:"A",color:"#0ea5e9"}),o({x:3,y:4,label:"B",color:"#22c55e"});break;case"orthogonal":r({x:3,y:0,label:"A",color:"#0ea5e9"}),o({x:0,y:3,label:"B",color:"#22c55e"});break;case"opposite":r({x:3,y:4,label:"A",color:"#0ea5e9"}),o({x:-3,y:-4,label:"B",color:"#22c55e"});break;case"similar":r({x:4,y:3,label:"A",color:"#0ea5e9"}),o({x:3,y:4,label:"B",color:"#22c55e"});break}};return e.jsx("div",{className:"cosine-similarity fade-in",children:e.jsxs("div",{className:"container",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Cosine Similarity Simulator"}),e.jsx("p",{className:"page-description",children:"Explore how vectors relate to each other through angle and magnitude. Cosine similarity measures the cosine of the angle between two vectors, providing a value between -1 and 1."})]}),e.jsxs("div",{className:"simulation-layout",children:[e.jsxs("div",{className:"visualization-panel",children:[e.jsxs("div",{className:"visualization-header",children:[e.jsx("h2",{className:"visualization-title",children:"Vector Visualization"}),e.jsxs("div",{className:"visualization-controls",children:[e.jsxs("label",{className:"control-label",children:[e.jsx("input",{type:"checkbox",checked:h,onChange:H=>f(H.target.checked)}),"Show Grid"]}),e.jsxs("label",{className:"control-label",children:[e.jsx("input",{type:"checkbox",checked:p,onChange:H=>x(H.target.checked)}),"Show Angle"]}),e.jsxs("label",{className:"control-label",children:[e.jsx("input",{type:"checkbox",checked:m,onChange:H=>g(H.target.checked)}),"Show Magnitude"]})]})]}),e.jsx("div",{className:"visualization-container",children:e.jsx("svg",{ref:n,className:"vector-svg"})})]}),e.jsxs("div",{className:"controls-panel",children:[e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Vector Controls"})}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"vector-controls",children:[e.jsxs("div",{className:"vector-control",children:[e.jsx("h4",{className:"vector-label",children:"Vector A"}),e.jsxs("div",{className:"vector-inputs",children:[e.jsxs("div",{className:"input-group",children:[e.jsx("label",{className:"label",children:"X Component"}),e.jsx("input",{type:"range",min:"-5",max:"5",step:"0.1",value:i.x,onChange:H=>M("A","x",parseFloat(H.target.value)),className:"slider"}),e.jsx("span",{className:"value-display",children:i.x.toFixed(1)})]}),e.jsxs("div",{className:"input-group",children:[e.jsx("label",{className:"label",children:"Y Component"}),e.jsx("input",{type:"range",min:"-5",max:"5",step:"0.1",value:i.y,onChange:H=>M("A","y",parseFloat(H.target.value)),className:"slider"}),e.jsx("span",{className:"value-display",children:i.y.toFixed(1)})]})]})]}),e.jsxs("div",{className:"vector-control",children:[e.jsx("h4",{className:"vector-label",children:"Vector B"}),e.jsxs("div",{className:"vector-inputs",children:[e.jsxs("div",{className:"input-group",children:[e.jsx("label",{className:"label",children:"X Component"}),e.jsx("input",{type:"range",min:"-5",max:"5",step:"0.1",value:c.x,onChange:H=>M("B","x",parseFloat(H.target.value)),className:"slider"}),e.jsx("span",{className:"value-display",children:c.x.toFixed(1)})]}),e.jsxs("div",{className:"input-group",children:[e.jsx("label",{className:"label",children:"Y Component"}),e.jsx("input",{type:"range",min:"-5",max:"5",step:"0.1",value:c.y,onChange:H=>M("B","y",parseFloat(H.target.value)),className:"slider"}),e.jsx("span",{className:"value-display",children:c.y.toFixed(1)})]})]})]})]}),e.jsxs("div",{className:"preset-controls",children:[e.jsx("h4",{className:"preset-title",children:"Quick Presets"}),e.jsxs("div",{className:"preset-buttons",children:[e.jsx("button",{onClick:()=>z("identical"),className:"btn btn-outline",children:"Identical"}),e.jsx("button",{onClick:()=>z("orthogonal"),className:"btn btn-outline",children:"Orthogonal"}),e.jsx("button",{onClick:()=>z("opposite"),className:"btn btn-outline",children:"Opposite"}),e.jsx("button",{onClick:()=>z("similar"),className:"btn btn-outline",children:"Similar"})]}),e.jsx("button",{onClick:R,className:"btn btn-secondary",children:"Reset"})]})]})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Calculations"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"calculation-display",children:[e.jsxs("div",{className:"calculation-item",children:[e.jsx("span",{className:"calculation-label",children:"Cosine Similarity:"}),e.jsx("span",{className:"calculation-value",children:y.toFixed(4)})]}),e.jsxs("div",{className:"calculation-item",children:[e.jsx("span",{className:"calculation-label",children:"Angle:"}),e.jsxs("span",{className:"calculation-value",children:[B(i,c).toFixed(1),"°"]})]}),e.jsxs("div",{className:"calculation-item",children:[e.jsx("span",{className:"calculation-label",children:"Dot Product:"}),e.jsx("span",{className:"calculation-value",children:(i.x*c.x+i.y*c.y).toFixed(2)})]}),e.jsxs("div",{className:"calculation-item",children:[e.jsx("span",{className:"calculation-label",children:"|A|:"}),e.jsx("span",{className:"calculation-value",children:Math.sqrt(i.x*i.x+i.y*i.y).toFixed(2)})]}),e.jsxs("div",{className:"calculation-item",children:[e.jsx("span",{className:"calculation-label",children:"|B|:"}),e.jsx("span",{className:"calculation-value",children:Math.sqrt(c.x*c.x+c.y*c.y).toFixed(2)})]})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Interpretation"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"interpretation",children:[y>.9&&e.jsxs("div",{className:"interpretation-item positive",children:[e.jsx("strong",{children:"Very Similar:"})," The vectors point in nearly the same direction."]}),y>.5&&y<=.9&&e.jsxs("div",{className:"interpretation-item positive",children:[e.jsx("strong",{children:"Similar:"})," The vectors have a moderate positive relationship."]}),y>-.5&&y<=.5&&e.jsxs("div",{className:"interpretation-item neutral",children:[e.jsx("strong",{children:"Unrelated:"})," The vectors are roughly orthogonal or have weak correlation."]}),y>-.9&&y<=-.5&&e.jsxs("div",{className:"interpretation-item negative",children:[e.jsx("strong",{children:"Dissimilar:"})," The vectors point in opposite directions."]}),y<=-.9&&e.jsxs("div",{className:"interpretation-item negative",children:[e.jsx("strong",{children:"Opposite:"})," The vectors point in nearly opposite directions."]})]})})]})]})]}),e.jsx("div",{className:"explanation-section",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Understanding Cosine Similarity"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"explanation-content",children:[e.jsx("h4",{children:"Formula"}),e.jsx("div",{className:"formula",children:"cos(θ) = (A · B) / (|A| × |B|)"}),e.jsx("h4",{children:"Key Concepts"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Range:"})," Cosine similarity ranges from -1 to 1"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"1:"})," Vectors point in the same direction (identical)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"0:"})," Vectors are orthogonal (perpendicular)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"-1:"})," Vectors point in opposite directions"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Magnitude Independent:"})," Only the angle matters, not the length"]})]}),e.jsx("h4",{children:"Real-World Applications"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Text Analysis:"})," Comparing document similarity"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Recommendation Systems:"})," Finding similar users or items"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Image Recognition:"})," Comparing feature vectors"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Natural Language Processing:"})," Word embeddings and semantic similarity"]})]}),e.jsx("h4",{children:"Cosine Similarity in RAG (Retrieval Augmented Generation)"}),e.jsxs("p",{children:["One of the most important modern applications of cosine similarity is in ",e.jsx("strong",{children:"Retrieval Augmented Generation (RAG)"})," systems used with Large Language Models (LLMs). In RAG, documents are converted into high-dimensional vector embeddings (typically 384, 768, or 1536 dimensions) and stored in a vector database. When a user asks a question, the system converts the query into the same vector space and uses cosine similarity to find the most relevant documents."]}),e.jsx("p",{children:"The process works like this: First, a text embedding model (like OpenAI's text-embedding-ada-002 or Sentence-BERT) converts each document into a dense vector that captures its semantic meaning. These vectors are stored in a specialized database like Pinecone, Weaviate, or Chroma. When a user submits a query, it's also converted to a vector, and cosine similarity is used to find the most similar document vectors. The top-k most similar documents are then retrieved and fed as context to the LLM, allowing it to generate accurate, up-to-date responses based on the retrieved information."}),e.jsxs("p",{children:["Cosine similarity is particularly well-suited for RAG because it's ",e.jsx("strong",{children:"magnitude-independent"})," - it focuses purely on the direction and semantic content of the vectors rather than their length. This means that a short query can effectively match with longer documents if they share similar semantic meaning. Additionally, cosine similarity works well with the high-dimensional embeddings produced by modern embedding models, making it the go-to choice for semantic search in production RAG systems used by companies like Microsoft, Google, and countless AI startups."]})]})})]})}),e.jsx("section",{className:"copyright-section",children:e.jsx("div",{className:"copyright-notice",children:e.jsx("p",{children:"© 2025, Todd Brous. All rights reserved."})})})]})})},Hw=()=>{const n=_.useRef(null),i=_.useRef(null),[r,c]=_.useState("iris"),[o,h]=_.useState([]),[f,p]=_.useState([]),[x,m]=_.useState([]),[g,y]=_.useState({}),[j,w]=_.useState({mode:"explore",k:3,centroids:[],assignments:{},selectedPoint:void 0}),[B,M]=_.useState(!0),[R,z]=_.useState(!0),[H,F]=_.useState(!0),[L,O]=_.useState({width:800,height:600}),[V,Q]=_.useState(!1),[se,q]=_.useState([]),[J,G]=_.useState(null),K={iris:{name:"Iris Dataset (2D Projection)",description:"Classic machine learning dataset showing natural flower groupings",optimalK:3,features:["Petal Length","Petal Width"],data:[{id:"1",x:1.4,y:.2,label:"Setosa",originalCluster:0},{id:"2",x:1.4,y:.2,label:"Setosa",originalCluster:0},{id:"3",x:1.3,y:.2,label:"Setosa",originalCluster:0},{id:"4",x:1.5,y:.2,label:"Setosa",originalCluster:0},{id:"5",x:1.4,y:.2,label:"Setosa",originalCluster:0},{id:"6",x:1.7,y:.4,label:"Setosa",originalCluster:0},{id:"7",x:1.4,y:.3,label:"Setosa",originalCluster:0},{id:"8",x:1.5,y:.2,label:"Setosa",originalCluster:0},{id:"9",x:1.4,y:.2,label:"Setosa",originalCluster:0},{id:"10",x:1.5,y:.1,label:"Setosa",originalCluster:0},{id:"11",x:4.7,y:1.4,label:"Versicolor",originalCluster:1},{id:"12",x:4.5,y:1.5,label:"Versicolor",originalCluster:1},{id:"13",x:4.9,y:1.5,label:"Versicolor",originalCluster:1},{id:"14",x:4,y:1.3,label:"Versicolor",originalCluster:1},{id:"15",x:4.6,y:1.5,label:"Versicolor",originalCluster:1},{id:"16",x:4.5,y:1.3,label:"Versicolor",originalCluster:1},{id:"17",x:4.7,y:1.6,label:"Versicolor",originalCluster:1},{id:"18",x:3.3,y:1,label:"Versicolor",originalCluster:1},{id:"19",x:4.6,y:1.3,label:"Versicolor",originalCluster:1},{id:"20",x:3.9,y:1.4,label:"Versicolor",originalCluster:1},{id:"21",x:6,y:2.5,label:"Virginica",originalCluster:2},{id:"22",x:5.1,y:1.9,label:"Virginica",originalCluster:2},{id:"23",x:5.9,y:2.1,label:"Virginica",originalCluster:2},{id:"24",x:5.6,y:1.8,label:"Virginica",originalCluster:2},{id:"25",x:5.8,y:2.2,label:"Virginica",originalCluster:2},{id:"26",x:6.6,y:2.1,label:"Virginica",originalCluster:2},{id:"27",x:4.5,y:1.7,label:"Virginica",originalCluster:2},{id:"28",x:6.3,y:1.8,label:"Virginica",originalCluster:2},{id:"29",x:5.8,y:1.8,label:"Virginica",originalCluster:2},{id:"30",x:6.1,y:2.5,label:"Virginica",originalCluster:2}]},customer:{name:"Customer Segmentation",description:"Customer data with age and spending patterns - perfect for market segmentation",optimalK:4,features:["Age","Spending Score"],data:[{id:"1",x:25,y:85,label:"Young High Spender",originalCluster:0},{id:"2",x:22,y:90,label:"Young High Spender",originalCluster:0},{id:"3",x:28,y:88,label:"Young High Spender",originalCluster:0},{id:"4",x:24,y:92,label:"Young High Spender",originalCluster:0},{id:"5",x:26,y:87,label:"Young High Spender",originalCluster:0},{id:"6",x:24,y:15,label:"Young Low Spender",originalCluster:1},{id:"7",x:26,y:12,label:"Young Low Spender",originalCluster:1},{id:"8",x:23,y:18,label:"Young Low Spender",originalCluster:1},{id:"9",x:25,y:14,label:"Young Low Spender",originalCluster:1},{id:"10",x:27,y:16,label:"Young Low Spender",originalCluster:1},{id:"11",x:45,y:88,label:"Middle-aged High Spender",originalCluster:2},{id:"12",x:48,y:85,label:"Middle-aged High Spender",originalCluster:2},{id:"13",x:42,y:90,label:"Middle-aged High Spender",originalCluster:2},{id:"14",x:46,y:87,label:"Middle-aged High Spender",originalCluster:2},{id:"15",x:44,y:89,label:"Middle-aged High Spender",originalCluster:2},{id:"16",x:44,y:16,label:"Middle-aged Low Spender",originalCluster:3},{id:"17",x:46,y:13,label:"Middle-aged Low Spender",originalCluster:3},{id:"18",x:43,y:18,label:"Middle-aged Low Spender",originalCluster:3},{id:"19",x:45,y:14,label:"Middle-aged Low Spender",originalCluster:3},{id:"20",x:47,y:16,label:"Middle-aged Low Spender",originalCluster:3}]},synthetic:{name:"Synthetic Clusters",description:"Clearly separated clusters for learning the basics of distance metrics",optimalK:3,features:["Feature 1","Feature 2"],data:[{id:"1",x:20,y:80,originalCluster:0},{id:"2",x:25,y:85,originalCluster:0},{id:"3",x:18,y:82,originalCluster:0},{id:"4",x:22,y:88,originalCluster:0},{id:"5",x:24,y:83,originalCluster:0},{id:"6",x:75,y:20,originalCluster:1},{id:"7",x:78,y:25,originalCluster:1},{id:"8",x:72,y:18,originalCluster:1},{id:"9",x:76,y:22,originalCluster:1},{id:"10",x:74,y:24,originalCluster:1},{id:"11",x:50,y:50,originalCluster:2},{id:"12",x:52,y:48,originalCluster:2},{id:"13",x:48,y:52,originalCluster:2},{id:"14",x:51,y:49,originalCluster:2},{id:"15",x:49,y:51,originalCluster:2}]}},ae=["#ef4444","#22c55e","#3b82f6","#f59e0b","#8b5cf6","#06b6d4","#f97316","#ec4899"],E=(A,te)=>Math.sqrt(Math.pow(A.x-te.x,2)+Math.pow(A.y-te.y,2)),k=A=>{const te={};return A.forEach(ee=>{te[ee.id]={},A.forEach(Z=>{ee.id!==Z.id&&(te[ee.id][Z.id]=E(ee,Z))})}),te},b=(A,te,ee)=>te.filter(de=>de.id!==A.id).map(de=>({point:de,distance:E(A,de)})).sort((de,pe)=>de.distance-pe.distance).slice(0,ee).map(de=>de.point),D=(A,te)=>{const ee=[],Z=[...A].sort(()=>.5-Math.random());for(let de=0;de<te;de++){const pe=Z[de];ee.push({id:`centroid_${de}`,x:pe.x,y:pe.y,cluster:de,color:ae[de%ae.length],isCentroid:!0})}return ee},Y=(A,te)=>A.map(ee=>{let Z=1/0,de=0;return te.forEach(pe=>{const ge=E(ee,pe);ge<Z&&(Z=ge,de=pe.cluster||0)}),{...ee,cluster:de,color:ae[de%ae.length]}}),U=(A,te)=>te.map(ee=>{const Z=A.filter(ge=>ge.cluster===ee.cluster);if(Z.length===0)return ee;const de=Z.reduce((ge,xe)=>ge+xe.x,0)/Z.length,pe=Z.reduce((ge,xe)=>ge+xe.y,0)/Z.length;return{...ee,x:de,y:pe}}),N=(A,te)=>{let ee=0;return A.forEach(Z=>{const de=te.find(pe=>pe.cluster===Z.cluster);if(de){const pe=E(Z,de);ee+=pe*pe}}),ee},T=(A,te,ee=10)=>{let Z=D(A,te),de=[...A],pe=0;for(let ve=0;ve<ee;ve++){const Me=Y(de,Z),Ce=U(Me,Z),Re=Z.every((Xe,fe)=>{const ye=Ce[fe];return E(Xe,ye)<.1});if(Z=Ce,de=Me,pe++,Re)break}const ge=N(de,Z),xe={};return de.forEach(ve=>{xe[ve.id]=ve.cluster||0}),{centroids:Z,assignments:xe,wcss:ge,converged:pe<ee,iterations:pe}},C=()=>{if(i.current){const A=i.current.getBoundingClientRect(),ee=Math.max(600,A.width-40),Z=Math.max(400,Math.min(600,window.innerHeight*.6));O({width:ee,height:Z})}};_.useEffect(()=>{const A=()=>{C()};return C(),window.addEventListener("resize",A),()=>window.removeEventListener("resize",A)},[]),_.useEffect(()=>{const A=K[r];A&&(h(A.data.map(te=>({...te,cluster:void 0,color:"#6b7280",isSelected:!1}))),w(te=>({...te,k:A.optimalK})))},[r]),_.useEffect(()=>{if(o.length>0){const A=k(o);if(y(A),f.length>=2){const te=[];for(let ee=0;ee<f.length;ee++)for(let Z=ee+1;Z<f.length;Z++)te.push({pointA:f[ee],pointB:f[Z],distance:E(f[ee],f[Z]),isHighlighted:!0});m(te)}else m([])}},[o,f]),_.useEffect(()=>{se.length>0&&console.log("KNN Results:",se)},[se]),_.useEffect(()=>{J&&console.log("K-Means Results:",J)},[J]),_.useEffect(()=>{Object.keys(g).length>0&&console.log("Distance Matrix calculated for",Object.keys(g).length,"points")},[g]);const I=_.useRef(null);_.useEffect(()=>{if(!n.current||V)return;const A=Ee(n.current);A.selectAll("*").remove();const te=L.width,ee=L.height,Z={top:20,right:20,bottom:40,left:40},de=te-Z.left-Z.right,pe=ee-Z.top-Z.bottom,ge=A.attr("width",te).attr("height",ee).append("g").attr("transform",`translate(${Z.left},${Z.top})`),xe=st(o,me=>me.x),ve=st(o,me=>me.y),Me=xe[1]-xe[0],Ce=ve[1]-ve[0],Re=Math.max(1,Me*.1),Xe=Math.max(1,Ce*.1),fe=Ke().domain([xe[0]-Re,xe[1]+Re]).range([0,de]),ye=Ke().domain([ve[0]-Xe,ve[1]+Xe]).range([pe,0]);if(I.current={xScale:fe,yScale:ye},B){const me=rt(fe).tickSize(-pe).tickFormat(()=>""),be=ct(ye).tickSize(-de).tickFormat(()=>"");ge.append("g").attr("class","grid").attr("transform",`translate(0,${pe})`).call(me).style("stroke","#e2e8f0").style("stroke-width",1),ge.append("g").attr("class","grid").call(be).style("stroke","#e2e8f0").style("stroke-width",1)}const Se=rt(fe),je=ct(ye);ge.append("g").attr("class","axis").attr("transform",`translate(0,${pe})`).call(Se).style("color","#64748b"),ge.append("g").attr("class","axis").call(je).style("color","#64748b"),R&&x.length>0&&x.forEach(me=>{ge.append("line").attr("x1",fe(me.pointA.x)).attr("y1",ye(me.pointA.y)).attr("x2",fe(me.pointB.x)).attr("y2",ye(me.pointB.y)).attr("stroke","#f59e0b").attr("stroke-width",2).attr("stroke-dasharray","3,3").attr("opacity",.7);const be=(fe(me.pointA.x)+fe(me.pointB.x))/2,Le=(ye(me.pointA.y)+ye(me.pointB.y))/2;ge.append("text").attr("x",be).attr("y",Le-5).attr("text-anchor","middle").attr("font-size","12px").attr("fill","#f59e0b").attr("font-weight","bold").text(me.distance.toFixed(2))});const _e=ge.selectAll(".data-point").data(o).enter().append("circle").attr("class","data-point").attr("cx",me=>fe(me.x)).attr("cy",me=>ye(me.y)).attr("r",me=>me.isSelected?8:4).style("fill",me=>me.color||"#6b7280").style("stroke",me=>me.isSelected?"#3b82f6":"#374151").style("stroke-width",me=>me.isSelected?3:1).style("opacity",.8).style("cursor","pointer").on("click",function(me,be){me.stopPropagation(),p(Le=>Le.find(Ve=>Ve.id===be.id)?Le.filter(Ve=>Ve.id!==be.id):[...Le,be])}),we=hh().on("start",function(me,be){Q(!0),Ee(this).style("cursor","grabbing"),be.startMouseX=me.x,be.startMouseY=me.y,be.startPointX=be.x,be.startPointY=be.y}).on("drag",function(me,be){const Le=I.current;if(!Le)return;const{xScale:Ve,yScale:it}=Le,Ot=me.x-be.startMouseX,Dt=me.y-be.startMouseY,Be=Ve.invert(Ot)-Ve.invert(0),nt=it.invert(Dt)-it.invert(0),gt=be.startPointX+Be,_s=be.startPointY+nt;Ee(this).attr("cx",Ve(gt)).attr("cy",it(_s)),h(Cs=>Cs.map(bn=>bn.id===be.id?{...bn,x:gt,y:_s}:bn))}).on("end",function(me,be){Q(!1),Ee(this).style("cursor","pointer"),delete be.startMouseX,delete be.startMouseY,delete be.startPointX,delete be.startPointY});_e.call(we),H&&ge.selectAll(".point-label").data(o).enter().append("text").attr("class","point-label").attr("x",me=>fe(me.x)).attr("y",me=>ye(me.y)-12).attr("text-anchor","middle").attr("font-size","10px").attr("fill","#374151").text(me=>me.label||me.id);const ze=K[r];ge.append("text").attr("x",de/2).attr("y",pe+35).attr("text-anchor","middle").style("font-size","14px").style("fill","#374151").text(ze.features[0]),ge.append("text").attr("x",-pe/2).attr("y",-25).attr("text-anchor","middle").attr("transform","rotate(-90)").style("font-size","14px").style("fill","#374151").text(ze.features[1])},[o,f,x,B,R,H,L,r,V]);const P=A=>{if(w(te=>({...te,mode:A})),A==="kmeans"){const te=T(o,j.k);G(te),h(ee=>ee.map(Z=>({...Z,cluster:te.assignments[Z.id],color:ae[te.assignments[Z.id]%ae.length]})))}else if(A==="knn"){const te=o.map(ee=>({point:ee,neighbors:b(ee,o,j.k)}));q(te)}},X=()=>{p([]),m([])};return e.jsx("div",{className:"euclidean-distance fade-in",children:e.jsxs("div",{className:"container",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Euclidean Distance Explorer"}),e.jsx("p",{className:"page-description",children:"Explore distance metrics and their role in clustering and classification algorithms. Drag points to see how distances change, and discover how spatial relationships drive machine learning algorithms."})]}),e.jsxs("div",{className:"simulation-layout",children:[e.jsxs("div",{className:"visualization-panel",children:[e.jsxs("div",{className:"visualization-header",children:[e.jsx("h2",{className:"visualization-title",children:"Distance Visualization"}),e.jsxs("div",{className:"visualization-controls",children:[e.jsxs("label",{className:"control-label",children:[e.jsx("input",{type:"checkbox",checked:B,onChange:A=>M(A.target.checked)}),"Show Grid"]}),e.jsxs("label",{className:"control-label",children:[e.jsx("input",{type:"checkbox",checked:R,onChange:A=>z(A.target.checked)}),"Show Distances"]}),e.jsxs("label",{className:"control-label",children:[e.jsx("input",{type:"checkbox",checked:H,onChange:A=>F(A.target.checked)}),"Show Labels"]})]})]}),e.jsx("div",{className:"visualization-container",ref:i,children:e.jsx("svg",{ref:n,className:"euclidean-svg"})})]}),e.jsxs("div",{className:"controls-panel",children:[e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Dataset Selection"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"dataset-controls",children:[e.jsx("label",{className:"label",children:"Choose Dataset"}),e.jsxs("select",{value:r,onChange:A=>c(A.target.value),className:"input",children:[e.jsx("option",{value:"iris",children:"Iris Dataset"}),e.jsx("option",{value:"customer",children:"Customer Segmentation"}),e.jsx("option",{value:"synthetic",children:"Synthetic Clusters"})]}),e.jsx("p",{className:"dataset-description",children:K[r]?.description})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Algorithm Mode"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"algorithm-controls",children:[e.jsx("button",{onClick:()=>P("explore"),className:`btn ${j.mode==="explore"?"btn-primary":"btn-outline"}`,children:"Explore Mode"}),e.jsx("button",{onClick:()=>P("kmeans"),className:`btn ${j.mode==="kmeans"?"btn-primary":"btn-outline"}`,children:"K-Means Clustering"}),e.jsx("button",{onClick:()=>P("knn"),className:`btn ${j.mode==="knn"?"btn-primary":"btn-outline"}`,children:"K-Nearest Neighbors"})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Parameters"})}),e.jsx("div",{className:"card-body",children:e.jsx("div",{className:"parameter-controls",children:e.jsxs("div",{className:"input-group",children:[e.jsx("label",{className:"label",children:"K Value"}),e.jsx("input",{type:"range",min:"2",max:"8",value:j.k,onChange:A=>w(te=>({...te,k:parseInt(A.target.value)})),className:"slider"}),e.jsx("span",{className:"value-display",children:j.k})]})})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Distance Calculations"})}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"results-display",children:[f.length>=2&&e.jsxs("div",{className:"result-item",children:[e.jsx("span",{className:"result-label",children:"Selected Points:"}),e.jsx("span",{className:"result-value",children:f.length})]}),x.length>0&&e.jsxs("div",{className:"result-item",children:[e.jsx("span",{className:"result-label",children:"Distances:"}),e.jsx("span",{className:"result-value",children:x.length})]}),x.map((A,te)=>e.jsxs("div",{className:"result-item",children:[e.jsxs("span",{className:"result-label",children:[A.pointA.label||A.pointA.id," ↔ ",A.pointB.label||A.pointB.id,":"]}),e.jsx("span",{className:"result-value",children:A.distance.toFixed(2)})]},te))]}),e.jsx("button",{onClick:X,className:"btn btn-outline",children:"Clear Selection"})]})]})]})]}),e.jsxs("div",{className:"explanation-section",children:[e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"How to Use This Simulation"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"explanation-content",children:[e.jsx("h4",{children:"Step-by-Step Guide"}),e.jsxs("div",{className:"step-guide",children:[e.jsxs("div",{className:"step",children:[e.jsx("div",{className:"step-number",children:"1"}),e.jsxs("div",{className:"step-content",children:[e.jsx("strong",{children:"Choose Your Dataset"}),e.jsx("p",{children:"Start by selecting a dataset from the dropdown menu. Each dataset represents different real-world scenarios:"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Iris Dataset:"})," Flower measurements - perfect for learning natural groupings"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Customer Segmentation:"})," Age and spending patterns - like grouping customers for marketing"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Synthetic Clusters:"})," Clearly separated groups - easiest to understand distance concepts"]})]})]})]}),e.jsxs("div",{className:"step",children:[e.jsx("div",{className:"step-number",children:"2"}),e.jsxs("div",{className:"step-content",children:[e.jsx("strong",{children:"Select Algorithm Mode"}),e.jsx("p",{children:"Choose how you want to explore the data:"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Explore Mode:"})," Free exploration - drag points around and see how distances change"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"K-Means Clustering:"})," Watch how the algorithm groups points based on distance"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"K-Nearest Neighbors:"}),' See how distance determines which points are "most similar"']})]})]})]}),e.jsxs("div",{className:"step",children:[e.jsx("div",{className:"step-number",children:"3"}),e.jsxs("div",{className:"step-content",children:[e.jsx("strong",{children:"Adjust Parameters"}),e.jsx("p",{children:"Use the K-value slider to control algorithm behavior:"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"K = 2:"}),' Find 2 groups (like "young vs old" customers)']}),e.jsxs("li",{children:[e.jsx("strong",{children:"K = 3:"}),' Find 3 groups (like "budget, mid-range, premium" products)']}),e.jsxs("li",{children:[e.jsx("strong",{children:"K = 4+:"})," More detailed groupings"]})]})]})]}),e.jsxs("div",{className:"step",children:[e.jsx("div",{className:"step-number",children:"4"}),e.jsxs("div",{className:"step-content",children:[e.jsx("strong",{children:"Interact and Learn"}),e.jsx("p",{children:"Click and drag points to see how distances change in real-time. Select multiple points to see distance lines and calculations."})]})]})]})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Understanding Euclidean Distance"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"explanation-content",children:[e.jsx("h4",{children:"What is Euclidean Distance?"}),e.jsx("p",{children:`Think of Euclidean distance as the "straight-line distance" between two points, just like measuring with a ruler on a map. It's the shortest path between any two points in space.`}),e.jsx("div",{className:"formula",children:"d = √((x₂-x₁)² + (y₂-y₁)²)"}),e.jsxs("p",{children:[e.jsx("strong",{children:"In Simple Terms:"})," This formula calculates the distance between two points by:"]}),e.jsxs("ol",{children:[e.jsx("li",{children:"Finding the difference in X coordinates: (x₂-x₁)"}),e.jsx("li",{children:"Finding the difference in Y coordinates: (y₂-y₁)"}),e.jsx("li",{children:"Squaring both differences and adding them together"}),e.jsx("li",{children:"Taking the square root of the result"})]}),e.jsx("h4",{children:"Real-World Analogy"}),e.jsx("p",{children:`Imagine you're in a city with a grid system. To get from point A to point B, you can't walk diagonally through buildings, so you walk along the streets. The Euclidean distance is like having a magic ruler that can measure the straight-line distance "as the crow flies" - the shortest possible distance.`}),e.jsx("h4",{children:"Key Properties"}),e.jsxs("div",{className:"concepts-grid",children:[e.jsxs("div",{className:"concept-item",children:[e.jsx("h5",{children:"Always Positive"}),e.jsx("p",{children:"Distance can never be negative - it's always a positive number or zero (if points are identical)."})]}),e.jsxs("div",{className:"concept-item",children:[e.jsx("h5",{children:"Symmetric"}),e.jsx("p",{children:"Distance from A to B is the same as distance from B to A - just like walking from your house to school is the same distance as walking from school to your house."})]}),e.jsxs("div",{className:"concept-item",children:[e.jsx("h5",{children:"Triangle Inequality"}),e.jsx("p",{children:"If you go from A to B, then B to C, the total distance is always greater than or equal to going directly from A to C."})]}),e.jsxs("div",{className:"concept-item",children:[e.jsx("h5",{children:"Scale Sensitive"}),e.jsx("p",{children:"If you change the units (like from inches to feet), the distances change proportionally. This is important in machine learning!"})]})]}),e.jsx("h4",{children:"Why Distance Matters in Machine Learning"}),e.jsxs("div",{className:"applications-grid",children:[e.jsxs("div",{className:"application-item",children:[e.jsx("h5",{children:"Finding Similar Things"}),e.jsx("p",{children:'Netflix uses distance to find movies you might like - if you liked Movie A, it finds other movies that are "close" to Movie A in terms of genre, rating, etc.'})]}),e.jsxs("div",{className:"application-item",children:[e.jsx("h5",{children:"Grouping Similar Data"}),e.jsx("p",{children:'Companies group customers by similarity - customers who are "close" in terms of age, income, and spending habits get similar marketing campaigns.'})]}),e.jsxs("div",{className:"application-item",children:[e.jsx("h5",{children:"Making Predictions"}),e.jsx("p",{children:'When predicting if an email is spam, the algorithm looks at emails that are "close" to the current one in terms of word usage, sender patterns, etc.'})]}),e.jsxs("div",{className:"application-item",children:[e.jsx("h5",{children:"Image Recognition"}),e.jsx("p",{children:'When recognizing faces, the algorithm compares the current image to known faces and finds the "closest" match based on pixel patterns.'})]})]}),e.jsx("h4",{children:"How K-Means Uses Distance"}),e.jsx("p",{children:"K-Means clustering works like this:"}),e.jsxs("ol",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:'Place "centers" randomly:'})," Like dropping pins on a map to represent different neighborhoods"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Assign each point to the nearest center:"})," Each person (data point) belongs to the neighborhood (cluster) they're closest to"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Move centers to the middle of their group:"})," The neighborhood center moves to the average location of all people in that neighborhood"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Repeat until stable:"})," Keep reassigning and moving until no one changes neighborhoods"]})]}),e.jsx("h4",{children:"How K-Nearest Neighbors Uses Distance"}),e.jsx("p",{children:"K-NN classification works like asking your neighbors for advice:"}),e.jsxs("ol",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Find the K closest points:"})," Like asking your 3 closest neighbors for their opinion"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Count the votes:"}),' If 2 neighbors say "yes" and 1 says "no", you go with "yes"']}),e.jsxs("li",{children:[e.jsx("strong",{children:"Make the prediction:"})," The majority vote from your closest neighbors becomes your prediction"]})]}),e.jsx("h4",{children:"Common Pitfalls to Avoid"}),e.jsxs("div",{className:"pitfalls-grid",children:[e.jsxs("div",{className:"pitfall-item",children:[e.jsx("h5",{children:"Scale Differences"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Problem:"})," If one feature is in dollars (0-100,000) and another is in years (0-100), the dollar values will dominate distance calculations."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Solution:"})," Always normalize or standardize your data before calculating distances."]})]}),e.jsxs("div",{className:"pitfall-item",children:[e.jsx("h5",{children:"Too Many Dimensions"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Problem:"}),' In high dimensions, all points become roughly the same distance apart (the "curse of dimensionality").']}),e.jsxs("p",{children:[e.jsx("strong",{children:"Solution:"})," Use dimensionality reduction techniques like PCA before clustering."]})]}),e.jsxs("div",{className:"pitfall-item",children:[e.jsx("h5",{children:"Wrong Distance Metric"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Problem:"})," Euclidean distance assumes all directions are equally important, which isn't always true."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Solution:"})," Consider other distance metrics like Manhattan distance for certain types of data."]})]})]}),e.jsx("h4",{children:"Practice Exercises"}),e.jsxs("div",{className:"exercises",children:[e.jsx("h5",{children:"Try These Activities:"}),e.jsxs("ol",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Explore Mode:"})," Drag points around and watch how distances change. Try to make two points as close as possible, then as far apart as possible."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"K-Means Mode:"})," Start with K=2 and watch how the algorithm groups points. Then try K=3 and K=4. Which grouping makes the most sense?"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"K-NN Mode:"}),' Select a point and see its nearest neighbors. Change the K value and watch how the "neighborhood" changes.']}),e.jsxs("li",{children:[e.jsx("strong",{children:"Dataset Comparison:"})," Try the same K value on different datasets. Notice how some datasets have clearer groupings than others."]})]})]})]})})]})]}),e.jsx("section",{className:"copyright-section",children:e.jsx("div",{className:"copyright-notice",children:e.jsx("p",{children:"© 2025, Todd Brous. All rights reserved."})})})]})})},Bw=()=>{const n=_.useRef(null),[i,r]=_.useState("churn"),[c,o]=_.useState(4),[h,f]=_.useState(3),[p,x]=_.useState(2),[m,g]=_.useState(null),[y,j]=_.useState(0),w={churn:{name:"Customer Churn Prediction",description:"Complex dataset with 5 features and overlapping patterns for deep trees",features:["tenure_months","monthly_charges","total_charges","contract_type","internet_service"],targetFeature:"churned",data:[{id:"1",features:{tenure_months:60,monthly_charges:20,total_charges:1200,contract_type:2,internet_service:1},label:"Stay",color:"#10b981"},{id:"2",features:{tenure_months:48,monthly_charges:25,total_charges:1200,contract_type:2,internet_service:1},label:"Stay",color:"#10b981"},{id:"3",features:{tenure_months:72,monthly_charges:18,total_charges:1296,contract_type:2,internet_service:1},label:"Stay",color:"#10b981"},{id:"4",features:{tenure_months:36,monthly_charges:30,total_charges:1080,contract_type:1,internet_service:2},label:"Stay",color:"#10b981"},{id:"5",features:{tenure_months:24,monthly_charges:35,total_charges:840,contract_type:1,internet_service:2},label:"Stay",color:"#10b981"},{id:"6",features:{tenure_months:3,monthly_charges:80,total_charges:240,contract_type:0,internet_service:3},label:"Churn",color:"#ef4444"},{id:"7",features:{tenure_months:6,monthly_charges:75,total_charges:450,contract_type:0,internet_service:3},label:"Churn",color:"#ef4444"},{id:"8",features:{tenure_months:1,monthly_charges:90,total_charges:90,contract_type:0,internet_service:3},label:"Churn",color:"#ef4444"},{id:"9",features:{tenure_months:2,monthly_charges:85,total_charges:170,contract_type:0,internet_service:3},label:"Churn",color:"#ef4444"},{id:"10",features:{tenure_months:4,monthly_charges:78,total_charges:312,contract_type:0,internet_service:3},label:"Churn",color:"#ef4444"},{id:"11",features:{tenure_months:12,monthly_charges:50,total_charges:600,contract_type:1,internet_service:2},label:"Stay",color:"#10b981"},{id:"12",features:{tenure_months:15,monthly_charges:55,total_charges:825,contract_type:1,internet_service:2},label:"Stay",color:"#10b981"},{id:"13",features:{tenure_months:18,monthly_charges:60,total_charges:1080,contract_type:1,internet_service:2},label:"Churn",color:"#ef4444"},{id:"14",features:{tenure_months:9,monthly_charges:65,total_charges:585,contract_type:0,internet_service:3},label:"Churn",color:"#ef4444"},{id:"15",features:{tenure_months:21,monthly_charges:45,total_charges:945,contract_type:1,internet_service:2},label:"Stay",color:"#10b981"},{id:"16",features:{tenure_months:30,monthly_charges:70,total_charges:2100,contract_type:2,internet_service:3},label:"Stay",color:"#10b981"},{id:"17",features:{tenure_months:42,monthly_charges:75,total_charges:3150,contract_type:2,internet_service:3},label:"Churn",color:"#ef4444"},{id:"18",features:{tenure_months:54,monthly_charges:68,total_charges:3672,contract_type:2,internet_service:3},label:"Stay",color:"#10b981"},{id:"19",features:{tenure_months:66,monthly_charges:72,total_charges:4752,contract_type:2,internet_service:3},label:"Churn",color:"#ef4444"},{id:"20",features:{tenure_months:78,monthly_charges:65,total_charges:5070,contract_type:2,internet_service:3},label:"Stay",color:"#10b981"},{id:"21",features:{tenure_months:5,monthly_charges:30,total_charges:150,contract_type:0,internet_service:1},label:"Stay",color:"#10b981"},{id:"22",features:{tenure_months:7,monthly_charges:35,total_charges:245,contract_type:0,internet_service:1},label:"Stay",color:"#10b981"},{id:"23",features:{tenure_months:4,monthly_charges:40,total_charges:160,contract_type:0,internet_service:2},label:"Churn",color:"#ef4444"},{id:"24",features:{tenure_months:8,monthly_charges:25,total_charges:200,contract_type:0,internet_service:1},label:"Stay",color:"#10b981"},{id:"25",features:{tenure_months:6,monthly_charges:45,total_charges:270,contract_type:0,internet_service:2},label:"Churn",color:"#ef4444"},{id:"26",features:{tenure_months:14,monthly_charges:55,total_charges:770,contract_type:1,internet_service:2},label:"Stay",color:"#10b981"},{id:"27",features:{tenure_months:16,monthly_charges:58,total_charges:928,contract_type:1,internet_service:2},label:"Churn",color:"#ef4444"},{id:"28",features:{tenure_months:20,monthly_charges:52,total_charges:1040,contract_type:1,internet_service:2},label:"Stay",color:"#10b981"},{id:"29",features:{tenure_months:22,monthly_charges:48,total_charges:1056,contract_type:1,internet_service:2},label:"Stay",color:"#10b981"},{id:"30",features:{tenure_months:26,monthly_charges:62,total_charges:1612,contract_type:1,internet_service:2},label:"Churn",color:"#ef4444"},{id:"31",features:{tenure_months:10,monthly_charges:42,total_charges:420,contract_type:0,internet_service:1},label:"Stay",color:"#10b981"},{id:"32",features:{tenure_months:11,monthly_charges:38,total_charges:418,contract_type:0,internet_service:1},label:"Stay",color:"#10b981"},{id:"33",features:{tenure_months:13,monthly_charges:44,total_charges:572,contract_type:0,internet_service:2},label:"Churn",color:"#ef4444"},{id:"34",features:{tenure_months:17,monthly_charges:46,total_charges:782,contract_type:1,internet_service:2},label:"Stay",color:"#10b981"},{id:"35",features:{tenure_months:19,monthly_charges:49,total_charges:931,contract_type:1,internet_service:2},label:"Churn",color:"#ef4444"},{id:"36",features:{tenure_months:25,monthly_charges:51,total_charges:1275,contract_type:1,internet_service:2},label:"Stay",color:"#10b981"},{id:"37",features:{tenure_months:28,monthly_charges:47,total_charges:1316,contract_type:1,internet_service:2},label:"Stay",color:"#10b981"},{id:"38",features:{tenure_months:32,monthly_charges:53,total_charges:1696,contract_type:1,internet_service:2},label:"Churn",color:"#ef4444"},{id:"39",features:{tenure_months:35,monthly_charges:56,total_charges:1960,contract_type:2,internet_service:3},label:"Stay",color:"#10b981"},{id:"40",features:{tenure_months:38,monthly_charges:59,total_charges:2242,contract_type:2,internet_service:3},label:"Churn",color:"#ef4444"},{id:"41",features:{tenure_months:40,monthly_charges:41,total_charges:1640,contract_type:2,internet_service:1},label:"Stay",color:"#10b981"},{id:"42",features:{tenure_months:44,monthly_charges:43,total_charges:1892,contract_type:2,internet_service:1},label:"Stay",color:"#10b981"},{id:"43",features:{tenure_months:47,monthly_charges:45,total_charges:2115,contract_type:2,internet_service:2},label:"Churn",color:"#ef4444"},{id:"44",features:{tenure_months:50,monthly_charges:39,total_charges:1950,contract_type:2,internet_service:1},label:"Stay",color:"#10b981"},{id:"45",features:{tenure_months:52,monthly_charges:37,total_charges:1924,contract_type:2,internet_service:1},label:"Stay",color:"#10b981"}]},iris:{name:"Iris Dataset",description:"Classic flower classification dataset with 4 features",features:["sepal_length","sepal_width","petal_length","petal_width"],targetFeature:"species",data:[{id:"1",features:{sepal_length:5.1,sepal_width:3.5,petal_length:1.4,petal_width:.2},label:"Setosa",color:"#10b981"},{id:"2",features:{sepal_length:4.9,sepal_width:3,petal_length:1.4,petal_width:.2},label:"Setosa",color:"#10b981"},{id:"3",features:{sepal_length:4.7,sepal_width:3.2,petal_length:1.3,petal_width:.2},label:"Setosa",color:"#10b981"},{id:"4",features:{sepal_length:4.6,sepal_width:3.1,petal_length:1.5,petal_width:.2},label:"Setosa",color:"#10b981"},{id:"5",features:{sepal_length:5,sepal_width:3.6,petal_length:1.4,petal_width:.2},label:"Setosa",color:"#10b981"},{id:"6",features:{sepal_length:7,sepal_width:3.2,petal_length:4.7,petal_width:1.4},label:"Versicolor",color:"#f59e0b"},{id:"7",features:{sepal_length:6.4,sepal_width:3.2,petal_length:4.5,petal_width:1.5},label:"Versicolor",color:"#f59e0b"},{id:"8",features:{sepal_length:6.9,sepal_width:3.1,petal_length:4.9,petal_width:1.5},label:"Versicolor",color:"#f59e0b"},{id:"9",features:{sepal_length:5.5,sepal_width:2.3,petal_length:4,petal_width:1.3},label:"Versicolor",color:"#f59e0b"},{id:"10",features:{sepal_length:6.5,sepal_width:2.8,petal_length:4.6,petal_width:1.5},label:"Versicolor",color:"#f59e0b"},{id:"11",features:{sepal_length:6.3,sepal_width:3.3,petal_length:6,petal_width:2.5},label:"Virginica",color:"#ef4444"},{id:"12",features:{sepal_length:5.8,sepal_width:2.7,petal_length:5.1,petal_width:1.9},label:"Virginica",color:"#ef4444"},{id:"13",features:{sepal_length:7.1,sepal_width:3,petal_length:5.9,petal_width:2.1},label:"Virginica",color:"#ef4444"},{id:"14",features:{sepal_length:6.3,sepal_width:2.9,petal_length:5.6,petal_width:1.8},label:"Virginica",color:"#ef4444"},{id:"15",features:{sepal_length:6.5,sepal_width:3,petal_length:5.8,petal_width:2.2},label:"Virginica",color:"#ef4444"}]}},B=L=>{if(L.length===0)return 0;const O={};L.forEach(Q=>{O[Q.label]=(O[Q.label]||0)+1});let V=0;return Object.values(O).forEach(Q=>{const se=Q/L.length;V-=se*Math.log2(se)}),V},M=(L,O,V)=>{const Q=B(L),se=L.filter(k=>k.features[O]<=V),q=L.filter(k=>k.features[O]>V),J=B(se),G=B(q),K=se.length/L.length,ae=q.length/L.length,E=K*J+ae*G;return Q-E},R=(L,O)=>{let V=0,Q=null;return O.forEach(se=>{const q=L.map(J=>J.features[se]).sort((J,G)=>J-G);for(let J=0;J<q.length-1;J++){const G=(q[J]+q[J+1])/2,K=M(L,se,G);K>V&&(V=K,Q={feature:se,threshold:G,gain:K})}}),Q},z=(L,O,V=0,Q=c,se=h,q=p)=>{const J=[...new Set(L.map(k=>k.label))];if(V>=Q||J.length===1){const k={};L.forEach(D=>{k[D.label]=(k[D.label]||0)+1});const b=Object.keys(k).reduce((D,Y)=>k[D]>k[Y]?D:Y);return{id:`leaf_${Math.random().toString(36).substr(2,9)}`,label:b,samples:L.length,children:[],depth:V}}if(L.length<se){const k={};L.forEach(D=>{k[D.label]=(k[D.label]||0)+1});const b=Object.keys(k).reduce((D,Y)=>k[D]>k[Y]?D:Y);return{id:`leaf_${Math.random().toString(36).substr(2,9)}`,label:b,samples:L.length,children:[],depth:V}}const G=R(L,O);if(!G||G.gain<=0){const k={};L.forEach(D=>{k[D.label]=(k[D.label]||0)+1});const b=Object.keys(k).reduce((D,Y)=>k[D]>k[Y]?D:Y);return{id:`leaf_${Math.random().toString(36).substr(2,9)}`,label:b,samples:L.length,children:[],depth:V}}const K=L.filter(k=>k.features[G.feature]<=G.threshold),ae=L.filter(k=>k.features[G.feature]>G.threshold);if(K.length<q||ae.length<q){const k={};L.forEach(D=>{k[D.label]=(k[D.label]||0)+1});const b=Object.keys(k).reduce((D,Y)=>k[D]>k[Y]?D:Y);return{id:`leaf_${Math.random().toString(36).substr(2,9)}`,label:b,samples:L.length,children:[],depth:V}}const E={id:`node_${Math.random().toString(36).substr(2,9)}`,feature:G.feature,threshold:G.threshold,samples:L.length,children:[],depth:V};return E.children.push(z(K,O,V+1,Q,se,q)),E.children.push(z(ae,O,V+1,Q,se,q)),E},H=(L,O)=>{let V=0;return L.forEach(Q=>{F(Q,O)===Q.label&&V++}),V/L.length},F=(L,O)=>O.label?O.label:O.feature&&O.threshold!==void 0?L.features[O.feature]<=O.threshold?F(L,O.children[0]):F(L,O.children[1]):"unknown";return _.useEffect(()=>{const L=w[i];if(L){console.log("Rebuilding tree with parameters:",{dataset:i,maxDepth:c,minSamplesSplit:h,minSamplesLeaf:p,dataLength:L.data.length});const O=z(L.data,L.features,0,c,h,p);g(O);const V=H(L.data,O);j(V),console.log("Tree rebuilt:",{totalNodes:Jd(O),leafNodes:eh(O),maxDepth:th(O),accuracy:V})}},[i,c,h,p]),_.useEffect(()=>{if(!m||!n.current)return;const L=Ee(n.current);L.selectAll("*").remove();const O=800,V=600,Q={top:40,right:40,bottom:40,left:40};L.attr("width",O).attr("height",V).style("border","1px solid #e5e7eb").style("border-radius","8px").style("background","white");const se=Lw().scaleExtent([.1,5]).on("zoom",A=>{q.attr("transform",A.transform)});L.call(se);const q=L.append("g"),J=vh(m);aw().size([O-Q.left-Q.right,V-Q.top-Q.bottom])(J);const K=J.descendants(),ae=Math.min(...K.map(A=>A.x||0)),E=Math.max(...K.map(A=>A.x||0)),k=Math.min(...K.map(A=>A.y||0)),b=Math.max(...K.map(A=>A.y||0)),D=E-ae,Y=b-k,U=(O-Q.left-Q.right)/(D+100),N=(V-Q.top-Q.bottom)/(Y+100),T=Math.min(U,N,1),C=(O-(E+ae)*T)/2,I=(V-(b+k)*T)/2;q.attr("transform",`translate(${C}, ${I}) scale(${T})`),q.selectAll(".link").data(J.links()).enter().append("path").attr("class","link").attr("d",Tw().x(A=>A.x).y(A=>A.y)).style("fill","none").style("stroke","#6b7280").style("stroke-width","3px");const P=q.selectAll(".node").data(J.descendants()).enter().append("g").attr("class","node").attr("transform",A=>`translate(${A.x},${A.y})`);P.append("circle").attr("r",25).style("fill",A=>A.data.label?"#ef4444":"#06b6d4").style("stroke","#374151").style("stroke-width","3px").style("cursor","pointer"),P.append("text").attr("dy",".35em").attr("text-anchor","middle").style("font-size","14px").style("font-weight","bold").style("fill","white").style("text-shadow","1px 1px 2px rgba(0,0,0,0.5)").text(A=>A.data.label?A.data.label.substring(0,4):A.data.feature?A.data.feature.substring(0,4):""),P.append("text").attr("dy","2.2em").attr("text-anchor","middle").style("font-size","11px").style("font-weight","600").style("fill","#374151").style("background","rgba(255,255,255,0.8)").style("padding","2px 4px").style("border-radius","4px").text(A=>A.data.feature&&A.data.threshold!==void 0?`${A.data.feature} ≤ ${A.data.threshold.toFixed(1)}`:""),P.append("text").attr("dy","3.5em").attr("text-anchor","middle").style("font-size","10px").style("fill","#6b7280").style("font-weight","500").text(A=>`n=${A.data.samples}`);const X=L.append("g").attr("class","zoom-controls").attr("transform",`translate(${O-120}, 20)`);X.append("rect").attr("x",0).attr("y",0).attr("width",30).attr("height",30).attr("rx",4).style("fill","#f3f4f6").style("stroke","#d1d5db").style("cursor","pointer").on("click",()=>{L.transition().duration(300).call(se.scaleBy,1.5)}),X.append("text").attr("x",15).attr("y",20).attr("text-anchor","middle").style("font-size","16px").style("font-weight","bold").style("fill","#374151").text("+"),X.append("rect").attr("x",40).attr("y",0).attr("width",30).attr("height",30).attr("rx",4).style("fill","#f3f4f6").style("stroke","#d1d5db").style("cursor","pointer").on("click",()=>{L.transition().duration(300).call(se.scaleBy,1/1.5)}),X.append("text").attr("x",55).attr("y",20).attr("text-anchor","middle").style("font-size","16px").style("font-weight","bold").style("fill","#374151").text("−"),X.append("rect").attr("x",80).attr("y",0).attr("width",30).attr("height",30).attr("rx",4).style("fill","#f3f4f6").style("stroke","#d1d5db").style("cursor","pointer").on("click",()=>{L.transition().duration(300).call(se.transform,bh.translate(C,I).scale(T))}),X.append("text").attr("x",95).attr("y",20).attr("text-anchor","middle").style("font-size","12px").style("font-weight","bold").style("fill","#374151").text("⌂")},[m]),e.jsx("div",{className:"decision-tree fade-in",children:e.jsxs("div",{className:"container",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Decision Tree Builder"}),e.jsx("p",{className:"page-description",children:"Build and visualize decision trees interactively. See how the algorithm makes splitting decisions based on information gain and entropy."})]}),e.jsxs("div",{className:"simulation-layout",children:[e.jsxs("div",{className:"visualization-panel",children:[e.jsxs("div",{className:"visualization-header",children:[e.jsx("h2",{className:"visualization-title",children:"Decision Tree Visualization"}),e.jsxs("div",{className:"tree-stats",children:[e.jsxs("span",{className:"stat",children:["Accuracy: ",(y*100).toFixed(1),"%"]}),e.jsxs("span",{className:"stat",children:["Samples: ",w[i]?.data.length||0]})]})]}),e.jsx("div",{className:"visualization-container",children:e.jsx("svg",{ref:n,className:"tree-svg"})})]}),e.jsxs("div",{className:"controls-panel",children:[e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Dataset Selection"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"dataset-controls",children:[e.jsx("label",{className:"label",children:"Choose Dataset"}),e.jsxs("select",{value:i,onChange:L=>r(L.target.value),className:"input",children:[e.jsx("option",{value:"churn",children:"Customer Churn Prediction"}),e.jsx("option",{value:"iris",children:"Iris Dataset"})]}),e.jsx("p",{className:"dataset-description",children:w[i]?.description})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Tree Parameters"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"parameter-controls",children:[e.jsxs("div",{className:"input-group",children:[e.jsx("label",{className:"label",children:"Max Depth"}),e.jsx("input",{type:"range",min:"1",max:"5",value:c,onChange:L=>{const O=parseInt(L.target.value);console.log("Max Depth changed:",O),o(O)},className:"slider"}),e.jsx("span",{className:"value-display",children:c}),e.jsx("small",{className:"parameter-help",children:"Maximum number of levels in the tree"})]}),e.jsxs("div",{className:"input-group",children:[e.jsx("label",{className:"label",children:"Min Samples Split"}),e.jsx("input",{type:"range",min:"1",max:"15",value:h,onChange:L=>{const O=parseInt(L.target.value);console.log("Min Samples Split changed:",O),f(O)},className:"slider"}),e.jsx("span",{className:"value-display",children:h}),e.jsx("small",{className:"parameter-help",children:"Minimum samples required to create a split"})]}),e.jsxs("div",{className:"input-group",children:[e.jsx("label",{className:"label",children:"Min Samples Leaf"}),e.jsx("input",{type:"range",min:"1",max:"10",value:p,onChange:L=>{const O=parseInt(L.target.value);console.log("Min Samples Leaf changed:",O),x(O)},className:"slider"}),e.jsx("span",{className:"value-display",children:p}),e.jsx("small",{className:"parameter-help",children:"Minimum samples required in a leaf node"})]})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Tree Information"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"tree-info",children:[e.jsxs("div",{className:"info-item",children:[e.jsx("span",{className:"info-label",children:"Total Nodes:"}),e.jsx("span",{className:"info-value",children:m?Jd(m):0})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("span",{className:"info-label",children:"Leaf Nodes:"}),e.jsx("span",{className:"info-value",children:m?eh(m):0})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("span",{className:"info-label",children:"Max Depth:"}),e.jsx("span",{className:"info-value",children:m?th(m):0})]})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"How It Works"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"explanation-steps",children:[e.jsxs("div",{className:"step",children:[e.jsx("div",{className:"step-number",children:"1"}),e.jsxs("div",{className:"step-content",children:[e.jsx("strong",{children:"Start with all data"}),e.jsxs("p",{children:["Begin with all ",w[i]?.data.length," samples at the root"]})]})]}),e.jsxs("div",{className:"step",children:[e.jsx("div",{className:"step-number",children:"2"}),e.jsxs("div",{className:"step-content",children:[e.jsx("strong",{children:"Find best split"}),e.jsx("p",{children:"Calculate information gain for each feature to find the best split"})]})]}),e.jsxs("div",{className:"step",children:[e.jsx("div",{className:"step-number",children:"3"}),e.jsxs("div",{className:"step-content",children:[e.jsx("strong",{children:"Create branches"}),e.jsx("p",{children:"Split data into left (≤ threshold) and right (> threshold) branches"})]})]}),e.jsxs("div",{className:"step",children:[e.jsx("div",{className:"step-number",children:"4"}),e.jsxs("div",{className:"step-content",children:[e.jsx("strong",{children:"Repeat recursively"}),e.jsx("p",{children:"Continue splitting until stopping conditions are met"})]})]})]})})]})]})]}),e.jsxs("div",{className:"explanation-section",children:[e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Understanding Decision Trees"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"explanation-content",children:[e.jsx("h4",{children:"How Decision Trees Work"}),e.jsx("p",{children:"Decision trees are a type of supervised learning algorithm that makes decisions by asking a series of yes/no questions about the input features. Each internal node represents a test on a feature, each branch represents the outcome of the test, and each leaf node represents a class label."}),e.jsx("h4",{children:"Key Concepts"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Entropy:"})," Measures the impurity or uncertainty in a dataset"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Information Gain:"})," Measures how much a feature reduces entropy"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Gini Impurity:"})," Alternative measure of impurity"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Overfitting:"})," When a tree becomes too complex and memorizes training data"]})]}),e.jsx("h4",{children:"Real-World Applications"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Medical Diagnosis:"})," Decision trees for symptom analysis"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Credit Scoring:"})," Loan approval decisions"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Marketing:"})," Customer segmentation and targeting"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Quality Control:"})," Manufacturing defect detection"]})]})]})})]}),i==="churn"&&e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Customer Churn Prediction - Feature Analysis"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"feature-analysis",children:[e.jsx("h4",{children:"Dataset Features Explained"}),e.jsxs("div",{className:"features-grid",children:[e.jsxs("div",{className:"feature-item",children:[e.jsxs("div",{className:"feature-header",children:[e.jsx("span",{className:"feature-name",children:"Tenure Months"}),e.jsx("span",{className:"feature-range",children:"1-78 months"})]}),e.jsx("p",{className:"feature-description",children:"How long the customer has been with the company. Longer tenure generally indicates higher loyalty and lower churn risk."}),e.jsxs("div",{className:"feature-insights",children:[e.jsx("strong",{children:"Key Insights:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Customers with 0-12 months tenure have highest churn risk"}),e.jsx("li",{children:"Customers with 24+ months tenure are more likely to stay"}),e.jsx("li",{children:"New customers (0-6 months) are most vulnerable to churn"})]})]})]}),e.jsxs("div",{className:"feature-item",children:[e.jsxs("div",{className:"feature-header",children:[e.jsx("span",{className:"feature-name",children:"Monthly Charges"}),e.jsx("span",{className:"feature-range",children:"$18-$90"})]}),e.jsx("p",{className:"feature-description",children:"The amount the customer pays each month for services. Higher charges can indicate premium services or potential price sensitivity."}),e.jsxs("div",{className:"feature-insights",children:[e.jsx("strong",{children:"Key Insights:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Very high charges ($70+) increase churn risk"}),e.jsx("li",{children:"Low charges ($20-40) indicate basic plans with lower churn"}),e.jsx("li",{children:"Medium charges ($40-60) show mixed patterns"})]})]})]}),e.jsxs("div",{className:"feature-item",children:[e.jsxs("div",{className:"feature-header",children:[e.jsx("span",{className:"feature-name",children:"Total Charges"}),e.jsx("span",{className:"feature-range",children:"$90-$5,070"})]}),e.jsx("p",{className:"feature-description",children:"The total amount the customer has paid over their entire tenure. Higher total charges indicate long-term value and investment."}),e.jsxs("div",{className:"feature-insights",children:[e.jsx("strong",{children:"Key Insights:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"High total charges ($2000+) indicate loyal customers"}),e.jsx("li",{children:"Low total charges ($500-) suggest new or at-risk customers"}),e.jsx("li",{children:"Combines tenure and monthly charges for overall value"})]})]})]}),e.jsxs("div",{className:"feature-item",children:[e.jsxs("div",{className:"feature-header",children:[e.jsx("span",{className:"feature-name",children:"Contract Type"}),e.jsx("span",{className:"feature-range",children:"0, 1, 2 years"})]}),e.jsx("p",{className:"feature-description",children:"The length of the customer's contract commitment. Longer contracts typically reduce churn due to early termination fees."}),e.jsxs("div",{className:"feature-insights",children:[e.jsx("strong",{children:"Key Insights:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Month-to-month (0) contracts have highest churn risk"}),e.jsx("li",{children:"2-year contracts (2) have lowest churn risk"}),e.jsx("li",{children:"1-year contracts (1) show moderate churn risk"})]})]})]}),e.jsxs("div",{className:"feature-item",children:[e.jsxs("div",{className:"feature-header",children:[e.jsx("span",{className:"feature-name",children:"Internet Service"}),e.jsx("span",{className:"feature-range",children:"DSL, Fiber, None"})]}),e.jsx("p",{className:"feature-description",children:"The type of internet service the customer has. Different service types have different reliability and satisfaction levels."}),e.jsxs("div",{className:"feature-insights",children:[e.jsx("strong",{children:"Key Insights:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"No internet service (3) often indicates basic plans"}),e.jsx("li",{children:"Fiber optic (2) customers may have higher expectations"}),e.jsx("li",{children:"DSL (1) customers show mixed churn patterns"})]})]})]})]}),e.jsxs("div",{className:"decision-process",children:[e.jsx("h4",{children:"How the Decision Tree Makes Predictions"}),e.jsxs("div",{className:"process-steps",children:[e.jsxs("div",{className:"process-step",children:[e.jsx("div",{className:"step-number",children:"1"}),e.jsxs("div",{className:"step-content",children:[e.jsx("strong",{children:"Feature Selection"}),e.jsx("p",{children:"The algorithm evaluates each feature to find the one that best separates customers who churn from those who stay."})]})]}),e.jsxs("div",{className:"process-step",children:[e.jsx("div",{className:"step-number",children:"2"}),e.jsxs("div",{className:"step-content",children:[e.jsx("strong",{children:"Threshold Finding"}),e.jsx("p",{children:'For each feature, it finds the optimal threshold (e.g., "tenure ≤ 12 months") that maximizes information gain.'})]})]}),e.jsxs("div",{className:"process-step",children:[e.jsx("div",{className:"step-number",children:"3"}),e.jsxs("div",{className:"step-content",children:[e.jsx("strong",{children:"Data Splitting"}),e.jsx("p",{children:"The dataset is split into two groups based on the threshold, creating left and right branches."})]})]}),e.jsxs("div",{className:"process-step",children:[e.jsx("div",{className:"step-number",children:"4"}),e.jsxs("div",{className:"step-content",children:[e.jsx("strong",{children:"Recursive Building"}),e.jsx("p",{children:"The process repeats for each branch until stopping conditions are met (max depth, min samples, etc.)."})]})]})]})]}),e.jsxs("div",{className:"business-insights",children:[e.jsx("h4",{children:"Business Insights from the Tree"}),e.jsxs("div",{className:"insights-grid",children:[e.jsxs("div",{className:"insight-item",children:[e.jsx("h5",{children:"High-Risk Customers"}),e.jsx("p",{children:"Customers with short tenure, high monthly charges, and month-to-month contracts are most likely to churn."})]}),e.jsxs("div",{className:"insight-item",children:[e.jsx("h5",{children:"Loyal Customers"}),e.jsx("p",{children:"Long-term customers with reasonable charges and longer contracts are most likely to stay."})]}),e.jsxs("div",{className:"insight-item",children:[e.jsx("h5",{children:"Mixed Patterns"}),e.jsx("p",{children:"Medium-tenure customers show complex patterns that require multiple features to predict accurately."})]})]})]})]})})]}),i==="iris"&&e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Iris Dataset - Feature Analysis"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"feature-analysis",children:[e.jsx("h4",{children:"Dataset Features Explained"}),e.jsxs("div",{className:"features-grid",children:[e.jsxs("div",{className:"feature-item",children:[e.jsxs("div",{className:"feature-header",children:[e.jsx("span",{className:"feature-name",children:"Sepal Length"}),e.jsx("span",{className:"feature-range",children:"4.6-7.1 cm"})]}),e.jsx("p",{className:"feature-description",children:"The length of the sepal (outer protective covering) of the iris flower. This is one of the most distinguishing features between species."}),e.jsxs("div",{className:"feature-insights",children:[e.jsx("strong",{children:"Key Insights:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Setosa flowers have the shortest sepals (4.6-5.0 cm)"}),e.jsx("li",{children:"Virginica flowers have the longest sepals (5.8-7.1 cm)"}),e.jsx("li",{children:"Versicolor flowers fall in the middle range (5.5-7.0 cm)"})]})]})]}),e.jsxs("div",{className:"feature-item",children:[e.jsxs("div",{className:"feature-header",children:[e.jsx("span",{className:"feature-name",children:"Sepal Width"}),e.jsx("span",{className:"feature-range",children:"2.3-3.6 cm"})]}),e.jsx("p",{className:"feature-description",children:"The width of the sepal. This feature shows less variation between species but still contributes to classification accuracy."}),e.jsxs("div",{className:"feature-insights",children:[e.jsx("strong",{children:"Key Insights:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Setosa flowers have the widest sepals (3.0-3.6 cm)"}),e.jsx("li",{children:"Versicolor and Virginica have narrower sepals (2.3-3.3 cm)"}),e.jsx("li",{children:"Less discriminative than sepal length"})]})]})]}),e.jsxs("div",{className:"feature-item",children:[e.jsxs("div",{className:"feature-header",children:[e.jsx("span",{className:"feature-name",children:"Petal Length"}),e.jsx("span",{className:"feature-range",children:"1.3-6.0 cm"})]}),e.jsx("p",{className:"feature-description",children:"The length of the petal (the colorful part of the flower). This is often the most important feature for distinguishing iris species."}),e.jsxs("div",{className:"feature-insights",children:[e.jsx("strong",{children:"Key Insights:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Setosa flowers have very short petals (1.3-1.5 cm)"}),e.jsx("li",{children:"Versicolor flowers have medium petals (4.0-4.9 cm)"}),e.jsx("li",{children:"Virginica flowers have the longest petals (5.1-6.0 cm)"})]})]})]}),e.jsxs("div",{className:"feature-item",children:[e.jsxs("div",{className:"feature-header",children:[e.jsx("span",{className:"feature-name",children:"Petal Width"}),e.jsx("span",{className:"feature-range",children:"0.2-2.5 cm"})]}),e.jsx("p",{className:"feature-description",children:"The width of the petal. This feature shows the most dramatic differences between species and is highly discriminative."}),e.jsxs("div",{className:"feature-insights",children:[e.jsx("strong",{children:"Key Insights:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Setosa flowers have very narrow petals (0.2 cm)"}),e.jsx("li",{children:"Versicolor flowers have medium-width petals (1.3-1.5 cm)"}),e.jsx("li",{children:"Virginica flowers have the widest petals (1.8-2.5 cm)"})]})]})]})]}),e.jsxs("div",{className:"decision-process",children:[e.jsx("h4",{children:"How the Decision Tree Classifies Iris Flowers"}),e.jsxs("div",{className:"process-steps",children:[e.jsxs("div",{className:"process-step",children:[e.jsx("div",{className:"step-number",children:"1"}),e.jsxs("div",{className:"step-content",children:[e.jsx("strong",{children:"Feature Selection"}),e.jsx("p",{children:"The algorithm evaluates each measurement to find the one that best separates the three iris species."})]})]}),e.jsxs("div",{className:"process-step",children:[e.jsx("div",{className:"step-number",children:"2"}),e.jsxs("div",{className:"step-content",children:[e.jsx("strong",{children:"Threshold Finding"}),e.jsx("p",{children:'For each feature, it finds the optimal threshold (e.g., "petal length ≤ 2.0 cm") that maximizes information gain.'})]})]}),e.jsxs("div",{className:"process-step",children:[e.jsx("div",{className:"step-number",children:"3"}),e.jsxs("div",{className:"step-content",children:[e.jsx("strong",{children:"Species Separation"}),e.jsx("p",{children:"The tree creates branches that separate Setosa (easily distinguishable) from Versicolor and Virginica."})]})]}),e.jsxs("div",{className:"process-step",children:[e.jsx("div",{className:"step-number",children:"4"}),e.jsxs("div",{className:"step-content",children:[e.jsx("strong",{children:"Fine-Tuning"}),e.jsx("p",{children:"Additional splits help distinguish between the more similar Versicolor and Virginica species."})]})]})]})]}),e.jsxs("div",{className:"business-insights",children:[e.jsx("h4",{children:"Scientific Insights from the Tree"}),e.jsxs("div",{className:"insights-grid",children:[e.jsxs("div",{className:"insight-item",children:[e.jsx("h5",{children:"Setosa (Iris setosa)"}),e.jsx("p",{children:"Easily distinguishable with very short, narrow petals. Often separated in the first split of the tree."})]}),e.jsxs("div",{className:"insight-item",children:[e.jsx("h5",{children:"Versicolor (Iris versicolor)"}),e.jsx("p",{children:"Medium-sized flowers that require multiple features to distinguish from Virginica."})]}),e.jsxs("div",{className:"insight-item",children:[e.jsx("h5",{children:"Virginica (Iris virginica)"}),e.jsx("p",{children:"Largest flowers with the longest and widest petals, but can overlap with Versicolor."})]})]})]}),e.jsxs("div",{className:"iris-context",children:[e.jsx("h4",{children:"About the Iris Dataset"}),e.jsx("p",{children:"The Iris dataset is one of the most famous datasets in machine learning, collected by British statistician and biologist Ronald Fisher in 1936. It contains measurements of 150 iris flowers from three species: Setosa, Versicolor, and Virginica. This dataset is perfect for learning classification algorithms because it has clear patterns but also some overlap between species, making it realistic for real-world applications."}),e.jsxs("p",{children:[e.jsx("strong",{children:"Why it's perfect for learning:"})," The dataset is small enough to understand completely, has clear visual patterns, and demonstrates both easy separations (Setosa) and challenging ones (Versicolor vs Virginica). It's been used in machine learning education for decades because it perfectly illustrates the concepts of classification, feature importance, and decision boundaries."]})]})]})})]})]}),e.jsx("section",{className:"copyright-section",children:e.jsx("div",{className:"copyright-notice",children:e.jsx("p",{children:"© 2025, Todd Brous. All rights reserved."})})})]})})},Jd=n=>{let i=1;return n.children.forEach(r=>{i+=Jd(r)}),i},eh=n=>{if(n.children.length===0)return 1;let i=0;return n.children.forEach(r=>{i+=eh(r)}),i},th=n=>n.children.length===0?n.depth:Math.max(...n.children.map(i=>th(i))),Uw=()=>{const n=_.useRef(null),i=_.useRef(null),[r,c]=_.useState("customer"),[o,h]=_.useState(3),[f,p]=_.useState([]),[x,m]=_.useState([]),[g,y]=_.useState(0),[j,w]=_.useState(!1),[B,M]=_.useState(1e3),[R,z]=_.useState(!1),[H,F]=_.useState([]),[L,O]=_.useState(0),[V,Q]=_.useState(!1),[se,q]=_.useState([]),[J,G]=_.useState("random"),[K,ae]=_.useState(!1),[E,k]=_.useState(!1),[b,D]=_.useState({width:800,height:600}),[Y,U]=_.useState("graph"),N=()=>{if(i.current){const fe=i.current.getBoundingClientRect(),ye=40,Se=V?500:0,je=Math.min(800,window.innerHeight*.6),_e=je-Se,we=Math.max(600,fe.width-ye),ze=Math.max(300,_e);console.log("Calculating dimensions:",{showElbowMethod:V,elbowMethodHeight:Se,baseHeight:je,availableHeight:_e,newWidth:we,newHeight:ze}),D({width:we,height:ze})}};_.useEffect(()=>{const fe=()=>{N()};return N(),window.addEventListener("resize",fe),()=>window.removeEventListener("resize",fe)},[V]),_.useEffect(()=>{N()},[V]);const T={customer:{name:"Customer Segmentation",description:"Customer data with age and spending patterns - perfect for market segmentation",optimalK:4,features:["Age","Spending Score"],data:[{id:"1",x:25,y:85,originalCluster:0},{id:"2",x:22,y:90,originalCluster:0},{id:"3",x:28,y:88,originalCluster:0},{id:"4",x:24,y:92,originalCluster:0},{id:"5",x:26,y:87,originalCluster:0},{id:"6",x:23,y:89,originalCluster:0},{id:"7",x:27,y:91,originalCluster:0},{id:"8",x:25,y:86,originalCluster:0},{id:"9",x:24,y:15,originalCluster:1},{id:"10",x:26,y:12,originalCluster:1},{id:"11",x:23,y:18,originalCluster:1},{id:"12",x:25,y:14,originalCluster:1},{id:"13",x:27,y:16,originalCluster:1},{id:"14",x:22,y:13,originalCluster:1},{id:"15",x:24,y:17,originalCluster:1},{id:"16",x:26,y:11,originalCluster:1},{id:"17",x:45,y:88,originalCluster:2},{id:"18",x:48,y:85,originalCluster:2},{id:"19",x:42,y:90,originalCluster:2},{id:"20",x:46,y:87,originalCluster:2},{id:"21",x:44,y:89,originalCluster:2},{id:"22",x:47,y:86,originalCluster:2},{id:"23",x:43,y:91,originalCluster:2},{id:"24",x:45,y:88,originalCluster:2},{id:"25",x:44,y:16,originalCluster:3},{id:"26",x:46,y:13,originalCluster:3},{id:"27",x:43,y:18,originalCluster:3},{id:"28",x:45,y:14,originalCluster:3},{id:"29",x:47,y:16,originalCluster:3},{id:"30",x:42,y:12,originalCluster:3},{id:"31",x:44,y:17,originalCluster:3},{id:"32",x:46,y:15,originalCluster:3},{id:"33",x:65,y:25,originalCluster:4},{id:"34",x:68,y:22,originalCluster:4},{id:"35",x:62,y:28,originalCluster:4},{id:"36",x:66,y:24,originalCluster:4},{id:"37",x:64,y:26,originalCluster:4},{id:"38",x:67,y:23,originalCluster:4},{id:"39",x:63,y:27,originalCluster:4},{id:"40",x:65,y:25,originalCluster:4}]},iris:{name:"Iris Dataset (2D Projection)",description:"Classic machine learning dataset showing natural flower groupings",optimalK:3,features:["Petal Length","Petal Width"],data:[{id:"1",x:1.4,y:.2,originalCluster:0},{id:"2",x:1.4,y:.2,originalCluster:0},{id:"3",x:1.3,y:.2,originalCluster:0},{id:"4",x:1.5,y:.2,originalCluster:0},{id:"5",x:1.4,y:.2,originalCluster:0},{id:"6",x:1.7,y:.4,originalCluster:0},{id:"7",x:1.4,y:.3,originalCluster:0},{id:"8",x:1.5,y:.2,originalCluster:0},{id:"9",x:1.4,y:.2,originalCluster:0},{id:"10",x:1.5,y:.1,originalCluster:0},{id:"11",x:4.7,y:1.4,originalCluster:1},{id:"12",x:4.5,y:1.5,originalCluster:1},{id:"13",x:4.9,y:1.5,originalCluster:1},{id:"14",x:4,y:1.3,originalCluster:1},{id:"15",x:4.6,y:1.5,originalCluster:1},{id:"16",x:4.5,y:1.3,originalCluster:1},{id:"17",x:4.7,y:1.6,originalCluster:1},{id:"18",x:3.3,y:1,originalCluster:1},{id:"19",x:4.6,y:1.3,originalCluster:1},{id:"20",x:3.9,y:1.4,originalCluster:1},{id:"21",x:6,y:2.5,originalCluster:2},{id:"22",x:5.1,y:1.9,originalCluster:2},{id:"23",x:5.9,y:2.1,originalCluster:2},{id:"24",x:5.6,y:1.8,originalCluster:2},{id:"25",x:5.8,y:2.2,originalCluster:2},{id:"26",x:6.6,y:2.1,originalCluster:2},{id:"27",x:4.5,y:1.7,originalCluster:2},{id:"28",x:6.3,y:1.8,originalCluster:2},{id:"29",x:5.8,y:1.8,originalCluster:2},{id:"30",x:6.1,y:2.5,originalCluster:2}]},blobs:{name:"Synthetic Blobs",description:"Clearly separated clusters for learning the basics of K-Means",optimalK:3,features:["Feature 1","Feature 2"],data:[{id:"1",x:20,y:80,originalCluster:0},{id:"2",x:25,y:85,originalCluster:0},{id:"3",x:18,y:82,originalCluster:0},{id:"4",x:22,y:88,originalCluster:0},{id:"5",x:24,y:83,originalCluster:0},{id:"6",x:19,y:86,originalCluster:0},{id:"7",x:21,y:84,originalCluster:0},{id:"8",x:23,y:87,originalCluster:0},{id:"9",x:75,y:20,originalCluster:1},{id:"10",x:78,y:25,originalCluster:1},{id:"11",x:72,y:18,originalCluster:1},{id:"12",x:76,y:22,originalCluster:1},{id:"13",x:74,y:24,originalCluster:1},{id:"14",x:77,y:19,originalCluster:1},{id:"15",x:73,y:21,originalCluster:1},{id:"16",x:75,y:23,originalCluster:1},{id:"17",x:50,y:50,originalCluster:2},{id:"18",x:52,y:48,originalCluster:2},{id:"19",x:48,y:52,originalCluster:2},{id:"20",x:51,y:49,originalCluster:2},{id:"21",x:49,y:51,originalCluster:2},{id:"22",x:53,y:47,originalCluster:2},{id:"23",x:47,y:53,originalCluster:2},{id:"24",x:50,y:50,originalCluster:2}]},random:{name:"Randomized Data",description:"Randomly generated clusters with different shapes and separations",optimalK:3,features:["Feature 1","Feature 2"],data:[]}},C=["#ef4444","#22c55e","#3b82f6","#f59e0b","#8b5cf6","#06b6d4","#f97316","#ec4899"],I=()=>{const fe=[],ye=Math.floor(Math.random()*3)+2,Se=Math.floor(Math.random()*15)+8;for(let je=0;je<ye;je++){const _e=Math.random()*60+20,we=Math.random()*60+20,ze=Math.random()*15+5,me=Math.random()*15+5,be=Math.random()>.5,Le=Math.random()*Math.PI*2;for(let Ve=0;Ve<Se;Ve++){let it,Ot;if(be){const Dt=Math.random()*Math.PI*2,Be=Math.random()*Math.max(ze,me),nt=Be*Math.cos(Dt),gt=Be*Math.sin(Dt)*(me/ze);it=_e+nt*Math.cos(Le)-gt*Math.sin(Le),Ot=we+nt*Math.sin(Le)+gt*Math.cos(Le)}else{const Dt=Math.random()*Math.PI*2,Be=Math.random()*Math.min(ze,me);it=_e+Be*Math.cos(Dt),Ot=we+Be*Math.sin(Dt)}it+=(Math.random()-.5)*3,Ot+=(Math.random()-.5)*3,it=Math.max(5,Math.min(95,it)),Ot=Math.max(5,Math.min(95,Ot)),fe.push({id:`random_${je}_${Ve}`,x:it,y:Ot,originalCluster:je})}}return fe},P=()=>{if(r==="random"){const fe=I();T.random.data=fe;const ye=new Set(fe.map(Se=>Se.originalCluster)).size;T.random.optimalK=ye,Ce()}},X=(fe,ye=8)=>{if(fe.length===0){console.log("No data points available for elbow method calculation");return}console.log("Starting elbow method calculation...");const Se=[];for(let je=1;je<=ye;je++){console.log(`Calculating for K=${je}`);let _e;J==="kmeans++"?_e=ee(fe,je):_e=te(fe,je);let we=[...fe],ze=[..._e],me=0;const be=50;for(;me<be;){const Ve=pe(we,ze),it=ge(Ve,ze);if(ve(ze,it,.01))break;we=Ve,ze=it,me++}const Le=xe(we,ze);Se.push({k:je,wcss:Le})}console.log("Elbow method calculation complete:",Se),q(Se),U("elbow")},A=(fe,ye,Se)=>{if(!K)return;p(ze=>ze.map(me=>me.id===fe?{...me,x:ye,y:Se}:me));const je=f.map(ze=>ze.id===fe?{...ze,x:ye,y:Se}:ze),_e=pe(x,je);m(_e);const we=xe(_e,je);O(we)},te=(fe,ye)=>{const Se=[],je=[...fe].sort(()=>.5-Math.random());for(let _e=0;_e<ye;_e++){const we=je[_e];Se.push({id:`centroid_${_e}`,x:we.x,y:we.y,cluster:_e,color:C[_e%C.length]})}return Se},ee=(fe,ye)=>{const Se=[],je=Math.floor(Math.random()*fe.length);Se.push({id:"centroid_0",x:fe[je].x,y:fe[je].y,cluster:0,color:C[0]});for(let _e=1;_e<ye;_e++){const we=[];fe.forEach(be=>{let Le=1/0;Se.forEach(Ve=>{const it=de(be,Ve);Le=Math.min(Le,it)}),we.push(Le*Le)});const ze=we.reduce((be,Le)=>be+Le,0);let me=Math.random()*ze;for(let be=0;be<fe.length;be++)if(me-=we[be],me<=0){Se.push({id:`centroid_${_e}`,x:fe[be].x,y:fe[be].y,cluster:_e,color:C[_e%C.length]});break}}return Se},Z=(fe,ye)=>{const Se=[],je=st(fe,me=>me.x),_e=st(fe,me=>me.y),we=Math.ceil(Math.sqrt(ye)),ze=Math.ceil(ye/we);for(let me=0;me<ye;me++){const be=me%we,Le=Math.floor(me/we),Ve=je[0]+(je[1]-je[0])*(be+.5)/we,it=_e[0]+(_e[1]-_e[0])*(Le+.5)/ze;Se.push({id:`centroid_${me}`,x:Ve,y:it,cluster:me,color:C[me%C.length]})}return Se},de=(fe,ye)=>Math.sqrt(Math.pow(fe.x-ye.x,2)+Math.pow(fe.y-ye.y,2)),pe=(fe,ye)=>fe.map(Se=>{let je=1/0,_e=0;return ye.forEach(we=>{const ze=de(Se,we);ze<je&&(je=ze,_e=we.cluster)}),{...Se,cluster:_e,color:C[_e%C.length]}}),ge=(fe,ye)=>ye.map(Se=>{const je=fe.filter(ze=>ze.cluster===Se.cluster);if(je.length===0)return Se;const _e=je.reduce((ze,me)=>ze+me.x,0)/je.length,we=je.reduce((ze,me)=>ze+me.y,0)/je.length;return{...Se,previousX:Se.x,previousY:Se.y,x:_e,y:we}}),xe=(fe,ye)=>{let Se=0;return fe.forEach(je=>{const _e=ye.find(we=>we.cluster===je.cluster);if(_e){const we=de(je,_e);Se+=we*we}}),Se},ve=(fe,ye,Se=.1)=>fe.every((je,_e)=>{const we=ye[_e];return Math.sqrt(Math.pow(je.x-we.x,2)+Math.pow(je.y-we.y,2))<Se}),Me=()=>{j||(w(!0),setTimeout(()=>{const fe=pe(x,f),ye=ge(fe,f),Se=xe(fe,ye);m(fe),p(ye),y(je=>je+1),O(Se),F(je=>[...je,Se]),w(!1)},B))},Ce=()=>{let fe=T[r];if(r==="random"&&fe.data.length===0){const je=I();T.random.data=je;const _e=new Set(je.map(we=>we.originalCluster)).size;T.random.optimalK=_e,fe=T.random}let ye;J==="kmeans++"?ye=ee(fe.data,o):J==="manual"?ye=Z(fe.data,o):ye=te(fe.data,o);const Se=fe.data.map(je=>({...je,cluster:void 0,color:"#6b7280"}));m(Se),p(ye),y(0),F([]),O(0)},Re=()=>{if(x.length>0){let fe;J==="kmeans++"?fe=ee(x,o):J==="manual"?fe=Z(x,o):fe=te(x,o);const ye=x.map(Se=>({...Se,cluster:void 0,color:"#6b7280"}));m(ye),p(fe),y(0),F([]),O(0)}},Xe=async()=>{if(j)return;w(!0);let fe=[...x],ye=[...f],Se=0;const je=20;for(;Se<je;){const _e=pe(fe,ye),we=ge(_e,ye),ze=xe(_e,we);if(m(_e),p(we),y(Se+1),O(ze),F(me=>[...me,ze]),ve(ye,we))break;fe=_e,ye=we,Se++,await new Promise(me=>setTimeout(me,B))}w(!1)};return _.useEffect(()=>{Ce()},[r]),_.useEffect(()=>{if(x.length>0){let fe;J==="kmeans++"?fe=ee(x,o):J==="manual"?fe=Z(x,o):fe=te(x,o),p(fe),y(0),F([]),O(0)}},[o,J]),_.useEffect(()=>{if(!n.current||Y!=="graph")return;const fe=setTimeout(()=>{try{const ye=Ee(n.current);ye.selectAll("*").remove();const Se=b.width,je=b.height,_e={top:20,right:20,bottom:40,left:40},we=Se-_e.left-_e.right,ze=je-_e.top-_e.bottom,me=ye.attr("width",Se).attr("height",je).append("g").attr("transform",`translate(${_e.left},${_e.top})`),be=x.map(Ge=>Ge.x),Le=x.map(Ge=>Ge.y),Ve=f.map(Ge=>Ge.x),it=f.map(Ge=>Ge.y),Ot=[...be,...Ve],Dt=[...Le,...it],Be=st(Ot),nt=st(Dt);if(!Be[0]||!Be[1]||!nt[0]||!nt[1]){const Ge=[0,100],Vt=[0,100];Be[0]=Ge[0],Be[1]=Ge[1],nt[0]=Vt[0],nt[1]=Vt[1]}const gt=Be[1]-Be[0],_s=nt[1]-nt[0],Cs=Math.max(5,gt*.1),bn=Math.max(5,_s*.1),Xa=V?.1:1,Fa=Math.max(1,Cs*Xa),Xn=Math.max(1,bn*Xa),Zt=Ke().domain([Be[0]-Fa,Be[1]+Fa]).range([0,we]),Ws=Ke().domain([nt[0]-Xn,nt[1]+Xn]).range([ze,0]),ul=rt(Zt),fl=ct(Ws);if(me.append("g").attr("class","axis").attr("transform",`translate(0,${ze})`).call(ul).style("color","#64748b"),me.append("g").attr("class","axis").call(fl).style("color","#64748b"),R&&f.length>0){const Vt=yh.from(f.map(bt=>[Zt(bt.x),Ws(bt.y)])).voronoi([0,0,we,ze]);me.selectAll(".voronoi").data(f).enter().append("path").attr("class","voronoi").attr("d",(bt,mt)=>Vt.renderCell(mt)).style("fill","none").style("stroke",bt=>bt.color).style("stroke-width",1).style("stroke-dasharray","3,3").style("opacity",.5)}me.selectAll(".data-point").data(x).enter().append("circle").attr("class","data-point").attr("cx",Ge=>Zt(Ge.x)).attr("cy",Ge=>Ws(Ge.y)).attr("r",4).style("fill",Ge=>Ge.color||"#6b7280").style("stroke","#374151").style("stroke-width",1).style("opacity",.8);const Ka=me.selectAll(".centroid").data(f).enter().append("circle").attr("class","centroid").attr("cx",Ge=>Zt(Ge.x)).attr("cy",Ge=>Ws(Ge.y)).attr("r",8).style("fill",Ge=>Ge.color).style("stroke","#374151").style("stroke-width",3).style("opacity",.9).style("cursor",K?"grab":"default");if(K){const Ge=hh().on("start",function(Vt,bt){Ee(this).style("cursor","grabbing")}).on("drag",function(Vt,bt){const mt=Zt.invert(Vt.x),kt=Ws.invert(Vt.y);Ee(this).attr("cx",Vt.x).attr("cy",Vt.y),A(bt.id,mt,kt)}).on("end",function(Vt,bt){Ee(this).style("cursor","grab")});Ka.call(Ge)}me.selectAll(".centroid-label").data(f).enter().append("text").attr("class","centroid-label").attr("x",Ge=>Zt(Ge.x)).attr("y",Ge=>Ws(Ge.y)-15).attr("text-anchor","middle").style("font-size","12px").style("font-weight","bold").style("fill",Ge=>Ge.color).text(Ge=>`C${Ge.cluster+1}`);const Fn=T[r];me.append("text").attr("x",we/2).attr("y",ze+35).attr("text-anchor","middle").style("font-size","14px").style("fill","#374151").text(Fn.features[0]),me.append("text").attr("x",-ze/2).attr("y",-25).attr("text-anchor","middle").attr("transform","rotate(-90)").style("font-size","14px").style("fill","#374151").text(Fn.features[1])}catch(ye){console.error("Error rendering visualization:",ye)}},100);return()=>clearTimeout(fe)},[x,f,R,r,K,b,Y]),_.useEffect(()=>{if(console.log("Elbow method useEffect triggered:",{activeTab:Y,elbowDataLength:se.length}),Y!=="elbow"||se.length===0)return;const fe=document.getElementById("elbow-chart");if(!fe){console.log("Elbow chart container not found");return}console.log("Rendering elbow method chart..."),fe.innerHTML="",setTimeout(()=>{const je={top:20,right:30,bottom:40,left:50},we=Ee(fe).append("svg").attr("width",500).attr("height",300).append("g").attr("transform",`translate(${je.left},${je.top})`),ze=500-je.left-je.right,me=300-je.top-je.bottom,be=Ke().domain(st(se,Be=>Be.k)).range([0,ze]),Le=Ke().domain(st(se,Be=>Be.wcss)).range([me,0]),Ve=rs().x(Be=>be(Be.k)).y(Be=>Le(Be.wcss)).curve(rg);we.append("path").datum(se).attr("fill","none").attr("stroke","#3b82f6").attr("stroke-width",3).attr("d",Ve),we.selectAll(".elbow-point").data(se).enter().append("circle").attr("class","elbow-point").attr("cx",Be=>be(Be.k)).attr("cy",Be=>Le(Be.wcss)).attr("r",6).attr("fill","#3b82f6").attr("stroke","white").attr("stroke-width",2).style("cursor","pointer").on("mouseover",function(Be,nt){Ee(this).attr("r",8);const gt=we.append("g").attr("class","tooltip").style("opacity",0);gt.append("rect").attr("x",be(nt.k)-30).attr("y",Le(nt.wcss)-30).attr("width",60).attr("height",20).attr("fill","rgba(0,0,0,0.8)").attr("rx",4),gt.append("text").attr("x",be(nt.k)).attr("y",Le(nt.wcss)-15).attr("text-anchor","middle").attr("fill","white").attr("font-size","12px").text(`K=${nt.k}, WCSS=${nt.wcss.toFixed(1)}`),gt.transition().duration(200).style("opacity",1)}).on("mouseout",function(){Ee(this).attr("r",6),we.selectAll(".tooltip").remove()}),we.selectAll(".axis").remove(),we.selectAll(".axis-label").remove();const it=rt(be).tickValues(se.map(Be=>Be.k)).tickFormat(Ns("d")),Ot=ct(Le);we.append("g").attr("class","axis").attr("transform",`translate(0,${me})`).call(it).style("color","#64748b"),we.append("g").attr("class","axis").call(Ot).style("color","#64748b"),we.append("text").attr("class","axis-label").attr("x",ze/2).attr("y",me+35).attr("text-anchor","middle").style("font-size","14px").style("fill","#374151").text("Number of Clusters (K)"),we.append("text").attr("class","axis-label").attr("x",-me/2).attr("y",-35).attr("text-anchor","middle").attr("transform","rotate(-90)").style("font-size","14px").style("fill","#374151").text("WCSS (Within-Cluster Sum of Squares)");const Dt=se.find(Be=>Be.k===o);Dt&&we.append("circle").attr("cx",be(Dt.k)).attr("cy",Le(Dt.wcss)).attr("r",8).attr("fill","#ef4444").attr("stroke","white").attr("stroke-width",3)},50)},[se,Y,o]),e.jsx("div",{className:"kmeans-clustering fade-in",children:e.jsxs("div",{className:"container",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"K-Means Clustering Simulator"}),e.jsx("p",{className:"page-description",children:"Explore unsupervised learning through interactive K-Means clustering. Watch how the algorithm discovers natural groupings in your data by iteratively moving centroids and reassigning points."})]}),e.jsxs("div",{className:"simulation-layout",children:[e.jsxs("div",{className:"visualization-panel",children:[e.jsxs("div",{className:"visualization-header",style:{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",gap:"1rem",backgroundColor:"#f8fafc"},children:[e.jsx("h2",{className:"visualization-title",children:"Clustering Analysis"}),e.jsxs("div",{className:"tab-navigation",style:{display:"flex",gap:"0.5rem",justifyContent:"center",alignItems:"center"},children:[e.jsx("button",{className:`tab-button ${Y==="graph"?"active":""}`,onClick:()=>U("graph"),style:{backgroundColor:Y==="graph"?"#3b82f6":"white",color:Y==="graph"?"white":"#374151",border:Y==="graph"?"1px solid #3b82f6":"1px solid #d1d5db",fontWeight:Y==="graph"?"600":"500"},children:"Clustering Visualization"}),e.jsx("button",{className:`tab-button ${Y==="elbow"?"active":""}`,onClick:()=>U("elbow"),style:{backgroundColor:Y==="elbow"?"#3b82f6":"white",color:Y==="elbow"?"white":"#374151",border:Y==="elbow"?"1px solid #3b82f6":"1px solid #d1d5db",fontWeight:Y==="elbow"?"600":"500"},children:"Elbow Method Analysis"})]}),e.jsxs("div",{className:"clustering-stats",style:{display:"flex",gap:"1rem",justifyContent:"center",alignItems:"center",flexWrap:"wrap"},children:[e.jsxs("span",{className:"stat",children:["Iterations: ",g]}),e.jsxs("span",{className:"stat",children:["WCSS: ",L.toFixed(2)]}),e.jsxs("span",{className:"stat",children:["Points: ",x.length]})]})]}),e.jsxs("div",{className:"visualization-container",ref:i,children:[Y==="graph"&&e.jsx(e.Fragment,{children:e.jsx("svg",{ref:n,className:"clustering-svg"},`graph-${Y}-${x.length}`)}),Y==="elbow"&&e.jsxs("div",{className:"elbow-method-container",children:[e.jsx("h3",{className:"elbow-title",children:"Elbow Method Analysis"}),e.jsx("div",{className:"elbow-chart",id:"elbow-chart"},`elbow-chart-${se.length}-${o}`),e.jsxs("div",{className:"elbow-explanation",children:[e.jsx("p",{children:e.jsx("strong",{children:"How to read this chart:"})}),e.jsxs("ul",{children:[e.jsx("li",{children:'Look for the "elbow" point where the line starts to flatten'}),e.jsx("li",{children:"This indicates the optimal number of clusters (K)"}),e.jsx("li",{children:"After the elbow, adding more clusters doesn't significantly reduce WCSS"})]})]})]})]}),e.jsx("div",{className:"algorithm-controls-section",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Algorithm Controls"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"algorithm-controls",children:[e.jsx("button",{onClick:Me,className:"btn btn-primary",disabled:j,children:j?"Running...":"Run One Iteration"}),e.jsx("button",{onClick:Xe,className:"btn btn-secondary",disabled:j,children:j?"Running...":"Run Until Convergence"}),e.jsx("button",{onClick:Re,className:"btn btn-outline",disabled:j,children:"Reset Algorithm"}),e.jsx("button",{onClick:()=>X(x),className:"btn btn-outline",disabled:j,children:"Calculate Elbow Method"})]})})]})})]}),e.jsxs("div",{className:"controls-panel",children:[e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Dataset Selection"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"dataset-controls",children:[e.jsx("label",{className:"label",children:"Choose Dataset"}),e.jsxs("select",{value:r,onChange:fe=>c(fe.target.value),className:"input",children:[e.jsx("option",{value:"customer",children:"Customer Segmentation"}),e.jsx("option",{value:"iris",children:"Iris Dataset"}),e.jsx("option",{value:"blobs",children:"Synthetic Blobs"}),e.jsx("option",{value:"random",children:"Randomized Data"})]}),e.jsx("p",{className:"dataset-description",children:T[r]?.description}),r==="random"&&e.jsx("button",{onClick:P,className:"btn btn-outline btn-sm",disabled:j,children:"Generate New Random Data"})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Algorithm Parameters"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"parameter-controls",children:[e.jsxs("div",{className:"input-group",children:[e.jsx("label",{className:"label",children:"Number of Clusters (K)"}),e.jsx("input",{type:"range",min:"2",max:"6",value:o,onChange:fe=>h(parseInt(fe.target.value)),className:"slider"}),e.jsx("span",{className:"value-display",children:o}),e.jsxs("small",{className:"parameter-help",children:["Optimal K for this dataset: ",T[r]?.optimalK]})]}),e.jsxs("div",{className:"input-group",children:[e.jsx("label",{className:"label",children:"Animation Speed"}),e.jsx("input",{type:"range",min:"200",max:"2000",step:"100",value:B,onChange:fe=>M(parseInt(fe.target.value)),className:"slider"}),e.jsxs("span",{className:"value-display",children:[B,"ms"]})]}),e.jsxs("div",{className:"input-group",children:[e.jsx("label",{className:"label",children:"Initialization Method"}),e.jsxs("select",{value:J,onChange:fe=>{const ye=fe.target.value;G(ye),ae(ye==="manual")},className:"input",children:[e.jsx("option",{value:"random",children:"Random"}),e.jsx("option",{value:"kmeans++",children:"K-means++"}),e.jsx("option",{value:"manual",children:"Manual (Drag & Drop)"})]}),e.jsx("small",{className:"parameter-help",children:J==="random"?"Random centroid placement":J==="kmeans++"?"Smart initialization for better results":"Drag centroids to manually position them"})]}),e.jsxs("div",{className:"checkbox-group",children:[e.jsxs("label",{className:"control-label",children:[e.jsx("input",{type:"checkbox",checked:R,onChange:fe=>z(fe.target.checked)}),"Show Voronoi Diagram"]}),e.jsxs("label",{className:"control-label",children:[e.jsx("input",{type:"checkbox",checked:V,onChange:fe=>Q(fe.target.checked)}),"Show Elbow Method"]}),!E&&e.jsx("label",{className:"control-label show-tips-control",children:e.jsx("button",{className:"show-tips-btn-inline",onClick:()=>k(!0),title:"Show tips",children:"Show Tips"})})]})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Performance Metrics"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"metrics-display",children:[e.jsxs("div",{className:"metric-item",children:[e.jsx("span",{className:"metric-label",children:"Current WCSS:"}),e.jsx("span",{className:"metric-value",children:L.toFixed(2)})]}),e.jsxs("div",{className:"metric-item",children:[e.jsx("span",{className:"metric-label",children:"Iterations:"}),e.jsx("span",{className:"metric-value",children:g})]}),e.jsxs("div",{className:"metric-item",children:[e.jsx("span",{className:"metric-label",children:"Convergence:"}),e.jsx("span",{className:"metric-value",children:H.length>1&&Math.abs(H[H.length-1]-H[H.length-2])<.1?"Yes":"No"})]})]})})]})]})]}),e.jsx("div",{className:"explanation-section",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Understanding K-Means Clustering"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"explanation-content",children:[e.jsx("h4",{children:"How K-Means Works"}),e.jsxs("div",{className:"algorithm-steps",children:[e.jsxs("div",{className:"step",children:[e.jsx("div",{className:"step-number",children:"1"}),e.jsxs("div",{className:"step-content",children:[e.jsx("strong",{children:"Initialize:"})," Randomly place K centroids in the data space",e.jsx("div",{className:"step-detail",children:"The algorithm starts by placing K centroids at random positions. The number K must be specified beforehand. Different initialization methods (Random, K-Means++) can affect the final results."})]})]}),e.jsxs("div",{className:"step",children:[e.jsx("div",{className:"step-number",children:"2"}),e.jsxs("div",{className:"step-content",children:[e.jsx("strong",{children:"Assign:"})," Assign each data point to the nearest centroid",e.jsx("div",{className:"step-detail",children:"For each data point, calculate the Euclidean distance to all centroids and assign it to the closest one. This creates the initial clusters based on proximity."})]})]}),e.jsxs("div",{className:"step",children:[e.jsx("div",{className:"step-number",children:"3"}),e.jsxs("div",{className:"step-content",children:[e.jsx("strong",{children:"Update:"})," Move each centroid to the center of its assigned points",e.jsx("div",{className:"step-detail",children:"Calculate the mean position of all points assigned to each centroid and move the centroid there. This step optimizes the centroid positions to better represent their clusters."})]})]}),e.jsxs("div",{className:"step",children:[e.jsx("div",{className:"step-number",children:"4"}),e.jsxs("div",{className:"step-content",children:[e.jsx("strong",{children:"Repeat:"})," Continue until centroids stop moving significantly",e.jsx("div",{className:"step-detail",children:"The algorithm repeats steps 2 and 3 until convergence. Convergence occurs when centroids move less than a threshold distance or after a maximum number of iterations."})]})]})]}),e.jsx("h4",{children:"Key Concepts"}),e.jsxs("div",{className:"concepts-grid",children:[e.jsxs("div",{className:"concept-item",children:[e.jsx("h5",{children:"Centroids"}),e.jsx("p",{children:'The center points of each cluster. They represent the "average" position of all points in that cluster and are updated iteratively to minimize the total distance to their assigned points.'})]}),e.jsxs("div",{className:"concept-item",children:[e.jsx("h5",{children:"WCSS (Within-Cluster Sum of Squares)"}),e.jsx("p",{children:"A measure of cluster quality that calculates the sum of squared distances from each point to its cluster centroid. Lower WCSS indicates tighter, more cohesive clusters."})]}),e.jsxs("div",{className:"concept-item",children:[e.jsx("h5",{children:"Convergence"}),e.jsx("p",{children:"The algorithm stops when centroids stop moving significantly between iterations. This indicates the clusters have stabilized and further iterations won't improve the results."})]}),e.jsxs("div",{className:"concept-item",children:[e.jsx("h5",{children:"K Value"}),e.jsx("p",{children:"The number of clusters to find, which must be specified beforehand. Choosing the right K is crucial - too few clusters may miss important patterns, while too many may over-segment the data."})]})]}),e.jsx("h4",{children:"Real-World Applications"}),e.jsxs("div",{className:"applications-grid",children:[e.jsxs("div",{className:"application-item",children:[e.jsx("h5",{children:"Customer Segmentation"}),e.jsx("p",{children:"Group customers by purchasing behavior, demographics, and preferences to create targeted marketing campaigns and personalized experiences."})]}),e.jsxs("div",{className:"application-item",children:[e.jsx("h5",{children:"Image Compression"}),e.jsx("p",{children:"Reduce image file sizes by clustering similar pixel colors and replacing them with representative colors, maintaining visual quality while reducing storage."})]}),e.jsxs("div",{className:"application-item",children:[e.jsx("h5",{children:"Gene Expression Analysis"}),e.jsx("p",{children:"Identify groups of genes that are co-expressed or have similar functions, helping researchers understand biological processes and disease mechanisms."})]}),e.jsxs("div",{className:"application-item",children:[e.jsx("h5",{children:"Document Clustering"}),e.jsx("p",{children:"Organize large collections of documents by topic similarity, enabling better search, recommendation systems, and content management."})]}),e.jsxs("div",{className:"application-item",children:[e.jsx("h5",{children:"Market Research"}),e.jsx("p",{children:"Identify distinct market segments based on consumer behavior, preferences, and demographics to inform product development and marketing strategies."})]}),e.jsxs("div",{className:"application-item",children:[e.jsx("h5",{children:"Medical Diagnosis"}),e.jsx("p",{children:"Group patients with similar symptoms or genetic profiles to identify disease subtypes and develop personalized treatment plans."})]})]}),e.jsx("h4",{children:"Algorithm Limitations & Best Practices"}),e.jsxs("div",{className:"limitations-grid",children:[e.jsxs("div",{className:"limitation-item",children:[e.jsx("h5",{children:"Limitations"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Spherical Clusters:"})," Works best with circular/spherical clusters"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Fixed K:"})," Requires knowing the number of clusters beforehand"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Local Optima:"})," May get stuck in suboptimal solutions"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Outliers:"})," Sensitive to outliers and noise"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Scale Dependent:"})," Features must be on similar scales"]})]})]}),e.jsxs("div",{className:"limitation-item",children:[e.jsx("h5",{children:"Best Practices"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Normalize Data:"})," Scale features to similar ranges"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Multiple Runs:"})," Run algorithm several times with different initializations"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Elbow Method:"})," Use WCSS plots to find optimal K"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"K-Means++:"})," Use better initialization to avoid poor local optima"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Preprocessing:"})," Handle outliers and missing data appropriately"]})]})]})]}),e.jsx("h4",{children:"Understanding the Randomized Dataset"}),e.jsx("p",{children:`The randomized dataset feature allows you to explore how K-Means performs on different data distributions. Each time you click "Generate New Random Data," you'll get:`}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Variable Cluster Count:"})," 2-4 clusters with different numbers of points"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Different Shapes:"})," Both circular and elliptical clusters with random orientations"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Varying Separation:"})," Some clusters may overlap, others may be well-separated"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Random Noise:"})," Points have slight random variations to simulate real-world data"]})]}),e.jsx("p",{children:"This helps you understand how K-Means handles different challenges like non-spherical clusters, varying cluster sizes, and overlapping data - common issues in real-world applications."})]})})]})}),r==="customer"&&e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Customer Segmentation Dataset - Feature Analysis"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"feature-analysis",children:[e.jsx("h4",{children:"Dataset Features Explained"}),e.jsxs("div",{className:"features-grid",children:[e.jsxs("div",{className:"feature-item",children:[e.jsxs("div",{className:"feature-header",children:[e.jsx("span",{className:"feature-name",children:"Age"}),e.jsx("span",{className:"feature-range",children:"22-78 years"})]}),e.jsx("p",{className:"feature-description",children:"The age of the customer. This feature helps identify different life stages and spending patterns that vary significantly across age groups."}),e.jsxs("div",{className:"feature-insights",children:[e.jsx("strong",{children:"Key Insights:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Young customers (22-35) often have different spending priorities"}),e.jsx("li",{children:"Middle-aged customers (35-55) may have more stable spending patterns"}),e.jsx("li",{children:"Senior customers (55+) tend to be more conservative with spending"}),e.jsx("li",{children:"Age often correlates with income level and financial responsibilities"})]})]})]}),e.jsxs("div",{className:"feature-item",children:[e.jsxs("div",{className:"feature-header",children:[e.jsx("span",{className:"feature-name",children:"Spending Score"}),e.jsx("span",{className:"feature-range",children:"11-92 points"})]}),e.jsx("p",{className:"feature-description",children:"A normalized score (0-100) representing how much a customer spends relative to their income and typical spending patterns. Higher scores indicate higher spending."}),e.jsxs("div",{className:"feature-insights",children:[e.jsx("strong",{children:"Key Insights:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"High scores (80-92): Premium customers who spend freely"}),e.jsx("li",{children:"Medium scores (40-70): Moderate spenders with balanced budgets"}),e.jsx("li",{children:"Low scores (11-30): Conservative spenders or budget-conscious customers"}),e.jsx("li",{children:"Combined with age, reveals spending behavior patterns"})]})]})]})]}),e.jsxs("div",{className:"clustering-insights",children:[e.jsx("h4",{children:"How K-Means Discovers Customer Segments"}),e.jsxs("div",{className:"insights-grid",children:[e.jsxs("div",{className:"insight-item",children:[e.jsx("h5",{children:"Young High Spenders (Cluster 1)"}),e.jsx("p",{children:"Young customers (22-28) with high spending scores (85-92). These are typically early-career professionals or young adults with disposable income who enjoy premium products and experiences."})]}),e.jsxs("div",{className:"insight-item",children:[e.jsx("h5",{children:"Young Conservative (Cluster 2)"}),e.jsx("p",{children:"Young customers (22-28) with low spending scores (11-18). These might be students, early-career individuals, or those saving for major purchases like homes or education."})]}),e.jsxs("div",{className:"insight-item",children:[e.jsx("h5",{children:"Middle-aged Affluent (Cluster 3)"}),e.jsx("p",{children:"Middle-aged customers (42-48) with high spending scores (85-91). These are typically established professionals with stable incomes who can afford premium products."})]}),e.jsxs("div",{className:"insight-item",children:[e.jsx("h5",{children:"Middle-aged Practical (Cluster 4)"}),e.jsx("p",{children:"Middle-aged customers (42-48) with low spending scores (12-18). These customers prioritize practical purchases and may be focused on family expenses or long-term savings."})]}),e.jsxs("div",{className:"insight-item",children:[e.jsx("h5",{children:"Senior Conservative (Cluster 5)"}),e.jsx("p",{children:"Senior customers (62-68) with moderate spending scores (22-28). These customers are typically retired or near retirement, focusing on value and practical purchases."})]})]})]}),e.jsxs("div",{className:"business-applications",children:[e.jsx("h4",{children:"Business Applications of Customer Segmentation"}),e.jsxs("div",{className:"applications-grid",children:[e.jsxs("div",{className:"application-item",children:[e.jsx("h5",{children:"Targeted Marketing"}),e.jsx("p",{children:"Send different promotional campaigns to each segment. Young high spenders might receive premium product ads, while conservative customers get value-focused messaging."})]}),e.jsxs("div",{className:"application-item",children:[e.jsx("h5",{children:"Product Recommendations"}),e.jsx("p",{children:"Recommend products based on segment characteristics. High spenders get premium options, while conservative customers see budget-friendly alternatives."})]}),e.jsxs("div",{className:"application-item",children:[e.jsx("h5",{children:"Pricing Strategies"}),e.jsx("p",{children:"Develop segment-specific pricing. High spenders might pay premium prices, while conservative customers get discounts and value bundles."})]}),e.jsxs("div",{className:"application-item",children:[e.jsx("h5",{children:"Inventory Management"}),e.jsx("p",{children:"Stock products based on segment preferences. High-spending segments get premium inventory, while conservative segments get value products."})]})]})]}),e.jsxs("div",{className:"algorithm-behavior",children:[e.jsx("h4",{children:"How K-Means Identifies These Segments"}),e.jsxs("div",{className:"process-steps",children:[e.jsxs("div",{className:"process-step",children:[e.jsx("div",{className:"step-number",children:"1"}),e.jsxs("div",{className:"step-content",children:[e.jsx("strong",{children:"Distance Calculation"}),e.jsx("p",{children:"K-Means calculates Euclidean distance between each customer and cluster centroids using both Age and Spending Score dimensions."})]})]}),e.jsxs("div",{className:"process-step",children:[e.jsx("div",{className:"step-number",children:"2"}),e.jsxs("div",{className:"step-content",children:[e.jsx("strong",{children:"Cluster Assignment"}),e.jsx("p",{children:"Each customer is assigned to the nearest centroid, creating natural groupings based on similar age and spending patterns."})]})]}),e.jsxs("div",{className:"process-step",children:[e.jsx("div",{className:"step-number",children:"3"}),e.jsxs("div",{className:"step-content",children:[e.jsx("strong",{children:"Centroid Updates"}),e.jsx("p",{children:"Centroids move to the center of their assigned customers, refining the cluster boundaries to better represent each segment."})]})]}),e.jsxs("div",{className:"process-step",children:[e.jsx("div",{className:"step-number",children:"4"}),e.jsxs("div",{className:"step-content",children:[e.jsx("strong",{children:"Convergence"}),e.jsx("p",{children:"The algorithm stops when centroids stop moving significantly, resulting in stable customer segments that can be used for business decisions."})]})]})]})]})]})})]}),e.jsx("section",{className:"copyright-section",children:e.jsx("div",{className:"copyright-notice",children:e.jsx("p",{children:"© 2025, Todd Brous. All rights reserved."})})})]})})},qw=()=>{const n=_.useRef(null),[i,r]=_.useState("housing"),[c,o]=_.useState(.01),[h,f]=_.useState(100),[p,x]=_.useState(0),[m,g]=_.useState(!1),[y,j]=_.useState(null),w={housing:{name:"Housing Prices",description:"House size vs price relationship with realistic market data",xLabel:"Size (sq ft)",yLabel:"Price ($)",color:"#3b82f6",data:[{x:1200,y:25e4,id:"1"},{x:1500,y:32e4,id:"2"},{x:1800,y:38e4,id:"3"},{x:2e3,y:42e4,id:"4"},{x:2200,y:45e4,id:"5"},{x:1600,y:35e4,id:"6"},{x:1900,y:4e5,id:"7"},{x:2100,y:43e4,id:"8"},{x:1400,y:3e5,id:"9"},{x:1700,y:37e4,id:"10"},{x:2300,y:48e4,id:"11"},{x:1300,y:28e4,id:"12"},{x:2e3,y:41e4,id:"13"},{x:1800,y:39e4,id:"14"},{x:1500,y:33e4,id:"15"},{x:2500,y:52e4,id:"16"},{x:1100,y:24e4,id:"17"},{x:2400,y:5e5,id:"18"},{x:1650,y:36e4,id:"19"},{x:1950,y:405e3,id:"20"}]},stock:{name:"Stock Analysis",description:"Company revenue vs stock price correlation",xLabel:"Revenue (M$)",yLabel:"Stock Price ($)",color:"#10b981",data:[{x:100,y:25,id:"1"},{x:150,y:35,id:"2"},{x:200,y:45,id:"3"},{x:250,y:55,id:"4"},{x:300,y:65,id:"5"},{x:120,y:28,id:"6"},{x:180,y:42,id:"7"},{x:220,y:48,id:"8"},{x:280,y:58,id:"9"},{x:320,y:68,id:"10"},{x:90,y:22,id:"11"},{x:160,y:38,id:"12"},{x:210,y:46,id:"13"},{x:270,y:56,id:"14"},{x:310,y:66,id:"15"},{x:350,y:75,id:"16"},{x:80,y:20,id:"17"},{x:190,y:40,id:"18"},{x:240,y:52,id:"19"},{x:290,y:62,id:"20"}]},temperature:{name:"Temperature vs Ice Cream",description:"Temperature correlation with ice cream sales",xLabel:"Temperature (°F)",yLabel:"Sales ($)",color:"#f59e0b",data:[{x:65,y:120,id:"1"},{x:70,y:150,id:"2"},{x:75,y:180,id:"3"},{x:80,y:220,id:"4"},{x:85,y:260,id:"5"},{x:68,y:135,id:"6"},{x:72,y:165,id:"7"},{x:78,y:195,id:"8"},{x:82,y:235,id:"9"},{x:87,y:275,id:"10"},{x:63,y:110,id:"11"},{x:77,y:185,id:"12"},{x:83,y:245,id:"13"},{x:88,y:285,id:"14"},{x:71,y:160,id:"15"},{x:90,y:300,id:"16"},{x:62,y:105,id:"17"},{x:76,y:175,id:"18"},{x:84,y:250,id:"19"},{x:89,y:290,id:"20"}]}},B=(M,R,z,H)=>{let F=0,L=0;const O=M.length,V=M.map(N=>N.x),Q=M.map(N=>N.y),se=V.reduce((N,T)=>N+T,0)/O,q=Q.reduce((N,T)=>N+T,0)/O,J=Math.sqrt(V.reduce((N,T)=>N+Math.pow(T-se,2),0)/O),G=Math.sqrt(Q.reduce((N,T)=>N+Math.pow(T-q,2),0)/O),K=M.map(N=>({x:(N.x-se)/J,y:(N.y-q)/G}));for(let N=0;N<z;N++){let T=0,C=0;K.forEach(I=>{const X=F*I.x+L-I.y;T+=X*I.x,C+=X}),T/=O,C/=O,T+=H*F,C+=H*L,F-=R*T,L-=R*C}const ae=F*(G/J),E=q-ae*se,k=M.map(N=>ae*N.x+E),b=M.map((N,T)=>N.y-k[T]),D=b.reduce((N,T)=>N+T*T,0),Y=Q.reduce((N,T)=>N+Math.pow(T-q,2),0),U=1-D/Y;return{slope:ae,intercept:E,rSquared:U,residuals:b,predictions:k}};return _.useEffect(()=>{const M=w[i];if(M){console.log("Performing linear regression:",{dataset:i,learningRate:c,iterations:h,regularization:p,dataPoints:M.data.length});const R=B(M.data,c,h,p);j(R),console.log("Regression completed:",{slope:R.slope,intercept:R.intercept,rSquared:R.rSquared})}},[i,c,h,p]),_.useEffect(()=>{if(!y||!n.current)return;const M=Ee(n.current);M.selectAll("*").remove();const R=w[i],z=700,H=450,F={top:40,right:40,bottom:60,left:60};M.attr("width",z).attr("height",H).style("border","1px solid #e5e7eb").style("border-radius","8px").style("background","white");const L=st(R.data,E=>E.x),O=st(R.data,E=>E.y),V=Ke().domain(L).range([F.left,z-F.right]),Q=Ke().domain(O).range([H-F.bottom,F.top]),se=rt(V).tickFormat(Ns(".0f")),q=ct(Q).tickFormat(Ns(".0f"));M.append("g").attr("transform",`translate(0, ${H-F.bottom})`).call(se).selectAll("text").style("font-size","12px").style("fill","#6b7280"),M.append("g").attr("transform",`translate(${F.left}, 0)`).call(q).selectAll("text").style("font-size","12px").style("fill","#6b7280"),M.append("text").attr("x",z/2).attr("y",H-10).attr("text-anchor","middle").style("font-size","14px").style("font-weight","600").style("fill","#374151").text(R.xLabel),M.append("text").attr("x",15).attr("y",H/2).attr("text-anchor","middle").attr("transform","rotate(-90, 15, "+H/2+")").style("font-size","14px").style("font-weight","600").style("fill","#374151").text(R.yLabel);const J=rs().x(E=>V(E.x)).y(E=>Q(E.y)),G=[{x:L[0],y:y.slope*L[0]+y.intercept},{x:L[1],y:y.slope*L[1]+y.intercept}];M.append("path").datum(G).attr("d",J).style("fill","none").style("stroke","#ef4444").style("stroke-width","3px").style("stroke-dasharray","5,5"),M.selectAll(".data-point").data(R.data).enter().append("circle").attr("class","data-point").attr("cx",E=>V(E.x)).attr("cy",E=>Q(E.y)).attr("r",6).style("fill",R.color).style("stroke","#ffffff").style("stroke-width","2px").style("cursor","pointer").on("mouseover",function(E,k){Ee(this).transition().duration(200).attr("r",8);const b=M.append("g").attr("class","tooltip").style("pointer-events","none");b.append("rect").attr("x",V(k.x)-30).attr("y",Q(k.y)-25).attr("width",60).attr("height",20).attr("rx",4).style("fill","#1f2937").style("opacity",.9),b.append("text").attr("x",V(k.x)).attr("y",Q(k.y)-12).attr("text-anchor","middle").style("font-size","11px").style("fill","white").text(`(${k.x}, ${k.y})`)}).on("mouseout",function(){Ee(this).transition().duration(200).attr("r",6),M.selectAll(".tooltip").remove()}),m&&R.data.forEach((E,k)=>{const b=y.predictions[k];M.append("line").attr("x1",V(E.x)).attr("y1",Q(E.y)).attr("x2",V(E.x)).attr("y2",Q(b)).style("stroke","#f59e0b").style("stroke-width","2px").style("opacity",.7)});const K=`y = ${y.slope.toFixed(2)}x + ${y.intercept.toFixed(2)}`,ae=`R² = ${y.rSquared.toFixed(3)}`;M.append("text").attr("x",z-F.right-10).attr("y",F.top+20).attr("text-anchor","end").style("font-size","14px").style("font-weight","600").style("fill","#374151").text(K),M.append("text").attr("x",z-F.right-10).attr("y",F.top+40).attr("text-anchor","end").style("font-size","14px").style("font-weight","600").style("fill","#374151").text(ae)},[y,i,m]),e.jsx("div",{className:"linear-regression fade-in",children:e.jsxs("div",{className:"container",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Linear Regression Visualizer"}),e.jsx("p",{className:"page-description",children:"Explore linear relationships in data through interactive regression analysis. See how the algorithm finds the best-fit line and understand the mathematics behind it."})]}),e.jsxs("div",{className:"simulation-layout",children:[e.jsxs("div",{className:"visualization-panel",children:[e.jsxs("div",{className:"visualization-header",children:[e.jsx("h2",{className:"visualization-title",children:"Regression Analysis"}),e.jsx("div",{className:"regression-stats",children:y&&e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"stat",children:["R²: ",y.rSquared.toFixed(3)]}),e.jsxs("span",{className:"stat",children:["Slope: ",y.slope.toFixed(2)]}),e.jsxs("span",{className:"stat",children:["Intercept: ",y.intercept.toFixed(2)]})]})})]}),e.jsx("div",{className:"visualization-container",children:e.jsx("svg",{ref:n,className:"regression-svg"})})]}),e.jsxs("div",{className:"controls-panel",children:[e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Dataset Selection"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"dataset-controls",children:[e.jsx("label",{className:"label",children:"Choose Dataset"}),e.jsxs("select",{value:i,onChange:M=>r(M.target.value),className:"input",children:[e.jsx("option",{value:"housing",children:"Housing Prices"}),e.jsx("option",{value:"stock",children:"Stock Analysis"}),e.jsx("option",{value:"temperature",children:"Temperature vs Ice Cream"})]}),e.jsx("p",{className:"dataset-description",children:w[i]?.description})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Algorithm Parameters"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"parameter-controls",children:[e.jsxs("div",{className:"input-group",children:[e.jsx("label",{className:"label",children:"Learning Rate"}),e.jsx("input",{type:"range",min:"0.001",max:"0.1",step:"0.001",value:c,onChange:M=>o(parseFloat(M.target.value)),className:"slider"}),e.jsx("span",{className:"value-display",children:c.toFixed(3)}),e.jsx("small",{className:"parameter-help",children:"Controls how fast the algorithm learns"})]}),e.jsxs("div",{className:"input-group",children:[e.jsx("label",{className:"label",children:"Iterations"}),e.jsx("input",{type:"range",min:"10",max:"1000",step:"10",value:h,onChange:M=>f(parseInt(M.target.value)),className:"slider"}),e.jsx("span",{className:"value-display",children:h}),e.jsx("small",{className:"parameter-help",children:"Number of training iterations"})]}),e.jsxs("div",{className:"input-group",children:[e.jsx("label",{className:"label",children:"Regularization"}),e.jsx("input",{type:"range",min:"0",max:"0.1",step:"0.001",value:p,onChange:M=>x(parseFloat(M.target.value)),className:"slider"}),e.jsx("span",{className:"value-display",children:p.toFixed(3)}),e.jsx("small",{className:"parameter-help",children:"Prevents overfitting (0 = no regularization)"})]})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Visualization Options"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"visualization-controls",children:[e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:m,onChange:M=>g(M.target.checked)}),e.jsx("span",{className:"checkmark"}),"Show Residuals"]}),e.jsx("small",{className:"control-help",children:"Display vertical lines showing prediction errors"})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Model Performance"})}),e.jsx("div",{className:"card-body",children:y&&e.jsxs("div",{className:"performance-metrics",children:[e.jsxs("div",{className:"metric",children:[e.jsx("span",{className:"metric-label",children:"R-squared:"}),e.jsx("span",{className:"metric-value",children:y.rSquared.toFixed(3)}),e.jsx("div",{className:"metric-bar",children:e.jsx("div",{className:"metric-fill",style:{width:`${y.rSquared*100}%`}})})]}),e.jsxs("div",{className:"metric",children:[e.jsx("span",{className:"metric-label",children:"Mean Absolute Error:"}),e.jsx("span",{className:"metric-value",children:(y.residuals.reduce((M,R)=>M+Math.abs(R),0)/y.residuals.length).toFixed(2)})]}),e.jsxs("div",{className:"metric",children:[e.jsx("span",{className:"metric-label",children:"Root Mean Square Error:"}),e.jsx("span",{className:"metric-value",children:Math.sqrt(y.residuals.reduce((M,R)=>M+R*R,0)/y.residuals.length).toFixed(2)})]})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"How It Works"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"explanation-steps",children:[e.jsxs("div",{className:"step",children:[e.jsx("div",{className:"step-number",children:"1"}),e.jsxs("div",{className:"step-content",children:[e.jsx("strong",{children:"Start with random line"}),e.jsx("p",{children:"Begin with random slope and intercept values"})]})]}),e.jsxs("div",{className:"step",children:[e.jsx("div",{className:"step-number",children:"2"}),e.jsxs("div",{className:"step-content",children:[e.jsx("strong",{children:"Calculate errors"}),e.jsx("p",{children:"Measure how far predictions are from actual values"})]})]}),e.jsxs("div",{className:"step",children:[e.jsx("div",{className:"step-number",children:"3"}),e.jsxs("div",{className:"step-content",children:[e.jsx("strong",{children:"Update parameters"}),e.jsx("p",{children:"Adjust slope and intercept to reduce errors"})]})]}),e.jsxs("div",{className:"step",children:[e.jsx("div",{className:"step-number",children:"4"}),e.jsxs("div",{className:"step-content",children:[e.jsx("strong",{children:"Repeat until convergence"}),e.jsx("p",{children:"Continue until the line fits the data best"})]})]})]})})]})]})]}),e.jsxs("div",{className:"explanation-section",children:[e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Understanding Linear Regression"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"explanation-content",children:[e.jsx("h4",{children:"What is Linear Regression?"}),e.jsx("p",{children:"Linear regression is a statistical method that finds the best straight line through a set of data points. It's one of the most fundamental algorithms in machine learning and data science, used to understand relationships between variables and make predictions."}),e.jsx("h4",{children:"Key Concepts"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Slope:"})," How much y changes for each unit change in x"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Intercept:"})," The value of y when x is zero"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"R-squared:"})," Measures how well the line fits the data (0-1 scale)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Residuals:"})," The difference between actual and predicted values"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Gradient Descent:"})," The algorithm that finds the best line"]})]}),e.jsx("h4",{children:"Real-World Applications"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Real Estate:"})," Predicting house prices based on size, location, features"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Finance:"})," Stock price prediction, risk assessment"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Marketing:"})," Sales forecasting, customer lifetime value"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Healthcare:"})," Drug dosage calculations, treatment outcomes"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Sports:"})," Player performance analysis, game predictions"]})]}),e.jsx("h4",{children:"When to Use Linear Regression"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Linear relationships:"})," When variables have a straight-line relationship"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Prediction:"})," When you need to forecast future values"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Understanding:"})," When you want to quantify relationships"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Baseline model:"})," As a starting point for more complex algorithms"]})]})]})})]}),i==="housing"&&e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Housing Market Analysis"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"dataset-analysis",children:[e.jsx("h4",{children:"Understanding the Housing Dataset"}),e.jsx("p",{children:"This dataset simulates real housing market data where we're trying to predict house prices based on square footage. In real estate, size is often the strongest predictor of price, but other factors like location, age, and amenities also play important roles."}),e.jsxs("div",{className:"insights-grid",children:[e.jsxs("div",{className:"insight-item",children:[e.jsx("h5",{children:"Size vs Price Relationship"}),e.jsx("p",{children:"Generally, larger houses cost more, but the relationship isn't always perfectly linear. The slope tells us how much the price increases per square foot."})]}),e.jsxs("div",{className:"insight-item",children:[e.jsx("h5",{children:"Market Trends"}),e.jsx("p",{children:"The intercept represents the base price for a house with zero square feet (theoretical), while the slope shows the price per square foot in this market."})]}),e.jsxs("div",{className:"insight-item",children:[e.jsx("h5",{children:"Prediction Accuracy"}),e.jsx("p",{children:"R-squared values close to 1 indicate a strong linear relationship, while lower values suggest other factors (location, age, amenities) also affect price."})]})]}),e.jsxs("div",{className:"business-applications",children:[e.jsx("h4",{children:"Real Estate Applications"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Property Valuation:"})," Estimate market value for listings"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Investment Analysis:"})," Identify undervalued properties"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Market Research:"})," Understand local price trends"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Insurance:"})," Calculate replacement costs"]})]})]})]})})]}),i==="stock"&&e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Stock Market Analysis"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"dataset-analysis",children:[e.jsx("h4",{children:"Understanding the Stock Dataset"}),e.jsx("p",{children:"This dataset shows the relationship between company revenue and stock price. In finance, revenue is often a key indicator of company performance, but stock prices are influenced by many other factors including market sentiment, growth prospects, and industry trends."}),e.jsxs("div",{className:"insights-grid",children:[e.jsxs("div",{className:"insight-item",children:[e.jsx("h5",{children:"Revenue Impact"}),e.jsx("p",{children:"The slope shows how much the stock price increases for each million in revenue. This helps investors understand the market's valuation of revenue growth."})]}),e.jsxs("div",{className:"insight-item",children:[e.jsx("h5",{children:"Market Efficiency"}),e.jsx("p",{children:"High R-squared values suggest the market efficiently prices companies based on revenue, while lower values indicate other factors (growth potential, market share) matter more."})]}),e.jsxs("div",{className:"insight-item",children:[e.jsx("h5",{children:"Investment Strategy"}),e.jsx("p",{children:"Investors can use this model to identify potentially undervalued or overvalued stocks based on their revenue-to-price ratio compared to the market average."})]})]}),e.jsxs("div",{className:"business-applications",children:[e.jsx("h4",{children:"Financial Applications"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Valuation Models:"})," Estimate fair stock prices"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Investment Screening:"})," Identify investment opportunities"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Risk Assessment:"})," Understand price sensitivity to revenue"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Portfolio Management:"})," Balance revenue-based and growth stocks"]})]})]})]})})]}),i==="temperature"&&e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Temperature vs Ice Cream Sales"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"dataset-analysis",children:[e.jsx("h4",{children:"Understanding the Temperature Dataset"}),e.jsx("p",{children:"This dataset demonstrates a classic example of correlation in business analytics. Ice cream sales naturally increase with temperature, but the relationship isn't perfect due to factors like location, competition, and customer preferences."}),e.jsxs("div",{className:"insights-grid",children:[e.jsxs("div",{className:"insight-item",children:[e.jsx("h5",{children:"Weather Impact"}),e.jsx("p",{children:"The slope shows how much sales increase per degree of temperature rise. This helps businesses plan inventory and staffing based on weather forecasts."})]}),e.jsxs("div",{className:"insight-item",children:[e.jsx("h5",{children:"Seasonal Planning"}),e.jsx("p",{children:"The intercept represents base sales at zero temperature (theoretical), while the slope helps predict sales during different weather conditions."})]}),e.jsxs("div",{className:"insight-item",children:[e.jsx("h5",{children:"Business Strategy"}),e.jsx("p",{children:"High R-squared values indicate temperature is a strong predictor, while lower values suggest other factors (location, marketing, competition) also affect sales."})]})]}),e.jsxs("div",{className:"business-applications",children:[e.jsx("h4",{children:"Retail Applications"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Inventory Management:"})," Stock levels based on weather forecasts"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Staffing:"})," Schedule more employees on hot days"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Marketing:"})," Promote ice cream during warm weather"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Location Planning:"})," Choose store locations in warmer climates"]})]})]})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Limitations and Best Practices"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"limitations-content",children:[e.jsx("h4",{children:"When Linear Regression Works Well"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Linear relationships:"})," When variables have a straight-line relationship"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Continuous data:"})," Both input and output are numerical"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Independent observations:"})," Data points don't influence each other"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Normal distribution:"})," Residuals are normally distributed"]})]}),e.jsx("h4",{children:"Common Limitations"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Non-linear relationships:"})," Can't capture curved or complex patterns"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Outliers:"})," Extreme values can skew the line significantly"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Correlation vs causation:"})," Doesn't prove that one variable causes the other"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Overfitting:"})," Can memorize training data instead of learning patterns"]})]}),e.jsx("h4",{children:"Best Practices"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Check assumptions:"})," Verify linearity, normality, and independence"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Handle outliers:"})," Investigate and potentially remove extreme values"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Feature engineering:"})," Transform variables to create linear relationships"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Cross-validation:"})," Test on unseen data to avoid overfitting"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Regularization:"})," Use L1/L2 regularization to prevent overfitting"]})]}),e.jsx("h4",{children:"Alternative Approaches"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Polynomial regression:"})," For curved relationships"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Multiple regression:"})," When you have multiple input variables"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Ridge/Lasso regression:"})," For handling multicollinearity"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Non-linear models:"})," Random forests, neural networks for complex patterns"]})]})]})})]})]}),e.jsx("section",{className:"copyright-section",children:e.jsx("div",{className:"copyright-notice",children:e.jsx("p",{children:"© 2025, Todd Brous. All rights reserved."})})})]})})},Yw=()=>{const n=_.useRef(null),i=_.useRef(null),r=_.useRef(null),[c,o]=_.useState("simple"),[h,f]=_.useState([]),[p]=_.useState({simple:{name:"Simple Regression",description:"Basic linear relationship with noise",data:[],features:["x"],isHighDimensional:!1,hasNoise:!0},highDimensional:{name:"High-Dimensional Data",description:"Many features, few samples (like genomics)",data:[],features:Array.from({length:20},(k,b)=>`feature_${b+1}`),isHighDimensional:!0,hasNoise:!0},multicollinear:{name:"Multicollinear Features",description:"Correlated features that cause instability",data:[],features:["x1","x2","x3"],isHighDimensional:!1,hasNoise:!0}}),[x,m]=_.useState({regularizationType:"l2",lambda:.01,alpha:.5,showOverfitting:!0,showCoefficientPaths:!0,showValidationCurve:!0}),[g,y]=_.useState(!0),[j,w]=_.useState(!0),[B,M]=_.useState(!1),[R,z]=_.useState({trainingScore:0,validationScore:0,coefficientCount:0,selectedFeatures:[]}),[H,F]=_.useState([]),L=k=>{const b=[];if(k==="simple")for(let D=0;D<50;D++){const Y=Math.random()*10,U=(Math.random()-.5)*2,N=2*Y+3+U;b.push({id:`point_${D}`,x:Y,y:N,color:"#3b82f6"})}else if(k==="highDimensional")for(let D=0;D<20;D++){const Y=Math.random()*10,U=(Math.random()-.5)*3,N=2*Y+3+U;b.push({id:`point_${D}`,x:Y,y:N,color:"#10b981"})}else if(k==="multicollinear")for(let D=0;D<30;D++){const Y=Math.random()*10,U=(Math.random()-.5)*2.5,N=2*Y+3+U;b.push({id:`point_${D}`,x:Y,y:N,color:"#f59e0b"})}return b},O=(k,b,D)=>{const Y=k.length,U=k[0].length,N=new Array(U).fill(0),T=.01,C=1e3;for(let I=0;I<C;I++)for(let P=0;P<U;P++){let X=0;for(let te=0;te<Y;te++){const ee=k[te].reduce((Z,de,pe)=>Z+de*N[pe],0);X+=(ee-b[te])*k[te][P]}X/=Y;const A=D*Math.sign(N[P]);N[P]-=T*(X+A)}return N},V=(k,b,D)=>{const Y=k.length,U=k[0].length,N=new Array(U).fill(0),T=.01,C=1e3;for(let I=0;I<C;I++)for(let P=0;P<U;P++){let X=0;for(let te=0;te<Y;te++){const ee=k[te].reduce((Z,de,pe)=>Z+de*N[pe],0);X+=(ee-b[te])*k[te][P]}X/=Y;const A=2*D*N[P];N[P]-=T*(X+A)}return N},Q=(k,b,D,Y)=>{const U=k.length,N=k[0].length,T=new Array(N).fill(0),C=.01,I=1e3;for(let P=0;P<I;P++)for(let X=0;X<N;X++){let A=0;for(let Z=0;Z<U;Z++){const de=k[Z].reduce((pe,ge,xe)=>pe+ge*T[xe],0);A+=(de-b[Z])*k[Z][X]}A/=U;const te=Y*D*Math.sign(T[X]),ee=(1-Y)*2*D*T[X];T[X]-=C*(A+te+ee)}return T},se=(k,b)=>{const D=[],Y=[.001,.01,.1,.5,1,2,5,10],U=k.map(T=>[T.x,1]),N=k.map(T=>T.y);return Y.forEach(T=>{let C;b==="l1"?C=O(U,N,T):b==="l2"?C=V(U,N,T):C=Q(U,N,T,x.alpha),D.push({lambda:T,coefficients:C,featureNames:["x","intercept"]})}),D},q=()=>{M(!0);const k=p[c],D=se(h,x.regularizationType);F(D);const Y=.85+Math.random()*.1,U=Y-.1-Math.random()*.1,N=D[D.length-1].coefficients.filter(T=>Math.abs(T)>.01).length;z({trainingScore:Y,validationScore:U,coefficientCount:N,selectedFeatures:D[D.length-1].coefficients.map((T,C)=>Math.abs(T)>.01?k.features[C]:null).filter(T=>T!==null)}),setTimeout(()=>{M(!1)},1e3)},J=()=>{if(!n.current||h.length===0)return;const k=Ee(n.current);k.selectAll("*").remove();const b=600,D=400,Y={top:20,right:20,bottom:40,left:40},U=b-Y.left-Y.right,N=D-Y.top-Y.bottom,T=k.attr("width",b).attr("height",D).append("g").attr("transform",`translate(${Y.left},${Y.top})`),C=h,I=st(C,Z=>Z.x),P=st(C,Z=>Z.y),X=Ke().domain(I).range([0,U]),A=Ke().domain(P).range([N,0]);if(g){const Z=rt(X).tickSize(-N).tickFormat(()=>""),de=ct(A).tickSize(-U).tickFormat(()=>"");T.append("g").attr("class","grid").attr("transform",`translate(0,${N})`).call(Z).style("stroke","#e2e8f0").style("stroke-width",1),T.append("g").attr("class","grid").call(de).style("stroke","#e2e8f0").style("stroke-width",1)}const te=rt(X),ee=ct(A);if(T.append("g").attr("class","axis").attr("transform",`translate(0,${N})`).call(te).style("color","#64748b"),T.append("g").attr("class","axis").call(ee).style("color","#64748b"),T.selectAll(".data-point").data(C).enter().append("circle").attr("class","data-point").attr("cx",Z=>X(Z.x)).attr("cy",Z=>A(Z.y)).attr("r",4).style("fill",Z=>Z.color).style("stroke","#374151").style("stroke-width",1).style("opacity",.8),x.showOverfitting){const Z=[0,.1,1,10],de=["#ef4444","#f59e0b","#10b981","#3b82f6"];Z.forEach((pe,ge)=>{const xe=C.map(Xe=>[Xe.x,1]),ve=C.map(Xe=>Xe.y);let Me;x.regularizationType==="l1"?Me=O(xe,ve,pe):x.regularizationType==="l2"?Me=V(xe,ve,pe):Me=Q(xe,ve,pe,x.alpha);const Ce=rs().x(Xe=>X(Xe.x)).y(Xe=>A(Xe.y)),Re=[{x:I[0],y:Me[0]*I[0]+Me[1]},{x:I[1],y:Me[0]*I[1]+Me[1]}];T.append("path").datum(Re).attr("d",Ce).style("fill","none").style("stroke",de[ge]).style("stroke-width",2).style("stroke-dasharray",pe===0?"none":"5,5").style("opacity",.8)})}j&&T.selectAll(".data-label").data(C.slice(0,5)).enter().append("text").attr("class","data-label").attr("x",Z=>X(Z.x)+8).attr("y",Z=>A(Z.y)-8).text(Z=>`(${Z.x.toFixed(1)}, ${Z.y.toFixed(1)})`).style("font-size","10px").style("fill","#374151")},G=()=>{if(!i.current||H.length===0)return;const k=Ee(i.current);k.selectAll("*").remove();const b=400,D=300,Y={top:20,right:20,bottom:40,left:60},U=b-Y.left-Y.right,N=D-Y.top-Y.bottom,T=k.attr("width",b).attr("height",D).append("g").attr("transform",`translate(${Y.left},${Y.top})`),C=Id().domain(st(H,A=>A.lambda)).range([0,U]),I=st(H.flatMap(A=>A.coefficients)),P=Ke().domain(I).range([N,0]);T.append("g").attr("class","axis").attr("transform",`translate(0,${N})`).call(rt(C)).style("color","#64748b"),T.append("g").attr("class","axis").call(ct(P)).style("color","#64748b");const X=["#3b82f6","#10b981"];H[0].coefficients.forEach((A,te)=>{const ee=H.map(de=>({lambda:de.lambda,coefficient:de.coefficients[te]})),Z=rs().x(de=>C(de.lambda)).y(de=>P(de.coefficient));T.append("path").datum(ee).attr("d",Z).style("fill","none").style("stroke",X[te]).style("stroke-width",2).style("opacity",.8)}),T.append("text").attr("x",U/2).attr("y",N+35).attr("text-anchor","middle").style("font-size","12px").style("fill","#374151").text("Lambda (Regularization Strength)"),T.append("text").attr("x",-N/2).attr("y",-40).attr("text-anchor","middle").attr("transform","rotate(-90)").style("font-size","12px").style("fill","#374151").text("Coefficient Value")},K=()=>{if(!r.current)return;const k=Ee(r.current);k.selectAll("*").remove();const b=400,D=300,Y={top:20,right:20,bottom:40,left:60},U=b-Y.left-Y.right,N=D-Y.top-Y.bottom,T=k.attr("width",b).attr("height",D).append("g").attr("transform",`translate(${Y.left},${Y.top})`),C=[.001,.01,.1,.5,1,2,5,10],I=C.map(pe=>.9-pe*.1+Math.random()*.05),P=C.map(pe=>.85-pe*.05+Math.random()*.03),X=Id().domain(st(C)).range([0,U]),A=Ke().domain([0,1]).range([N,0]);T.append("g").attr("class","axis").attr("transform",`translate(0,${N})`).call(rt(X)).style("color","#64748b"),T.append("g").attr("class","axis").call(ct(A)).style("color","#64748b");const te=C.map((pe,ge)=>({lambda:pe,score:I[ge]})),ee=rs().x(pe=>X(pe.lambda)).y(pe=>A(pe.score));T.append("path").datum(te).attr("d",ee).style("fill","none").style("stroke","#3b82f6").style("stroke-width",2).style("opacity",.8);const Z=C.map((pe,ge)=>({lambda:pe,score:P[ge]})),de=rs().x(pe=>X(pe.lambda)).y(pe=>A(pe.score));T.append("path").datum(Z).attr("d",de).style("fill","none").style("stroke","#ef4444").style("stroke-width",2).style("opacity",.8),T.append("text").attr("x",U/2).attr("y",N+35).attr("text-anchor","middle").style("font-size","12px").style("fill","#374151").text("Lambda (Regularization Strength)"),T.append("text").attr("x",-N/2).attr("y",-40).attr("text-anchor","middle").attr("transform","rotate(-90)").style("font-size","12px").style("fill","#374151").text("Score")};_.useEffect(()=>{const k=L(c);f(k)},[c]),_.useEffect(()=>{J()},[h,x,g,j]),_.useEffect(()=>{G()},[H]),_.useEffect(()=>{K()},[x.lambda,h]),_.useEffect(()=>{if(h.length>0){const k=se(h,x.regularizationType);F(k)}},[h,x.regularizationType]);const ae=(k,b)=>{m(D=>({...D,[k]:b}))},E=()=>{m({regularizationType:"l2",lambda:.01,alpha:.5,showOverfitting:!0,showCoefficientPaths:!0,showValidationCurve:!0}),z({trainingScore:0,validationScore:0,coefficientCount:0,selectedFeatures:[]}),F([])};return e.jsx("div",{className:"regularization-explorer fade-in",children:e.jsxs("div",{className:"container",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Regularization Explorer"}),e.jsx("p",{className:"page-description",children:"Explore L1 and L2 regularization concepts through interactive demonstrations. Learn how regularization prevents overfitting and improves model generalization."})]}),e.jsxs("div",{className:"improved-simulation-layout",children:[e.jsxs("div",{className:"main-visualization-panel",children:[e.jsxs("div",{className:"visualization-header",children:[e.jsx("h2",{className:"visualization-title",children:"Overfitting Demonstration"}),e.jsxs("div",{className:"visualization-controls",children:[e.jsxs("label",{className:"control-label",children:[e.jsx("input",{type:"checkbox",checked:g,onChange:k=>y(k.target.checked)}),"Show Grid"]}),e.jsxs("label",{className:"control-label",children:[e.jsx("input",{type:"checkbox",checked:j,onChange:k=>w(k.target.checked)}),"Show Labels"]}),e.jsxs("label",{className:"control-label",children:[e.jsx("input",{type:"checkbox",checked:x.showOverfitting,onChange:k=>ae("showOverfitting",k.target.checked)}),"Show Regularization Lines"]})]})]}),e.jsx("div",{className:"visualization-container",children:e.jsx("svg",{ref:n,className:"simulation-svg"})}),e.jsx("div",{className:"improved-legend",children:e.jsxs("div",{className:"legend-items",children:[e.jsxs("div",{className:"legend-item",children:[e.jsx("div",{className:"legend-line",style:{backgroundColor:"#ef4444",border:"none"}}),e.jsx("span",{children:"No Regularization (λ=0) - Overfits"})]}),e.jsxs("div",{className:"legend-item",children:[e.jsx("div",{className:"legend-line",style:{backgroundColor:"#f59e0b",border:"2px dashed #f59e0b"}}),e.jsx("span",{children:"Light (λ=0.1)"})]}),e.jsxs("div",{className:"legend-item",children:[e.jsx("div",{className:"legend-line",style:{backgroundColor:"#10b981",border:"2px dashed #10b981"}}),e.jsx("span",{children:"Medium (λ=1)"})]}),e.jsxs("div",{className:"legend-item",children:[e.jsx("div",{className:"legend-line",style:{backgroundColor:"#3b82f6",border:"2px dashed #3b82f6"}}),e.jsx("span",{children:"Strong (λ=10)"})]})]})}),e.jsxs("div",{className:"compact-performance",children:[e.jsx("h4",{children:"Model Performance"}),e.jsxs("div",{className:"performance-grid",children:[e.jsxs("div",{className:"performance-item",children:[e.jsx("span",{className:"performance-label",children:"Training Score:"}),e.jsxs("span",{className:"performance-value",children:[(R.trainingScore*100).toFixed(1),"%"]})]}),e.jsxs("div",{className:"performance-item",children:[e.jsx("span",{className:"performance-label",children:"Validation Score:"}),e.jsxs("span",{className:"performance-value",children:[(R.validationScore*100).toFixed(1),"%"]})]}),e.jsxs("div",{className:"performance-item",children:[e.jsx("span",{className:"performance-label",children:"Selected Features:"}),e.jsx("span",{className:"performance-value",children:R.coefficientCount})]}),e.jsxs("div",{className:"performance-item",children:[e.jsx("span",{className:"performance-label",children:"Overfitting Gap:"}),e.jsxs("span",{className:"performance-value",children:[((R.trainingScore-R.validationScore)*100).toFixed(1),"%"]})]})]})]})]}),e.jsxs("div",{className:"controls-panel",children:[e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Dataset Selection"})}),e.jsx("div",{className:"card-body",children:e.jsx("div",{className:"parameter-controls",children:e.jsxs("div",{className:"input-group",children:[e.jsx("label",{className:"label",children:"Choose Dataset"}),e.jsxs("select",{value:c,onChange:k=>o(k.target.value),className:"input",children:[e.jsx("option",{value:"simple",children:"Simple Regression"}),e.jsx("option",{value:"highDimensional",children:"High-Dimensional Data"}),e.jsx("option",{value:"multicollinear",children:"Multicollinear Features"})]}),e.jsx("small",{className:"parameter-help",children:p[c]?.description})]})})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Regularization Parameters"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"parameter-controls",children:[e.jsxs("div",{className:"input-group",children:[e.jsx("label",{className:"label",children:"Regularization Type"}),e.jsxs("select",{value:x.regularizationType,onChange:k=>ae("regularizationType",k.target.value),className:"input",children:[e.jsx("option",{value:"l1",children:"L1 (Lasso) - Feature Selection"}),e.jsx("option",{value:"l2",children:"L2 (Ridge) - Coefficient Shrinkage"}),e.jsx("option",{value:"elastic_net",children:"Elastic Net - Combined"})]}),e.jsx("small",{className:"parameter-help",children:"L1: Sparse solutions, L2: Smooth solutions, Elastic Net: Both"})]}),e.jsxs("div",{className:"input-group",children:[e.jsx("label",{className:"label",children:"Lambda (Regularization Strength)"}),e.jsx("input",{type:"range",min:"0.001",max:"10",step:"0.001",value:x.lambda,onChange:k=>ae("lambda",parseFloat(k.target.value)),className:"slider"}),e.jsx("span",{className:"value-display",children:x.lambda.toFixed(3)}),e.jsx("small",{className:"parameter-help",children:"Higher values = more regularization"})]}),x.regularizationType==="elastic_net"&&e.jsxs("div",{className:"input-group",children:[e.jsx("label",{className:"label",children:"Alpha (L1/L2 Balance)"}),e.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:x.alpha,onChange:k=>ae("alpha",parseFloat(k.target.value)),className:"slider"}),e.jsx("span",{className:"value-display",children:x.alpha.toFixed(1)}),e.jsx("small",{className:"parameter-help",children:"0 = Pure L2, 1 = Pure L1"})]})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Algorithm Controls"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"algorithm-controls",children:[e.jsx("button",{onClick:q,className:"btn btn-primary",disabled:B,children:B?"Running...":"Run Regularization"}),e.jsx("button",{onClick:E,className:"btn btn-secondary",disabled:B,children:"Reset"})]})})]})]})]}),e.jsx("div",{className:"additional-visualizations",children:e.jsxs("div",{className:"visualization-grid",children:[e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Coefficient Paths"})}),e.jsxs("div",{className:"card-body",children:[e.jsx("div",{className:"visualization-container",children:e.jsx("svg",{ref:i,className:"simulation-svg"})}),e.jsx("small",{className:"parameter-help",children:"Shows how coefficients change as regularization strength increases"})]})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Validation Curve"})}),e.jsxs("div",{className:"card-body",children:[e.jsx("div",{className:"visualization-container",children:e.jsx("svg",{ref:r,className:"simulation-svg"})}),e.jsx("small",{className:"parameter-help",children:"Training vs validation performance across lambda values"})]})]})]})}),e.jsxs("div",{className:"explanation-section",children:[e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"How to Use This Simulation"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"explanation-content",children:[e.jsx("h4",{children:"Step-by-Step Instructions"}),e.jsxs("ol",{className:"instruction-list",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Start with the main graph:"})," Observe how different regularization strengths affect the regression line"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Adjust Lambda (λ):"})," Use the slider to change regularization strength and watch the effects"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Try different datasets:"}),' Switch between "Simple Regression", "High Dimensional", and "Multicollinear"']}),e.jsxs("li",{children:[e.jsx("strong",{children:"Experiment with regularization types:"})," Compare L1, L2, and Elastic Net"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Watch the coefficient paths:"})," See how coefficients change as regularization increases"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Analyze the validation curve:"})," Find the optimal lambda that balances training and validation performance"]})]}),e.jsx("h4",{children:"Understanding the Parameters"}),e.jsxs("div",{className:"parameter-guide",children:[e.jsxs("div",{className:"parameter-item",children:[e.jsx("h5",{children:"Lambda (λ) - Regularization Strength"}),e.jsxs("p",{children:[e.jsx("strong",{children:"What it does:"})," Controls how much regularization is applied"]}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"λ = 0:"})," No regularization (overfitting risk)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"λ = 0.1:"})," Light regularization (slight smoothing)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"λ = 1:"})," Medium regularization (good balance)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"λ = 10:"})," Strong regularization (underfitting risk)"]})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"What to look for:"})," Find the λ value where training and validation scores are closest"]})]}),e.jsxs("div",{className:"parameter-item",children:[e.jsx("h5",{children:"Alpha (α) - L1/L2 Balance"}),e.jsxs("p",{children:[e.jsx("strong",{children:"What it does:"})," Controls the mix of L1 and L2 regularization"]}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"α = 0:"})," Pure L2 (Ridge) - smooth coefficients"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"α = 0.5:"})," Equal mix of L1 and L2"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"α = 1:"})," Pure L1 (Lasso) - sparse coefficients"]})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"What to look for:"})," L1 creates sparse models (some coefficients = 0), L2 keeps all coefficients"]})]})]}),e.jsx("h4",{children:"How to Interpret the Visualizations"}),e.jsxs("div",{className:"visualization-guide",children:[e.jsxs("div",{className:"viz-explanation",children:[e.jsx("h5",{children:"Main Graph - Overfitting Demonstration"}),e.jsxs("p",{children:[e.jsx("strong",{children:"What you're seeing:"})," How different regularization strengths affect the regression line"]}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Red line (λ=0):"})," Overfits to training data, wiggly line"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Orange line (λ=0.1):"})," Slightly smoother, still follows data closely"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Green line (λ=1):"})," Good balance, smooth but fits the trend"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Blue line (λ=10):"})," Underfits, too simple, misses the pattern"]})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Learning goal:"})," Find the line that captures the true underlying pattern without memorizing noise"]})]}),e.jsxs("div",{className:"viz-explanation",children:[e.jsx("h5",{children:"Coefficient Paths Graph"}),e.jsxs("p",{children:[e.jsx("strong",{children:"What you're seeing:"})," How each coefficient changes as regularization strength increases"]}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"X-axis:"})," Lambda values (log scale) from weak to strong regularization"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Y-axis:"})," Coefficient values (can be positive or negative)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Lines:"})," Each line represents one coefficient (feature)"]})]}),e.jsx("p",{children:e.jsx("strong",{children:"What to look for:"})}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"L1 paths:"})," Some coefficients drop to exactly zero (feature selection)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"L2 paths:"})," Coefficients shrink toward zero but rarely reach exactly zero"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Elastic Net:"})," Combination of both behaviors"]})]})]}),e.jsxs("div",{className:"viz-explanation",children:[e.jsx("h5",{children:"Validation Curve"}),e.jsxs("p",{children:[e.jsx("strong",{children:"What you're seeing:"})," Training vs validation performance across different lambda values"]}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"X-axis:"})," Lambda values (log scale)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Y-axis:"})," Performance score (0-100%)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Blue line:"})," Training performance (how well model fits training data)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Green line:"})," Validation performance (how well model generalizes)"]})]}),e.jsx("p",{children:e.jsx("strong",{children:"What to look for:"})}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Gap between lines:"})," Large gap = overfitting, small gap = good generalization"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Optimal lambda:"})," Where validation performance peaks"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Underfitting:"})," Both lines low and close together (too much regularization)"]})]})]})]})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Understanding Regularization"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"explanation-content",children:[e.jsx("h4",{children:"What is Regularization?"}),e.jsx("p",{children:"Regularization is a technique used to prevent overfitting in machine learning models. It adds a penalty term to the loss function that discourages the model from becoming too complex and memorizing the training data."}),e.jsx("h4",{children:"Key Concepts"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Overfitting:"})," When a model memorizes training data but fails to generalize to new data"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"L1 Regularization (Lasso):"})," Encourages sparsity by driving some coefficients to exactly zero"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"L2 Regularization (Ridge):"})," Shrinks coefficients toward zero but rarely makes them exactly zero"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Lambda:"})," Controls the strength of regularization - higher values mean more regularization"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Cross-validation:"})," Method to choose the optimal regularization strength"]})]}),e.jsx("h4",{children:"L1 vs L2 Regularization"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"L1 (Lasso):"})," Best for feature selection, creates sparse models, handles multicollinearity"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"L2 (Ridge):"})," Best for stability, keeps all features, handles multicollinearity well"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Elastic Net:"})," Combines both L1 and L2, balances feature selection and stability"]})]}),e.jsx("h4",{children:"Real-World Applications"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Genomics:"})," Identifying which genes are important for disease prediction"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Text Analysis:"})," Selecting relevant words for sentiment analysis"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Finance:"})," Risk assessment with many correlated features"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Image Processing:"})," Feature selection in computer vision tasks"]})]})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"When to Use Each Type"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"explanation-content",children:[e.jsx("h4",{children:"Choose L1 (Lasso) When:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"You have many features and want to select the most important ones"}),e.jsx("li",{children:"You need an interpretable model with fewer features"}),e.jsx("li",{children:"You suspect many features are irrelevant"}),e.jsx("li",{children:"You want automatic feature selection"})]}),e.jsx("h4",{children:"Choose L2 (Ridge) When:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"You have correlated features (multicollinearity)"}),e.jsx("li",{children:"You want to keep all features but reduce their impact"}),e.jsx("li",{children:"You need a stable model that doesn't change much with small data changes"}),e.jsx("li",{children:"You have more features than samples"})]}),e.jsx("h4",{children:"Choose Elastic Net When:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"You want both feature selection and stability"}),e.jsx("li",{children:"You have groups of correlated features"}),e.jsx("li",{children:"You're unsure which regularization type to use"}),e.jsx("li",{children:"You need a balance between L1 and L2 benefits"})]})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Best Practices"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"explanation-content",children:[e.jsx("h4",{children:"Parameter Selection"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Cross-validation:"})," Use k-fold cross-validation to find optimal lambda"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Grid search:"})," Try different lambda values systematically"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Validation curve:"})," Plot training vs validation scores to find sweet spot"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Early stopping:"})," Stop when validation score stops improving"]})]}),e.jsx("h4",{children:"Common Pitfalls"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Too much regularization:"})," Model becomes too simple and underfits"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Too little regularization:"})," Model overfits and doesn't generalize"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Wrong type:"})," Using L1 when you need L2 or vice versa"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Data leakage:"})," Using test data to select parameters"]})]}),e.jsx("h4",{children:"Model Evaluation"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Training vs validation gap:"})," Large gap indicates overfitting"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Feature importance:"})," Check which features are selected"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Coefficient stability:"})," Coefficients shouldn't change dramatically"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Cross-validation scores:"})," Use multiple folds for robust evaluation"]})]})]})})]})]}),e.jsx("section",{className:"copyright-section",children:e.jsx("div",{className:"copyright-notice",children:e.jsx("p",{children:"© 2025, Todd Brous. All rights reserved."})})})]})})},Vw=()=>{const n=_.useRef(null),i=_.useRef(null),[r,c]=_.useState("uniform"),[o,h]=_.useState(30),[f,p]=_.useState(100),[x,m]=_.useState(100),[g,y]=_.useState(!0),[j,w]=_.useState(!0),[B,M]=_.useState([]),[R,z]=_.useState([]),[H,F]=_.useState(0),[L,O]=_.useState(!1),[V,Q]=_.useState(!1),[se,q]=_.useState(!1),[J,G]=_.useState(!1),K={uniform:{name:"Uniform Distribution",description:"All values equally likely - like rolling a fair die",color:"#3b82f6",generate:U=>Array.from({length:U},()=>Math.random()*100)},exponential:{name:"Exponential Distribution",description:"Skewed distribution - like waiting times or service durations",color:"#10b981",generate:U=>Array.from({length:U},()=>-Math.log(1-Math.random())*20)},bimodal:{name:"Bimodal Distribution",description:"Two distinct peaks - like heights of men and women combined",color:"#f59e0b",generate:U=>Array.from({length:U},()=>Math.random()<.5?20+Math.random()*20+(Math.random()-.5)*10:60+Math.random()*20+(Math.random()-.5)*10)},skewed:{name:"Right-Skewed Distribution",description:"Most values low, few high - like income or house prices",color:"#ef4444",generate:U=>Array.from({length:U},()=>Math.pow(Math.random(),2)*100)},normal:{name:"Normal Distribution",description:"Bell curve - like heights, test scores, or measurement errors",color:"#8b5cf6",generate:U=>Array.from({length:U},()=>{const N=Math.random(),T=Math.random();return 50+Math.sqrt(-2*Math.log(N))*Math.cos(2*Math.PI*T)*15})}},ae=(U,N=1e3)=>{const T=K[U];return T.generate(N).map((I,P)=>({id:`pop_${P}`,value:Math.max(0,Math.min(100,I)),color:T.color}))},E=(U,N)=>[...U].sort(()=>.5-Math.random()).slice(0,N),k=U=>U.reduce((N,T)=>N+T.value,0)/U.length,b=async()=>{if(L)return;O(!0),Q(!1),F(0),z([]);const U=[],N=[],T=se?Math.max(1,Math.floor(f/5)):Math.max(1,Math.floor(f/20));for(let C=0;C<f&&!V;C++){const I=E(B,o),P=k(I);U.push(P),N.push({sampleNumber:C+1,mean:P,size:o,values:I.map(X=>X.value)}),((C+1)%T===0||C===f-1)&&(F(C+1),z([...U]),x>0&&!se&&await new Promise(X=>setTimeout(X,x)))}O(!1)},D=()=>{Q(!0),O(!1)},Y=()=>{z([]),F(0),O(!1),Q(!1)};return _.useEffect(()=>{const U=ae(r);M(U),Y()},[r]),_.useEffect(()=>{if(!n.current||!g)return;const U=Ee(n.current);U.selectAll("*").remove();const N=800,T=400,C={top:40,right:40,bottom:60,left:60};U.attr("width",N).attr("height",T).style("border","1px solid #e5e7eb").style("border-radius","8px").style("background","white");const P=Xr().domain([0,100]).thresholds(20)(B.map(Z=>Z.value)),X=Ke().domain([0,100]).range([C.left,N-C.right]),A=Ke().domain([0,Zi(P,Z=>Z.length)||1]).range([T-C.bottom,C.top]);U.selectAll(".histogram-bar").data(P).enter().append("rect").attr("class","histogram-bar").attr("x",Z=>X(Z.x0||0)).attr("y",Z=>A(Z.length)).attr("width",Z=>X(Z.x1||0)-X(Z.x0||0)).attr("height",Z=>T-C.bottom-A(Z.length)).style("fill",K[r].color).style("opacity",.7).style("stroke","#374151").style("stroke-width",1);const te=rt(X),ee=ct(A);U.append("g").attr("transform",`translate(0, ${T-C.bottom})`).call(te).selectAll("text").style("font-size","12px").style("fill","#6b7280"),U.append("g").attr("transform",`translate(${C.left}, 0)`).call(ee).selectAll("text").style("font-size","12px").style("fill","#6b7280"),U.append("text").attr("x",N/2).attr("y",T-10).attr("text-anchor","middle").style("font-size","14px").style("font-weight","600").style("fill","#374151").text("Value"),U.append("text").attr("x",15).attr("y",T/2).attr("text-anchor","middle").attr("transform","rotate(-90, 15, "+T/2+")").style("font-size","14px").style("font-weight","600").style("fill","#374151").text("Frequency"),U.append("text").attr("x",N/2).attr("y",20).attr("text-anchor","middle").style("font-size","16px").style("font-weight","600").style("fill","#374151").text(`Population Distribution: ${K[r].name}`)},[B,r,g]),_.useEffect(()=>{if(!i.current||R.length===0)return;const U=Ee(i.current);U.selectAll("*").remove();const N=800,T=400,C={top:40,right:40,bottom:60,left:60};U.attr("width",N).attr("height",T).style("border","1px solid #e5e7eb").style("border-radius","8px").style("background","white");const P=Xr().domain(st(R)).thresholds(15)(R),X=Ke().domain(st(R)).range([C.left,N-C.right]),A=Ke().domain([0,Zi(P,Z=>Z.length)||1]).range([T-C.bottom,C.top]);if(U.selectAll(".histogram-bar").data(P).enter().append("rect").attr("class","histogram-bar").attr("x",Z=>X(Z.x0||0)).attr("y",Z=>A(Z.length)).attr("width",Z=>X(Z.x1||0)-X(Z.x0||0)).attr("height",Z=>T-C.bottom-A(Z.length)).style("fill","#3b82f6").style("opacity",.7).style("stroke","#374151").style("stroke-width",1),j&&R.length>0){const Z=R.reduce((Me,Ce)=>Me+Ce,0)/R.length,de=R.reduce((Me,Ce)=>Me+Math.pow(Ce-Z,2),0)/R.length,pe=Math.sqrt(de),ge=Zi(P,Me=>Me.length)||1,xe=xv(X.domain()[0],X.domain()[1],.5).map(Me=>({x:Me,y:1/(pe*Math.sqrt(2*Math.PI))*Math.exp(-.5*Math.pow((Me-Z)/pe,2))*ge})),ve=rs().x(Me=>X(Me.x)).y(Me=>A(Me.y));U.append("path").datum(xe).attr("d",ve).style("fill","none").style("stroke","#ef4444").style("stroke-width",3).style("stroke-dasharray","5,5")}const te=rt(X),ee=ct(A);U.append("g").attr("transform",`translate(0, ${T-C.bottom})`).call(te).selectAll("text").style("font-size","12px").style("fill","#6b7280"),U.append("g").attr("transform",`translate(${C.left}, 0)`).call(ee).selectAll("text").style("font-size","12px").style("fill","#6b7280"),U.append("text").attr("x",N/2).attr("y",T-10).attr("text-anchor","middle").style("font-size","14px").style("font-weight","600").style("fill","#374151").text("Sample Mean"),U.append("text").attr("x",15).attr("y",T/2).attr("text-anchor","middle").attr("transform","rotate(-90, 15, "+T/2+")").style("font-size","14px").style("font-weight","600").style("fill","#374151").text("Frequency"),U.append("text").attr("x",N/2).attr("y",20).attr("text-anchor","middle").style("font-size","16px").style("font-weight","600").style("fill","#374151").text(`Distribution of Sample Means (n=${o})`)},[R,j,o]),e.jsx("div",{className:"central-limit-theorem fade-in",children:e.jsxs("div",{className:"container",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Central Limit Theorem Simulator"}),e.jsx("p",{className:"page-description",children:"Discover one of statistics' most powerful concepts through interactive visualization. Watch how sample means from any distribution converge to a normal distribution, regardless of the original population shape."})]}),e.jsxs("div",{className:"simulation-layout",children:[e.jsxs("div",{className:"visualization-panel",children:[e.jsxs("div",{className:"visualization-header",children:[e.jsx("h2",{className:"visualization-title",children:"Population Distribution"}),e.jsxs("div",{className:"simulation-stats",children:[e.jsxs("span",{className:"stat",children:["Population Size: ",B.length]}),e.jsxs("span",{className:"stat",children:["Samples Taken: ",H]}),e.jsxs("span",{className:"stat",children:["Sample Size: ",o]})]})]}),e.jsx("div",{className:"visualization-container",children:e.jsx("svg",{ref:n,className:"population-svg"})}),e.jsxs("div",{className:"visualization-header",children:[e.jsx("h2",{className:"visualization-title",children:"Distribution of Sample Means"}),e.jsxs("div",{className:"simulation-stats",children:[e.jsxs("span",{className:"stat",children:["Mean of Means: ",R.length>0?(R.reduce((U,N)=>U+N,0)/R.length).toFixed(2):"N/A"]}),e.jsxs("span",{className:"stat",children:["Std Dev: ",R.length>1?Math.sqrt(R.reduce((U,N)=>U+Math.pow(N-R.reduce((T,C)=>T+C,0)/R.length,2),0)/R.length).toFixed(2):"N/A"]})]})]}),e.jsx("div",{className:"visualization-container",children:e.jsx("svg",{ref:i,className:"histogram-svg"})}),e.jsx("div",{className:"algorithm-controls-section",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Simulation Controls"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"algorithm-controls",children:[e.jsx("button",{onClick:b,className:"btn btn-primary",disabled:L,children:L?"Running...":"Start Sampling Simulation"}),L&&e.jsx("button",{onClick:D,className:"btn btn-secondary",children:"Stop Simulation"}),e.jsx("button",{onClick:Y,className:"btn btn-outline",disabled:L,children:"Reset Simulation"})]})})]})})]}),e.jsxs("div",{className:"controls-panel",children:[e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Population Distribution"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"distribution-controls",children:[e.jsx("label",{className:"label",children:"Choose Distribution"}),e.jsxs("select",{value:r,onChange:U=>c(U.target.value),className:"input",children:[e.jsx("option",{value:"uniform",children:"Uniform"}),e.jsx("option",{value:"exponential",children:"Exponential"}),e.jsx("option",{value:"bimodal",children:"Bimodal"}),e.jsx("option",{value:"skewed",children:"Right-Skewed"}),e.jsx("option",{value:"normal",children:"Normal"})]}),e.jsx("p",{className:"distribution-description",children:K[r].description})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Sampling Parameters"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"parameter-controls",children:[e.jsxs("div",{className:"input-group",children:[e.jsx("label",{className:"label",children:"Sample Size (n)"}),e.jsx("input",{type:"range",min:"5",max:"100",step:"5",value:o,onChange:U=>h(parseInt(U.target.value)),className:"slider"}),e.jsx("span",{className:"value-display",children:o}),e.jsx("small",{className:"parameter-help",children:"Number of observations per sample"})]}),e.jsxs("div",{className:"input-group",children:[e.jsx("label",{className:"label",children:"Number of Samples"}),e.jsx("input",{type:"range",min:"10",max:"500",step:"10",value:f,onChange:U=>p(parseInt(U.target.value)),className:"slider"}),e.jsx("span",{className:"value-display",children:f}),e.jsx("small",{className:"parameter-help",children:"How many samples to take"})]}),e.jsxs("div",{className:"input-group",children:[e.jsx("label",{className:"label",children:"Animation Speed"}),e.jsx("input",{type:"range",min:"100",max:"2000",step:"100",value:x,onChange:U=>m(parseInt(U.target.value)),className:"slider"}),e.jsxs("span",{className:"value-display",children:[x,"ms"]}),e.jsx("small",{className:"parameter-help",children:"Speed of sampling animation"})]})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Visualization Options"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"visualization-controls",children:[e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:g,onChange:U=>y(U.target.checked)}),e.jsx("span",{className:"checkmark"}),"Show Population Distribution"]}),e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:j,onChange:U=>w(U.target.checked)}),e.jsx("span",{className:"checkmark"}),"Show Normal Distribution Overlay"]}),e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:se,onChange:U=>q(U.target.checked)}),e.jsx("span",{className:"checkmark"}),"Fast Mode (No Animation)"]}),!J&&e.jsx("label",{className:"control-label show-tips-control",children:e.jsx("button",{className:"show-tips-btn-inline",onClick:()=>G(!0),children:"Show Tips"})})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Simulation Statistics"})}),e.jsx("div",{className:"card-body",children:R.length>0&&e.jsxs("div",{className:"performance-metrics",children:[e.jsxs("div",{className:"metric",children:[e.jsx("span",{className:"metric-label",children:"Population Mean:"}),e.jsx("span",{className:"metric-value",children:(B.reduce((U,N)=>U+N.value,0)/B.length).toFixed(2)})]}),e.jsxs("div",{className:"metric",children:[e.jsx("span",{className:"metric-label",children:"Sample Mean:"}),e.jsx("span",{className:"metric-value",children:(R.reduce((U,N)=>U+N,0)/R.length).toFixed(2)})]}),e.jsxs("div",{className:"metric",children:[e.jsx("span",{className:"metric-label",children:"Standard Error:"}),e.jsx("span",{className:"metric-value",children:Math.sqrt(R.reduce((U,N)=>U+Math.pow(N-R.reduce((T,C)=>T+C,0)/R.length,2),0)/R.length).toFixed(2)})]}),e.jsxs("div",{className:"metric",children:[e.jsx("span",{className:"metric-label",children:"Theoretical SE:"}),e.jsx("span",{className:"metric-value",children:(Math.sqrt(B.reduce((U,N)=>U+Math.pow(N.value-B.reduce((T,C)=>T+C.value,0)/B.length,2),0)/B.length)/Math.sqrt(o)).toFixed(2)})]})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"How It Works"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"explanation-steps",children:[e.jsxs("div",{className:"step",children:[e.jsx("div",{className:"step-number",children:"1"}),e.jsxs("div",{className:"step-content",children:[e.jsx("strong",{children:"Start with any distribution"}),e.jsx("p",{children:"Begin with any population distribution - uniform, skewed, bimodal, etc."})]})]}),e.jsxs("div",{className:"step",children:[e.jsx("div",{className:"step-number",children:"2"}),e.jsxs("div",{className:"step-content",children:[e.jsx("strong",{children:"Take random samples"}),e.jsx("p",{children:"Repeatedly sample n observations from the population"})]})]}),e.jsxs("div",{className:"step",children:[e.jsx("div",{className:"step-number",children:"3"}),e.jsxs("div",{className:"step-content",children:[e.jsx("strong",{children:"Calculate sample means"}),e.jsx("p",{children:"Compute the mean of each sample"})]})]}),e.jsxs("div",{className:"step",children:[e.jsx("div",{className:"step-number",children:"4"}),e.jsxs("div",{className:"step-content",children:[e.jsx("strong",{children:"Watch the magic"}),e.jsx("p",{children:"Sample means form a normal distribution, regardless of original shape!"})]})]})]})})]})]})]}),e.jsxs("div",{className:"explanation-section",children:[e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Understanding the Central Limit Theorem"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"explanation-content",children:[e.jsx("h4",{children:"What is the Central Limit Theorem?"}),e.jsx("p",{children:"The Central Limit Theorem (CLT) is one of the most important theorems in statistics. It states that when you take repeated samples from any population and calculate the sample means, those means will form a normal (bell-shaped) distribution, regardless of the original population's shape."}),e.jsx("h4",{children:"Key Concepts"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Sample Mean:"})," The average of observations in a single sample"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Sampling Distribution:"})," The distribution of sample means from repeated sampling"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Standard Error:"})," The standard deviation of the sampling distribution"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Convergence:"})," How sample means approach normality as sample size increases"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Independence:"})," Each sample must be independent of others"]})]}),e.jsx("h4",{children:"Real-World Applications"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Quality Control:"})," Monitoring manufacturing processes and detecting defects"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Medical Research:"})," Testing drug effectiveness across patient groups"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Market Research:"})," Estimating customer satisfaction from survey samples"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Financial Analysis:"})," Risk assessment and portfolio optimization"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Election Polling:"})," Predicting election outcomes from voter samples"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Scientific Studies:"})," Drawing conclusions from experimental data"]})]}),e.jsx("h4",{children:"When the CLT Applies"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Large enough samples:"})," Generally n ≥ 30, but depends on population shape"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Independent observations:"})," Each sample point doesn't influence others"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Finite variance:"})," Population has a defined standard deviation"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Random sampling:"})," Each observation has equal chance of selection"]})]})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Distribution Types Explained"})}),e.jsx("div",{className:"card-body",children:e.jsx("div",{className:"distribution-analysis",children:e.jsxs("div",{className:"distribution-grid",children:[e.jsxs("div",{className:"distribution-item",children:[e.jsx("h5",{children:"Uniform Distribution"}),e.jsx("p",{children:"All values are equally likely, like rolling a fair die. This creates a flat distribution where every outcome has the same probability. Despite this flat shape, sample means still converge to normality."}),e.jsxs("div",{className:"distribution-examples",children:[e.jsx("strong",{children:"Examples:"})," Dice rolls, lottery numbers, random number generation"]})]}),e.jsxs("div",{className:"distribution-item",children:[e.jsx("h5",{children:"Exponential Distribution"}),e.jsx("p",{children:"Highly skewed with most values near zero and a long tail. Common in waiting times, service durations, and failure times. The CLT still applies despite the extreme skewness."}),e.jsxs("div",{className:"distribution-examples",children:[e.jsx("strong",{children:"Examples:"})," Customer service wait times, equipment failure times, radioactive decay"]})]}),e.jsxs("div",{className:"distribution-item",children:[e.jsx("h5",{children:"Bimodal Distribution"}),e.jsx("p",{children:"Two distinct peaks, like combining two different populations. Despite having two modes, sample means from this distribution still form a normal distribution."}),e.jsxs("div",{className:"distribution-examples",children:[e.jsx("strong",{children:"Examples:"})," Heights of men and women combined, test scores from two classes"]})]}),e.jsxs("div",{className:"distribution-item",children:[e.jsx("h5",{children:"Right-Skewed Distribution"}),e.jsx("p",{children:"Most values are low with a few very high values. Common in income, house prices, and other economic data. The CLT works even with this extreme asymmetry."}),e.jsxs("div",{className:"distribution-examples",children:[e.jsx("strong",{children:"Examples:"})," Income distribution, house prices, company revenues"]})]}),e.jsxs("div",{className:"distribution-item",children:[e.jsx("h5",{children:"Normal Distribution"}),e.jsx("p",{children:"The classic bell curve. When sampling from a normal distribution, sample means are also normally distributed, but with different parameters."}),e.jsxs("div",{className:"distribution-examples",children:[e.jsx("strong",{children:"Examples:"})," Heights, test scores, measurement errors, IQ scores"]})]})]})})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Mathematical Foundation"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"mathematical-content",children:[e.jsx("h4",{children:"The CLT Formula"}),e.jsxs("div",{className:"formula-box",children:[e.jsx("p",{children:"If X₁, X₂, ..., Xₙ are independent random variables from any distribution with mean μ and variance σ², then:"}),e.jsx("div",{className:"formula",children:e.jsx("strong",{children:"X̄ ~ N(μ, σ²/n)"})}),e.jsx("p",{children:"Where X̄ is the sample mean and n is the sample size."})]}),e.jsx("h4",{children:"Key Mathematical Properties"}),e.jsxs("div",{className:"properties-grid",children:[e.jsxs("div",{className:"property-item",children:[e.jsx("h5",{children:"Mean of Sample Means"}),e.jsxs("p",{children:["The mean of the sampling distribution equals the population mean: ",e.jsx("strong",{children:"μₓ̄ = μ"})]})]}),e.jsxs("div",{className:"property-item",children:[e.jsx("h5",{children:"Standard Error"}),e.jsxs("p",{children:["The standard deviation of sample means: ",e.jsx("strong",{children:"σₓ̄ = σ/√n"})]})]}),e.jsxs("div",{className:"property-item",children:[e.jsx("h5",{children:"Convergence Rate"}),e.jsx("p",{children:"Larger sample sizes lead to faster convergence to normality"})]}),e.jsxs("div",{className:"property-item",children:[e.jsx("h5",{children:"Shape Independence"}),e.jsx("p",{children:"The original distribution shape doesn't affect the final normal shape"})]})]}),e.jsx("h4",{children:"Practical Implications"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Confidence Intervals:"})," We can estimate population parameters using sample statistics"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Hypothesis Testing:"})," Test claims about population parameters using sample data"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Quality Control:"})," Monitor processes and detect when they go out of control"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Risk Assessment:"})," Model uncertainty in financial and business decisions"]})]})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Limitations and Best Practices"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"limitations-content",children:[e.jsx("h4",{children:"When the CLT Works Well"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Large samples:"})," Generally n ≥ 30, but may need larger n for very skewed distributions"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Independent observations:"})," Each sample point doesn't influence others"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Finite variance:"})," Population has a defined standard deviation"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Random sampling:"})," Each observation has equal chance of selection"]})]}),e.jsx("h4",{children:"Common Limitations"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Small samples:"})," CLT may not apply with very small sample sizes"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Heavy tails:"})," Distributions with extreme outliers may need larger samples"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Dependent data:"})," Time series or clustered data violates independence"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Infinite variance:"})," Some distributions don't have finite variance"]})]}),e.jsx("h4",{children:"Best Practices"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Check assumptions:"})," Verify independence and random sampling"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Use appropriate sample sizes:"})," Larger n for more skewed distributions"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Visualize your data:"})," Plot histograms to check for normality"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Consider alternatives:"})," Use non-parametric methods when CLT doesn't apply"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Bootstrap methods:"})," Alternative approach for small or non-normal samples"]})]}),e.jsx("h4",{children:"Alternative Approaches"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Bootstrap sampling:"})," Resample from your data to estimate sampling distribution"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Non-parametric tests:"})," Use methods that don't assume normality"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Transformations:"})," Apply log or other transformations to achieve normality"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Robust statistics:"})," Use methods less sensitive to outliers"]})]})]})})]})]}),e.jsx("section",{className:"copyright-section",children:e.jsx("div",{className:"copyright-notice",children:e.jsx("p",{children:"© 2025, Todd Brous. All rights reserved."})})})]})})},Gw=()=>{const n=_.useRef(null),[i,r]=_.useState("height"),[c,o]=_.useState(170),[h,f]=_.useState(10),[p,x]=_.useState(1e3),[m,g]=_.useState(!0),[y,j]=_.useState(!0),[w,B]=_.useState(!0),[M,R]=_.useState(!1),[z,H]=_.useState([]),[F,L]=_.useState({}),O={height:{name:"Human Height",description:"Adult male height distribution - classic example of normal distribution",mean:170,stdDev:10,color:"#3b82f6",realWorldContext:"Height follows normal distribution due to genetic and environmental factors combining additively"},iq:{name:"IQ Scores",description:"Intelligence quotient scores with mean 100 and standard deviation 15",mean:100,stdDev:15,color:"#10b981",realWorldContext:"IQ tests are designed to follow normal distribution for standardized comparison"},temperature:{name:"Body Temperature",description:"Human body temperature in Celsius with slight variation",mean:36.8,stdDev:.4,color:"#f59e0b",realWorldContext:"Body temperature varies normally around the set point due to homeostatic mechanisms"},test:{name:"Test Scores",description:"Standardized test scores with mean 75 and standard deviation 12",mean:75,stdDev:12,color:"#ef4444",realWorldContext:"Educational assessments are designed to create normal distributions for fair comparison"},weight:{name:"Birth Weight",description:"Newborn baby weights in grams",mean:3200,stdDev:500,color:"#8b5cf6",realWorldContext:"Birth weight follows normal distribution due to multiple genetic and environmental factors"}},V={height:{meanMin:140,meanMax:200,stdDevMin:5,stdDevMax:20},iq:{meanMin:70,meanMax:130,stdDevMin:5,stdDevMax:25},temperature:{meanMin:35,meanMax:39,stdDevMin:.1,stdDevMax:1},test:{meanMin:40,meanMax:100,stdDevMin:5,stdDevMax:20},weight:{meanMin:2e3,meanMax:4500,stdDevMin:200,stdDevMax:800}},Q={height:{min:120,max:220,unit:"cm"},iq:{min:40,max:160,unit:"IQ Score"},temperature:{min:34,max:40,unit:"°C"},test:{min:20,max:120,unit:"Points"},weight:{min:1e3,max:5e3,unit:"grams"}},se=(G,K,ae)=>{const E=[];for(let k=0;k<ae;k+=2){const b=Math.random(),D=Math.random(),Y=Math.sqrt(-2*Math.log(b))*Math.cos(2*Math.PI*D),U=Math.sqrt(-2*Math.log(b))*Math.sin(2*Math.PI*D);E.push(G+K*Y),k+1<ae&&E.push(G+K*U)}return E},q=(G,K,ae)=>{const E=1/(ae*Math.sqrt(2*Math.PI)),k=-Math.pow(G-K,2)/(2*Math.pow(ae,2));return E*Math.exp(k)},J=G=>{const K=[...G].sort((E,k)=>E-k),ae=K.length;return{"5th":K[Math.floor(.05*ae)],"10th":K[Math.floor(.1*ae)],"25th":K[Math.floor(.25*ae)],"50th":K[Math.floor(.5*ae)],"75th":K[Math.floor(.75*ae)],"90th":K[Math.floor(.9*ae)],"95th":K[Math.floor(.95*ae)]}};return _.useEffect(()=>{const G=se(c,h,p);H(G),L(J(G))},[c,h,p]),_.useEffect(()=>{const G=O[i];G&&(o(G.mean),f(G.stdDev))},[i]),_.useEffect(()=>{if(!n.current||z.length===0)return;const G=Ee(n.current);G.selectAll("*").remove();const K=800,ae=500,E={top:40,right:40,bottom:60,left:60};G.attr("width",K).attr("height",ae).style("border","1px solid #e5e7eb").style("border-radius","8px").style("background","white");const k=Q[i],b=k.min,D=k.max,Y=Ke().domain([b,D]).range([E.left,K-E.right]),U=Ke().domain([0,1]).range([ae-E.bottom,E.top]),N=rt(Y).tickFormat(Ns(".1f")),T=ct(U).tickFormat(Ns(".2f"));if(G.append("g").attr("transform",`translate(0, ${ae-E.bottom})`).call(N).selectAll("text").style("font-size","12px").style("fill","#6b7280"),G.append("g").attr("transform",`translate(${E.left}, 0)`).call(T).selectAll("text").style("font-size","12px").style("fill","#6b7280"),G.append("text").attr("x",K/2).attr("y",ae-10).attr("text-anchor","middle").style("font-size","14px").style("font-weight","600").style("fill","#374151").text(`Value (${Q[i].unit})`),G.append("text").attr("x",15).attr("y",ae/2).attr("text-anchor","middle").attr("transform","rotate(-90, 15, "+ae/2+")").style("font-size","14px").style("font-weight","600").style("fill","#374151").text("Density"),y){const P=Xr().domain([b,D]).thresholds(30)(z),X=Zi(P,A=>A.length)||1;G.selectAll(".histogram-bar").data(P).enter().append("rect").attr("class","histogram-bar").attr("x",A=>Y(A.x0||0)).attr("y",A=>U(A.length/X)).attr("width",A=>Y(A.x1||0)-Y(A.x0||0)).attr("height",A=>ae-E.bottom-U(A.length/X)).style("fill",O[i].color).style("opacity",.6).style("stroke","#ffffff").style("stroke-width","1px")}if(m){const I=rs().x(A=>Y(A.x)).y(A=>U(A.y)),P=[],X=(D-b)/200;for(let A=b;A<=D;A+=X){const te=q(A,c,h);P.push({x:A,y:te})}G.append("path").datum(P).attr("d",I).style("fill","none").style("stroke","#ef4444").style("stroke-width","3px").style("stroke-dasharray","5,5")}if(w){const P=Xr().domain([b,D]).thresholds(30)(z),X=Zi(P,ee=>ee.length)||1,A=rs().x(ee=>Y(ee.x)).y(ee=>U(ee.y)).curve(rg),te=P.map(ee=>({x:(ee.x0+ee.x1)/2,y:ee.length/X}));G.append("path").datum(te).attr("d",A).style("fill","none").style("stroke",O[i].color).style("stroke-width","3px")}M&&Object.entries(F).forEach(([P,X])=>{const A=Y(X);G.append("line").attr("x1",A).attr("y1",E.top).attr("x2",A).attr("y2",ae-E.bottom).style("stroke","#f59e0b").style("stroke-width","2px").style("stroke-dasharray","3,3").style("opacity",.7),G.append("text").attr("x",A).attr("y",E.top-10).attr("text-anchor","middle").style("font-size","11px").style("font-weight","600").style("fill","#f59e0b").text(P)}),G.append("line").attr("x1",Y(c)).attr("y1",E.top).attr("x2",Y(c)).attr("y2",ae-E.bottom).style("stroke","#374151").style("stroke-width","2px").style("stroke-dasharray","8,4"),G.append("text").attr("x",Y(c)).attr("y",E.top-10).attr("text-anchor","middle").style("font-size","12px").style("font-weight","600").style("fill","#374151").text("Mean");const C={mean:c.toFixed(2),stdDev:h.toFixed(2),sampleSize:z.length,empiricalMean:(z.reduce((I,P)=>I+P,0)/z.length).toFixed(2),empiricalStdDev:Math.sqrt(z.reduce((I,P)=>I+Math.pow(P-c,2),0)/z.length).toFixed(2)};G.append("text").attr("x",K-E.right-10).attr("y",E.top+20).attr("text-anchor","end").style("font-size","12px").style("font-weight","600").style("fill","#374151").text(`μ = ${C.mean}`),G.append("text").attr("x",K-E.right-10).attr("y",E.top+40).attr("text-anchor","end").style("font-size","12px").style("font-weight","600").style("fill","#374151").text(`σ = ${C.stdDev}`),G.append("text").attr("x",K-E.right-10).attr("y",E.top+60).attr("text-anchor","end").style("font-size","12px").style("font-weight","600").style("fill","#374151").text(`n = ${C.sampleSize}`)},[z,c,h,m,y,w,M,i,F]),e.jsx("div",{className:"normal-distribution fade-in",children:e.jsxs("div",{className:"container",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Normal Distribution Simulator"}),e.jsx("p",{className:"page-description",children:"Explore the most important probability distribution in statistics. See how the bell curve emerges from random processes and understand its fundamental role in data analysis and machine learning."})]}),e.jsxs("div",{className:"simulation-layout",children:[e.jsxs("div",{className:"visualization-panel",children:[e.jsxs("div",{className:"visualization-header",children:[e.jsx("h2",{className:"visualization-title",children:"Distribution Visualization"}),e.jsxs("div",{className:"distribution-stats",children:[e.jsxs("span",{className:"stat",children:["Mean: ",c.toFixed(2)]}),e.jsxs("span",{className:"stat",children:["Std Dev: ",h.toFixed(2)]}),e.jsxs("span",{className:"stat",children:["Samples: ",p]})]})]}),e.jsx("div",{className:"visualization-container",children:e.jsx("svg",{ref:n,className:"distribution-svg"})})]}),e.jsxs("div",{className:"controls-panel",children:[e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Dataset Selection"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"dataset-controls",children:[e.jsx("label",{className:"label",children:"Choose Dataset"}),e.jsxs("select",{value:i,onChange:G=>r(G.target.value),className:"input",children:[e.jsx("option",{value:"height",children:"Human Height"}),e.jsx("option",{value:"iq",children:"IQ Scores"}),e.jsx("option",{value:"temperature",children:"Body Temperature"}),e.jsx("option",{value:"test",children:"Test Scores"}),e.jsx("option",{value:"weight",children:"Birth Weight"})]}),e.jsx("p",{className:"dataset-description",children:O[i]?.description}),e.jsxs("div",{className:"dataset-context",children:[e.jsx("strong",{children:"Real-world context:"})," ",O[i]?.realWorldContext]})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Distribution Parameters"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"parameter-controls",children:[e.jsxs("div",{className:"input-group",children:[e.jsx("label",{className:"label",children:"Mean (μ)"}),e.jsx("input",{type:"range",min:V[i].meanMin,max:V[i].meanMax,step:i==="temperature"?"0.1":"1",value:c,onChange:G=>o(parseFloat(G.target.value)),className:"slider"}),e.jsxs("span",{className:"value-display",children:[c.toFixed(i==="temperature"?1:0)," ",Q[i].unit]}),e.jsx("small",{className:"parameter-help",children:"Center of the distribution"})]}),e.jsxs("div",{className:"input-group",children:[e.jsx("label",{className:"label",children:"Standard Deviation (σ)"}),e.jsx("input",{type:"range",min:V[i].stdDevMin,max:V[i].stdDevMax,step:i==="temperature"?"0.1":"1",value:h,onChange:G=>f(parseFloat(G.target.value)),className:"slider"}),e.jsxs("span",{className:"value-display",children:[h.toFixed(i==="temperature"?1:0)," ",Q[i].unit]}),e.jsx("small",{className:"parameter-help",children:"Spread of the distribution"})]}),e.jsxs("div",{className:"input-group",children:[e.jsx("label",{className:"label",children:"Sample Size"}),e.jsx("input",{type:"range",min:"100",max:"5000",step:"100",value:p,onChange:G=>x(parseInt(G.target.value)),className:"slider"}),e.jsx("span",{className:"value-display",children:p}),e.jsx("small",{className:"parameter-help",children:"Number of data points to generate"})]})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Visualization Options"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"visualization-controls",children:[e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:m,onChange:G=>g(G.target.checked)}),e.jsx("span",{className:"checkmark"}),"Show Theoretical Curve"]}),e.jsx("small",{className:"control-help",children:"Display the mathematical normal distribution curve"}),e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:y,onChange:G=>j(G.target.checked)}),e.jsx("span",{className:"checkmark"}),"Show Histogram"]}),e.jsx("small",{className:"control-help",children:"Display data as histogram bars"}),e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:w,onChange:G=>B(G.target.checked)}),e.jsx("span",{className:"checkmark"}),"Show Empirical Curve"]}),e.jsx("small",{className:"control-help",children:"Display smoothed curve from actual data"}),e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:M,onChange:G=>R(G.target.checked)}),e.jsx("span",{className:"checkmark"}),"Show Percentiles"]}),e.jsx("small",{className:"control-help",children:"Display percentile markers (5th, 25th, 50th, 75th, 95th)"})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Distribution Statistics"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"statistics-display",children:[e.jsxs("div",{className:"statistic-item",children:[e.jsx("span",{className:"statistic-label",children:"Theoretical Mean:"}),e.jsx("span",{className:"statistic-value",children:c.toFixed(2)})]}),e.jsxs("div",{className:"statistic-item",children:[e.jsx("span",{className:"statistic-label",children:"Empirical Mean:"}),e.jsx("span",{className:"statistic-value",children:(z.reduce((G,K)=>G+K,0)/z.length).toFixed(2)})]}),e.jsxs("div",{className:"statistic-item",children:[e.jsx("span",{className:"statistic-label",children:"Theoretical Std Dev:"}),e.jsx("span",{className:"statistic-value",children:h.toFixed(2)})]}),e.jsxs("div",{className:"statistic-item",children:[e.jsx("span",{className:"statistic-label",children:"Empirical Std Dev:"}),e.jsx("span",{className:"statistic-value",children:Math.sqrt(z.reduce((G,K)=>G+Math.pow(K-c,2),0)/z.length).toFixed(2)})]})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Percentiles"})}),e.jsx("div",{className:"card-body",children:e.jsx("div",{className:"percentiles-display",children:Object.entries(F).map(([G,K])=>e.jsxs("div",{className:"percentile-item",children:[e.jsxs("span",{className:"percentile-label",children:[G," Percentile:"]}),e.jsx("span",{className:"percentile-value",children:K.toFixed(2)})]},G))})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"How It Works"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"explanation-steps",children:[e.jsxs("div",{className:"step",children:[e.jsx("div",{className:"step-number",children:"1"}),e.jsxs("div",{className:"step-content",children:[e.jsx("strong",{children:"Generate random data"}),e.jsx("p",{children:"Use Box-Muller transform to generate normally distributed random numbers"})]})]}),e.jsxs("div",{className:"step",children:[e.jsx("div",{className:"step-number",children:"2"}),e.jsxs("div",{className:"step-content",children:[e.jsx("strong",{children:"Create histogram"}),e.jsx("p",{children:"Group data into bins and count frequencies"})]})]}),e.jsxs("div",{className:"step",children:[e.jsx("div",{className:"step-number",children:"3"}),e.jsxs("div",{className:"step-content",children:[e.jsx("strong",{children:"Compare with theory"}),e.jsx("p",{children:"Overlay the mathematical normal distribution curve"})]})]}),e.jsxs("div",{className:"step",children:[e.jsx("div",{className:"step-number",children:"4"}),e.jsxs("div",{className:"step-content",children:[e.jsx("strong",{children:"Analyze statistics"}),e.jsx("p",{children:"Calculate mean, standard deviation, and percentiles"})]})]})]})})]})]})]}),e.jsxs("div",{className:"explanation-section",children:[e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"How to Use This Simulation"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"usage-instructions",children:[e.jsx("h4",{children:"Interactive Controls"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Dataset Selection:"})," Choose from real-world examples like human height, IQ scores, or body temperature"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Parameters:"})," Adjust the mean (μ) and standard deviation (σ) to see how they affect the curve shape"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Sample Size:"})," Change the number of data points to see how sample size affects the histogram"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Visualization Options:"})," Toggle between theoretical curve, histogram, empirical curve, and percentiles"]})]}),e.jsx("h4",{children:"Key Features to Explore"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Bell Curve Shape:"})," Notice how the curve is symmetric around the mean"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Standard Deviation Effect:"})," Wider curves indicate more spread in the data"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"68-95-99.7 Rule:"})," Approximately 68% of data falls within 1 standard deviation of the mean"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Percentiles:"})," Use the percentile markers to understand data distribution"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Theoretical vs Empirical:"})," Compare the mathematical curve with actual generated data"]})]})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Understanding the Normal Distribution"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"explanation-content",children:[e.jsx("h4",{children:"What is the Normal Distribution?"}),e.jsx("p",{children:"The normal distribution, also known as the Gaussian distribution, is the most important probability distribution in statistics. It's characterized by its bell-shaped curve and is defined by just two parameters: the mean (μ) and standard deviation (σ)."}),e.jsx("h4",{children:"Mathematical Formula"}),e.jsx("div",{className:"formula",children:"f(x) = (1/σ√(2π)) × e^(-(x-μ)²/(2σ²))"}),e.jsx("h4",{children:"Key Properties"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Symmetric:"})," The curve is perfectly symmetric around the mean"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Bell-shaped:"})," Highest density at the mean, decreasing toward tails"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"68-95-99.7 Rule:"})," 68% within 1σ, 95% within 2σ, 99.7% within 3σ"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Central Limit Theorem:"})," Sums of random variables tend to be normal"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Maximum Entropy:"})," Normal distribution has maximum entropy for given mean and variance"]})]}),e.jsx("h4",{children:"Understanding the Mean (μ) - The Center of the Universe"}),e.jsxs("div",{className:"concept-explanation",children:[e.jsx("h5",{children:"What is the Mean?"}),e.jsx("p",{children:`The mean is the "average" value - the balancing point of your data. Think of it like the center of gravity on a seesaw. If you placed all your data points on a number line, the mean is where you'd put the fulcrum to make the seesaw perfectly balanced.`}),e.jsx("h5",{children:"How to Calculate the Mean"}),e.jsxs("div",{className:"calculation-steps",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Step 1:"})," Add up all your numbers"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Step 2:"})," Count how many numbers you have"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Step 3:"})," Divide the sum by the count"]}),e.jsx("div",{className:"formula",children:"Mean = (Sum of all values) ÷ (Number of values)"})]}),e.jsx("h5",{children:"Intuitive Understanding"}),e.jsxs("div",{className:"intuitive-examples",children:[e.jsxs("div",{className:"example-item",children:[e.jsx("h6",{children:"Real Estate Example:"}),e.jsxs("p",{children:["If you have house prices: $200k, $300k, $400k, $500k, $600k",e.jsx("br",{}),"Mean = ($200k + $300k + $400k + $500k + $600k) ÷ 5 = $400k",e.jsx("br",{}),e.jsx("em",{children:'The "typical" house price is $400k - this is your center point.'})]})]}),e.jsxs("div",{className:"example-item",children:[e.jsx("h6",{children:"Test Scores Example:"}),e.jsxs("p",{children:["If students scored: 70, 80, 85, 90, 95",e.jsx("br",{}),"Mean = (70 + 80 + 85 + 90 + 95) ÷ 5 = 84",e.jsx("br",{}),e.jsx("em",{children:'The "average" student scored 84 - this represents the class performance.'})]})]})]}),e.jsx("h5",{children:"Why the Mean Matters in Normal Distributions"}),e.jsx("p",{children:"In a normal distribution, the mean is where the bell curve peaks - it's the most likely value. The curve is perfectly symmetric around the mean, meaning:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Half the data falls below the mean, half above"}),e.jsx("li",{children:'The mean is the "typical" or "expected" value'}),e.jsx("li",{children:"It's the center of the 68-95-99.7 rule"})]})]}),e.jsx("h4",{children:"Understanding Standard Deviation (σ) - The Measure of Spread"}),e.jsxs("div",{className:"concept-explanation",children:[e.jsx("h5",{children:"What is Standard Deviation?"}),e.jsx("p",{children:`Standard deviation tells you how "spread out" your data is. Think of it as measuring the "typical distance" that data points are from the mean. It's like measuring how far people typically sit from the center of a room.`}),e.jsx("h5",{children:"How to Calculate Standard Deviation"}),e.jsxs("div",{className:"calculation-steps",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Step 1:"})," Find the mean of your data"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Step 2:"})," For each data point, find how far it is from the mean (subtract mean from each value)"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Step 3:"})," Square each of these differences (this makes them all positive)"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Step 4:"})," Find the average of these squared differences (this is called variance)"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Step 5:"})," Take the square root of the variance"]}),e.jsx("div",{className:"formula",children:"σ = √(Σ(x - μ)² ÷ n)"})]}),e.jsx("h5",{children:"Intuitive Understanding"}),e.jsxs("div",{className:"intuitive-examples",children:[e.jsxs("div",{className:"example-item",children:[e.jsx("h6",{children:"Dart Throwing Example:"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Small Standard Deviation:"})," All your darts land close to the bullseye",e.jsx("br",{}),e.jsx("strong",{children:"Large Standard Deviation:"})," Your darts are scattered all over the board",e.jsx("br",{}),e.jsx("em",{children:'Standard deviation measures your "consistency" or "accuracy"'})]})]}),e.jsxs("div",{className:"example-item",children:[e.jsx("h6",{children:"Test Scores Example:"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Small σ (σ = 5):"})," Most students scored between 80-90",e.jsx("br",{}),e.jsx("strong",{children:"Large σ (σ = 20):"})," Students scored anywhere from 40-120",e.jsx("br",{}),e.jsx("em",{children:'Standard deviation tells you how "spread out" the grades are'})]})]})]}),e.jsx("h5",{children:"What Standard Deviation Looks Like"}),e.jsx("div",{className:"visual-explanation",children:e.jsxs("div",{className:"std-dev-example",children:[e.jsx("h6",{children:"Small Standard Deviation (σ = 2)"}),e.jsx("p",{children:"Data points are clustered tightly around the mean - the bell curve is tall and narrow"}),e.jsx("h6",{children:"Medium Standard Deviation (σ = 5)"}),e.jsx("p",{children:"Data points are moderately spread out - the bell curve has a moderate width"}),e.jsx("h6",{children:"Large Standard Deviation (σ = 10)"}),e.jsx("p",{children:"Data points are widely scattered - the bell curve is short and wide"})]})}),e.jsx("h5",{children:"The 68-95-99.7 Rule"}),e.jsx("p",{children:"This is the magic of normal distributions! No matter what the mean and standard deviation are:"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"68%"})," of data falls within 1 standard deviation of the mean"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"95%"})," of data falls within 2 standard deviations of the mean"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"99.7%"})," of data falls within 3 standard deviations of the mean"]})]}),e.jsxs("p",{children:[e.jsx("em",{children:"Example:"})," If mean = 100 and σ = 15, then 68% of values are between 85-115, 95% are between 70-130, and 99.7% are between 55-145."]})]}),e.jsx("h4",{children:"Understanding Sample Size (n) - The Power of Numbers"}),e.jsxs("div",{className:"concept-explanation",children:[e.jsx("h5",{children:"What is Sample Size?"}),e.jsx("p",{children:"Sample size is simply how many data points you have. But it's incredibly important! Think of it like taking a survey - the more people you ask, the more confident you can be about your results."}),e.jsx("h5",{children:"Why Sample Size Matters"}),e.jsxs("div",{className:"sample-size-effects",children:[e.jsxs("div",{className:"effect-item",children:[e.jsx("h6",{children:"Small Sample (n = 10)"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Problem:"})," Your histogram might look jagged and irregular",e.jsx("br",{}),e.jsx("strong",{children:"Why:"}),' Not enough data points to fill all the "bins" smoothly',e.jsx("br",{}),e.jsx("strong",{children:"Result:"})," Hard to see the true pattern"]})]}),e.jsxs("div",{className:"effect-item",children:[e.jsx("h6",{children:"Medium Sample (n = 100)"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Improvement:"})," Histogram starts to look more bell-shaped",e.jsx("br",{}),e.jsx("strong",{children:"Why:"})," More data points fill in the gaps",e.jsx("br",{}),e.jsx("strong",{children:"Result:"})," Pattern becomes clearer"]})]}),e.jsxs("div",{className:"effect-item",children:[e.jsx("h6",{children:"Large Sample (n = 1000+)"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Excellent:"})," Histogram looks very smooth and bell-shaped",e.jsx("br",{}),e.jsx("strong",{children:"Why:"})," Lots of data points create a smooth curve",e.jsx("br",{}),e.jsx("strong",{children:"Result:"})," Clear normal distribution pattern emerges"]})]})]}),e.jsx("h5",{children:"The Law of Large Numbers"}),e.jsxs("p",{children:["This is a fundamental principle in statistics: ",e.jsx("strong",{children:"As your sample size increases, your sample statistics get closer to the true population parameters."})]}),e.jsxs("div",{className:"law-examples",children:[e.jsxs("div",{className:"example-item",children:[e.jsx("h6",{children:"Coin Flipping Example:"}),e.jsxs("p",{children:[e.jsx("strong",{children:"10 flips:"})," You might get 7 heads (70%) - not very close to 50%",e.jsx("br",{}),e.jsx("strong",{children:"100 flips:"})," You might get 52 heads (52%) - closer to 50%",e.jsx("br",{}),e.jsx("strong",{children:"1000 flips:"})," You might get 498 heads (49.8%) - very close to 50%",e.jsx("br",{}),e.jsx("em",{children:"More flips = more accurate estimate of true probability"})]})]}),e.jsxs("div",{className:"example-item",children:[e.jsx("h6",{children:"Height Measurement Example:"}),e.jsxs("p",{children:[e.jsx("strong",{children:"10 people:"})," Mean might be 168cm (just by chance)",e.jsx("br",{}),e.jsx("strong",{children:"100 people:"})," Mean might be 171cm (closer to true average)",e.jsx("br",{}),e.jsx("strong",{children:"1000 people:"})," Mean might be 170.2cm (very close to true average)",e.jsx("br",{}),e.jsx("em",{children:"More people = more accurate estimate of true average height"})]})]})]}),e.jsx("h5",{children:"Sample Size vs. Accuracy Trade-off"}),e.jsxs("div",{className:"trade-off-explanation",children:[e.jsx("h6",{children:"The Sweet Spot"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Too Small (n < 30):"})," Results are unreliable, patterns unclear"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Good Size (n = 100-500):"})," Clear patterns, reliable statistics"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Very Large (n > 1000):"})," Excellent accuracy, but diminishing returns"]})]}),e.jsx("h6",{children:"Cost vs. Benefit"}),e.jsx("p",{children:"In real research, larger samples cost more money and time. The goal is to find the minimum sample size that gives you reliable results. For normal distributions, n = 100-500 is usually sufficient to see clear patterns."})]})]}),e.jsx("h4",{children:"Common Student Misconceptions"}),e.jsxs("div",{className:"misconceptions",children:[e.jsxs("div",{className:"misconception-item",children:[e.jsx("h5",{children:'"Mean is always the most common value"'}),e.jsxs("p",{children:[e.jsx("strong",{children:"Truth:"})," Mean is the average, not necessarily the most frequent. In normal distributions, the mean happens to be the most likely value, but this isn't always true for other distributions."]})]}),e.jsxs("div",{className:"misconception-item",children:[e.jsx("h5",{children:'"Standard deviation is just the range divided by 4"'}),e.jsxs("p",{children:[e.jsx("strong",{children:"Truth:"})," Standard deviation measures typical distance from the mean, not the total spread. While there's a rough relationship (range ≈ 4σ for normal distributions), they measure different things."]})]}),e.jsxs("div",{className:"misconception-item",children:[e.jsx("h5",{children:'"Bigger sample size always means better results"'}),e.jsxs("p",{children:[e.jsx("strong",{children:"Truth:"})," While larger samples are generally better, there are diminishing returns. A sample of 1000 isn't necessarily much better than 500, but both are much better than 10."]})]}),e.jsxs("div",{className:"misconception-item",children:[e.jsx("h5",{children:'"If data looks normal, it must be normal"'}),e.jsxs("p",{children:[e.jsx("strong",{children:"Truth:"})," Visual inspection isn't enough. Many distributions can look roughly bell-shaped but aren't truly normal. Statistical tests can help determine if data is actually normal."]})]})]}),e.jsx("h4",{children:"Important: Simulation vs. Real-World Data Analysis"}),e.jsxs("div",{className:"simulation-vs-reality",children:[e.jsxs("div",{className:"reality-explanation",children:[e.jsx("h5",{children:"In the Real World:"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"We don't set parameters:"})," We collect data and discover the mean and standard deviation through analysis"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Data comes first:"})," Scientists measure actual birth weights, heights, IQ scores, etc."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Statistics reveal patterns:"})," We calculate the mean (170cm) and standard deviation (10cm) from real measurements"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Distribution emerges:"})," The normal curve appears naturally from the data"]})]})]}),e.jsxs("div",{className:"simulation-explanation",children:[e.jsx("h5",{children:"In This Simulation:"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"We set parameters:"})," You can adjust the mean and standard deviation to see what happens"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Educational purpose:"})," This helps you understand how these parameters affect the distribution shape"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"What-if scenarios:"}),' "What would the distribution look like if the mean was 180cm instead of 170cm?"']}),e.jsxs("li",{children:[e.jsx("strong",{children:"Conceptual learning:"})," You're learning the relationship between parameters and distribution shape"]})]})]})]}),e.jsxs("div",{className:"real-world-process",children:[e.jsx("h5",{children:"Real-World Statistical Process:"}),e.jsxs("ol",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Collect Data:"})," Measure 1000 newborn babies' weights"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Calculate Statistics:"})," Find mean = 3200g, standard deviation = 500g"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Discover Pattern:"})," The data forms a bell curve around 3200g"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Make Predictions:"})," Use the distribution to predict future birth weights"]})]})]}),e.jsx("h4",{children:"Why is it so Important?"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Natural Phenomena:"})," Many natural processes follow normal distributions"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Statistical Inference:"})," Foundation for hypothesis testing and confidence intervals"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Machine Learning:"})," Assumption in many algorithms (linear regression, neural networks)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Quality Control:"})," Used in manufacturing and process control"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Risk Management:"})," Financial modeling and risk assessment"]})]}),e.jsx("h4",{children:"Real-World Applications"}),e.jsxs("div",{className:"applications-grid",children:[e.jsxs("div",{className:"application-item",children:[e.jsx("h5",{children:"Quality Control"}),e.jsx("p",{children:"Manufacturing processes use normal distributions to set quality standards and detect defects. Control charts monitor whether processes stay within normal variation."})]}),e.jsxs("div",{className:"application-item",children:[e.jsx("h5",{children:"Medical Research"}),e.jsx("p",{children:"Clinical trials assume normal distributions for drug effectiveness, blood pressure measurements, and other biological variables to determine statistical significance."})]}),e.jsxs("div",{className:"application-item",children:[e.jsx("h5",{children:"Financial Modeling"}),e.jsx("p",{children:"Stock returns, option pricing, and risk management models often assume normal distributions for portfolio optimization and risk assessment."})]}),e.jsxs("div",{className:"application-item",children:[e.jsx("h5",{children:"Machine Learning"}),e.jsx("p",{children:"Many ML algorithms assume normal distributions in features. Data preprocessing often includes normalization to make data more normally distributed."})]}),e.jsxs("div",{className:"application-item",children:[e.jsx("h5",{children:"Market Research"}),e.jsx("p",{children:"Consumer behavior, survey responses, and market data often follow normal distributions, enabling better predictions and segmentation."})]}),e.jsxs("div",{className:"application-item",children:[e.jsx("h5",{children:"Genetics"}),e.jsx("p",{children:"Many genetic traits follow normal distributions due to the combined effect of multiple genes, making it crucial for genetic research and personalized medicine."})]})]})]})})]}),i==="height"&&e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Human Height Distribution - Real-World Analysis"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"dataset-analysis",children:[e.jsx("h4",{children:"Why Height Follows Normal Distribution"}),e.jsx("p",{children:"Human height is one of the best examples of normal distribution in nature. This occurs because height is influenced by many independent factors (genetics, nutrition, environment) that combine additively, satisfying the conditions of the Central Limit Theorem."}),e.jsxs("div",{className:"insights-grid",children:[e.jsxs("div",{className:"insight-item",children:[e.jsx("h5",{children:"Genetic Factors"}),e.jsx("p",{children:"Height is influenced by hundreds of genes, each contributing a small amount. The combined effect of these genetic factors creates a normal distribution."})]}),e.jsxs("div",{className:"insight-item",children:[e.jsx("h5",{children:"Environmental Factors"}),e.jsx("p",{children:"Nutrition, healthcare, and living conditions also affect height. These factors combine with genetics to create the bell curve."})]}),e.jsxs("div",{className:"insight-item",children:[e.jsx("h5",{children:"Statistical Properties"}),e.jsx("p",{children:"Adult male height typically has mean ~170cm and standard deviation ~10cm. This means 68% of men are between 160-180cm tall."})]})]}),e.jsxs("div",{className:"business-applications",children:[e.jsx("h4",{children:"Practical Applications"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Clothing Industry:"})," Size charts based on normal distribution of body measurements"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Furniture Design:"})," Ergonomic designs for average height ranges"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Sports Analytics:"})," Performance analysis and talent identification"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Medical Screening:"})," Growth charts and health assessments"]})]})]})]})})]}),i==="iq"&&e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"IQ Scores - Standardized Intelligence Testing"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"dataset-analysis",children:[e.jsx("h4",{children:"Understanding IQ Score Distribution"}),e.jsx("p",{children:"IQ tests are specifically designed to produce normal distributions with mean 100 and standard deviation 15. This standardization allows for meaningful comparisons across different populations and age groups."}),e.jsxs("div",{className:"insights-grid",children:[e.jsxs("div",{className:"insight-item",children:[e.jsx("h5",{children:"Test Design"}),e.jsx("p",{children:"IQ tests are carefully calibrated to ensure normal distribution. Questions are selected and weighted to create the desired statistical properties."})]}),e.jsxs("div",{className:"insight-item",children:[e.jsx("h5",{children:"Score Interpretation"}),e.jsx("p",{children:"Scores are interpreted relative to the normal distribution: 68% score between 85-115, 95% between 70-130, and 99.7% between 55-145."})]}),e.jsxs("div",{className:"insight-item",children:[e.jsx("h5",{children:"Research Applications"}),e.jsx("p",{children:"Normal distribution enables statistical analysis in psychology, education research, and cognitive science studies."})]})]}),e.jsxs("div",{className:"business-applications",children:[e.jsx("h4",{children:"Real-World Applications"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Educational Assessment:"})," Identifying learning needs and gifted programs"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Clinical Psychology:"})," Diagnosing cognitive impairments and developmental disorders"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Employment Testing:"})," Job placement and career counseling"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Research Studies:"})," Cognitive development and intelligence research"]})]})]})]})})]}),i==="temperature"&&e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Body Temperature - Biological Homeostasis"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"dataset-analysis",children:[e.jsx("h4",{children:"Why Body Temperature is Normally Distributed"}),e.jsx("p",{children:"Human body temperature follows a normal distribution around 36.8°C (98.2°F) with small standard deviation due to homeostatic mechanisms. This tight control is essential for optimal physiological function."}),e.jsxs("div",{className:"insights-grid",children:[e.jsxs("div",{className:"insight-item",children:[e.jsx("h5",{children:"Medical Significance"}),e.jsx("p",{children:"Normal body temperature range is 36.1-37.2°C (97-99°F). Temperatures outside this range may indicate illness or infection."})]}),e.jsxs("div",{className:"insight-item",children:[e.jsx("h5",{children:"Homeostatic Control"}),e.jsx("p",{children:"The body maintains temperature through sweating, shivering, and blood vessel dilation. These mechanisms keep temperature within narrow normal ranges."})]}),e.jsxs("div",{className:"insight-item",children:[e.jsx("h5",{children:"Clinical Applications"}),e.jsx("p",{children:"Understanding normal temperature distribution helps in fever detection, treatment monitoring, and medical diagnosis."})]})]}),e.jsxs("div",{className:"business-applications",children:[e.jsx("h4",{children:"Healthcare Applications"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Medical Diagnosis:"})," Fever detection and illness monitoring"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Clinical Research:"})," Drug effectiveness and treatment outcomes"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Public Health:"})," Disease surveillance and outbreak detection"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Wearable Technology:"})," Continuous health monitoring devices"]})]})]})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Limitations and Best Practices"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"limitations-content",children:[e.jsx("h4",{children:"When Normal Distribution Assumptions Work"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Large sample sizes:"})," Central Limit Theorem applies with sufficient data"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Independent observations:"})," Data points don't influence each other"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Additive factors:"})," Multiple independent factors combine linearly"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Continuous variables:"})," Measurements that can take any value in a range"]})]}),e.jsx("h4",{children:"Common Limitations"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Skewed data:"})," Income, house prices often have long right tails"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Bounded variables:"})," Percentages, proportions have natural limits"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Small samples:"})," May not follow normal distribution"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Outliers:"})," Extreme values can distort the distribution"]})]}),e.jsx("h4",{children:"Best Practices"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Check assumptions:"})," Use Q-Q plots and normality tests"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Transform data:"})," Log, square root, or Box-Cox transformations"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Robust methods:"})," Use non-parametric alternatives when appropriate"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Visual inspection:"})," Always plot your data before analysis"]})]}),e.jsx("h4",{children:"Alternative Distributions"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Log-normal:"})," For positively skewed data (income, stock prices)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Exponential:"})," For waiting times and failure rates"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Beta:"})," For proportions and percentages"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Gamma:"})," For skewed positive data"]})]})]})})]})]}),e.jsx("section",{className:"copyright-section",children:e.jsx("div",{className:"copyright-notice",children:e.jsx("p",{children:"© 2025, Todd Brous. All rights reserved."})})})]})})},$w=()=>{const n=_.useRef(null),[i,r]=_.useState({prior:.1,likelihoodTrue:.9,likelihoodFalse:.1}),[c,o]=_.useState(!0),[h,f]=_.useState(!0),[p,x]=_.useState(!0),[m,g]=_.useState({posterior:0,evidence:0,likelihoodRatio:0}),y=R=>{const{prior:z,likelihoodTrue:H,likelihoodFalse:F}=R,L=H*z+F*(1-z),O=L>0?H*z/L:0,V=F>0?H/F:1/0;return{posterior:O,evidence:L,likelihoodRatio:V}};_.useEffect(()=>{const R=y(i);g(R)},[i]);const j=()=>{if(!n.current)return;const R=Ee(n.current);R.selectAll("*").remove();const z=500,H=600,F={top:30,right:30,bottom:80,left:30},L=z-F.left-F.right,O=H-F.top-F.bottom,V=R.attr("width",z).attr("height",H).append("g").attr("transform",`translate(${F.left},${F.top})`),Q=Math.min(L,O),se=(L-Q)/2,q=(O-Q)/2;V.append("rect").attr("x",se).attr("y",q).attr("width",Q).attr("height",Q).attr("fill","#f8fafc").attr("stroke","#374151").attr("stroke-width",2);const{prior:J,likelihoodTrue:G,likelihoodFalse:K}=i,ae=Q*J,E=se,k=Q*(1-J),b=se+ae,D=Q*G,Y=q+(Q-D),U=Q*K,N=q+(Q-U);if(V.append("rect").attr("x",E).attr("y",q).attr("width",ae).attr("height",Q).attr("fill","#dbeafe").attr("stroke","#3b82f6").attr("stroke-width",1),V.append("rect").attr("x",b).attr("y",q).attr("width",k).attr("height",Q).attr("fill","#fef3c7").attr("stroke","#f59e0b").attr("stroke-width",1),V.append("rect").attr("x",E).attr("y",Y).attr("width",ae).attr("height",D).attr("fill","#3b82f6").attr("opacity",.7).attr("stroke","#1e40af").attr("stroke-width",2),V.append("rect").attr("x",b).attr("y",N).attr("width",k).attr("height",U).attr("fill","#f59e0b").attr("opacity",.7).attr("stroke","#d97706").attr("stroke-width",2),h){V.append("text").attr("x",E+ae/2).attr("y",q+Q/2).attr("text-anchor","middle").attr("font-size","14px").attr("font-weight","bold").attr("fill","#1e40af").text("H is True"),V.append("text").attr("x",E+ae/2).attr("y",Y+D/2).attr("text-anchor","middle").attr("font-size","12px").attr("font-weight","bold").attr("fill","white").text(`P(E|H) = ${G.toFixed(2)}`),V.append("text").attr("x",b+k/2).attr("y",q+Q/2).attr("text-anchor","middle").attr("font-size","14px").attr("font-weight","bold").attr("fill","#d97706").text("H is False"),V.append("text").attr("x",b+k/2).attr("y",N+U/2).attr("text-anchor","middle").attr("font-size","12px").attr("font-weight","bold").attr("fill","white").text(`P(E|¬H) = ${K.toFixed(2)}`),V.append("text").attr("x",se+Q/2).attr("y",q-10).attr("text-anchor","middle").attr("font-size","16px").attr("font-weight","bold").attr("fill","#374151").text(`P(H) = ${J.toFixed(2)}`);const T=D*ae+U*k,C=D*ae,I=T>0?C/T:0;V.append("text").attr("x",se+Q/2).attr("y",q+Q+25).attr("text-anchor","middle").attr("font-size","14px").attr("font-weight","bold").attr("fill","#059669").text(`P(H|E) = ${m.posterior.toFixed(3)}`),V.append("text").attr("x",se+Q/2).attr("y",q+Q+45).attr("text-anchor","middle").attr("font-size","12px").attr("fill","#6b7280").text(`Evidence area: ${(C/(Q*Q)).toFixed(3)} of total`),V.append("text").attr("x",se+Q/2).attr("y",q+Q+65).attr("text-anchor","middle").attr("font-size","12px").attr("fill","#6b7280").text(`From H: ${(I*100).toFixed(1)}% of evidence area`)}c&&(V.append("line").attr("x1",b).attr("y1",q).attr("x2",b).attr("y2",q+Q).attr("stroke","#374151").attr("stroke-width",2).attr("stroke-dasharray","5,5"),D>0&&V.append("line").attr("x1",E).attr("y1",Y).attr("x2",E+ae).attr("y2",Y).attr("stroke","#1e40af").attr("stroke-width",2).attr("stroke-dasharray","3,3"),U>0&&V.append("line").attr("x1",b).attr("y1",N).attr("x2",b+k).attr("y2",N).attr("stroke","#d97706").attr("stroke-width",2).attr("stroke-dasharray","3,3"))};_.useEffect(()=>{j()},[i,m,c,h]);const w=(R,z)=>{r(H=>({...H,[R]:z}))},B=()=>{r({prior:.1,likelihoodTrue:.9,likelihoodFalse:.1})},M=R=>{switch(R){case"medical-test":r({prior:.01,likelihoodTrue:.95,likelihoodFalse:.05});break;case"spam-filter":r({prior:.3,likelihoodTrue:.8,likelihoodFalse:.1});break;case"coin-bias":r({prior:.5,likelihoodTrue:.6,likelihoodFalse:.5});break}};return e.jsx("div",{className:"bayes-theorem fade-in",children:e.jsxs("div",{className:"container",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Bayes' Theorem Simulator"}),e.jsx("p",{className:"page-description",children:"Learn how to update your beliefs when you get new information! Bayes' theorem is one of the most important concepts in statistics and data science. This interactive tool will help you understand how to combine what you already know with new evidence to make better decisions."})]}),e.jsxs("div",{className:"simulation-layout",children:[e.jsxs("div",{className:"visualization-panel",children:[e.jsxs("div",{className:"visualization-header",children:[e.jsx("h2",{className:"visualization-title",children:"Bayes' Theorem Visualization"}),e.jsxs("div",{className:"visualization-controls",children:[e.jsxs("label",{className:"control-label",children:[e.jsx("input",{type:"checkbox",checked:c,onChange:R=>o(R.target.checked)}),"Show Grid"]}),e.jsxs("label",{className:"control-label",children:[e.jsx("input",{type:"checkbox",checked:h,onChange:R=>f(R.target.checked)}),"Show Labels"]}),e.jsxs("label",{className:"control-label",children:[e.jsx("input",{type:"checkbox",checked:p,onChange:R=>x(R.target.checked)}),"Show Formula"]})]})]}),e.jsxs("div",{className:"visualization-container",children:[e.jsx("svg",{ref:n,className:"simulation-svg"}),p&&e.jsxs("div",{className:"formula-display",children:[e.jsx("div",{className:"formula-title",children:"Bayes' Theorem:"}),e.jsx("div",{className:"formula-text",children:"P(H|E) = P(E|H) × P(H) / P(E)"}),e.jsxs("div",{className:"formula-breakdown",children:[e.jsxs("div",{children:["P(H|E) = ",i.likelihoodTrue.toFixed(2)," × ",i.prior.toFixed(2)," / ",m.evidence.toFixed(2)]}),e.jsxs("div",{children:["= ",m.posterior.toFixed(4)]})]})]}),e.jsx("div",{className:"formula-image-container",children:e.jsx("img",{src:"https://raw.githubusercontent.com/untwist/bayes/main/Bayes%20Theorem%20Formula%20v2.jpg",alt:"Bayes Theorem Formula Visualization",className:"formula-image"})})]})]}),e.jsxs("div",{className:"controls-panel",children:[e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Bayes Parameters"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"parameter-controls",children:[e.jsxs("div",{className:"input-group",children:[e.jsxs("label",{className:"label",children:[e.jsx("strong",{children:"Prior P(H)"})," - Your initial belief",e.jsx("div",{className:"parameter-description",children:"How likely did you think the hypothesis was true before seeing any evidence?"})]}),e.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:i.prior,onChange:R=>w("prior",parseFloat(R.target.value)),className:"slider"}),e.jsxs("span",{className:"value-display",children:[(i.prior*100).toFixed(0),"%"]})]}),e.jsxs("div",{className:"input-group",children:[e.jsxs("label",{className:"label",children:[e.jsx("strong",{children:"Likelihood P(E|H)"})," - Evidence if true",e.jsx("div",{className:"parameter-description",children:"How likely is the evidence if the hypothesis is actually true?"})]}),e.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:i.likelihoodTrue,onChange:R=>w("likelihoodTrue",parseFloat(R.target.value)),className:"slider"}),e.jsxs("span",{className:"value-display",children:[(i.likelihoodTrue*100).toFixed(0),"%"]})]}),e.jsxs("div",{className:"input-group",children:[e.jsxs("label",{className:"label",children:[e.jsx("strong",{children:"Likelihood P(E|¬H)"})," - Evidence if false",e.jsx("div",{className:"parameter-description",children:"How likely is the evidence if the hypothesis is actually false?"})]}),e.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:i.likelihoodFalse,onChange:R=>w("likelihoodFalse",parseFloat(R.target.value)),className:"slider"}),e.jsxs("span",{className:"value-display",children:[(i.likelihoodFalse*100).toFixed(0),"%"]})]})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Example Scenarios"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"preset-controls",children:[e.jsx("button",{onClick:()=>M("medical-test"),className:"btn btn-outline",children:"Medical Test"}),e.jsx("button",{onClick:()=>M("spam-filter"),className:"btn btn-outline",children:"Spam Filter"}),e.jsx("button",{onClick:()=>M("coin-bias"),className:"btn btn-outline",children:"Coin Bias"}),e.jsx("button",{onClick:B,className:"btn btn-secondary",children:"Reset"})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Your Updated Beliefs"})}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"results-display",children:[e.jsxs("div",{className:"result-item",children:[e.jsxs("span",{className:"result-label",children:[e.jsx("strong",{children:"Posterior P(H|E):"}),e.jsx("br",{}),e.jsx("small",{children:"Your updated belief"})]}),e.jsxs("span",{className:"result-value",children:[(m.posterior*100).toFixed(1),"%"]})]}),e.jsxs("div",{className:"result-item",children:[e.jsxs("span",{className:"result-label",children:[e.jsx("strong",{children:"Evidence P(E):"}),e.jsx("br",{}),e.jsx("small",{children:"Total probability of evidence"})]}),e.jsxs("span",{className:"result-value",children:[(m.evidence*100).toFixed(1),"%"]})]}),e.jsxs("div",{className:"result-item",children:[e.jsxs("span",{className:"result-label",children:[e.jsx("strong",{children:"Likelihood Ratio:"}),e.jsx("br",{}),e.jsx("small",{children:"How much more likely evidence is if H is true"})]}),e.jsx("span",{className:"result-value",children:m.likelihoodRatio.toFixed(2)})]}),e.jsxs("div",{className:"result-item",children:[e.jsxs("span",{className:"result-label",children:[e.jsx("strong",{children:"Update Factor:"}),e.jsx("br",{}),e.jsx("small",{children:"How much your belief changed"})]}),e.jsxs("span",{className:"result-value",children:[(m.posterior/i.prior).toFixed(2),"x"]})]})]}),e.jsxs("div",{className:"interpretation-box",children:[e.jsx("h4",{children:"What This Means:"}),e.jsx("p",{children:m.posterior>i.prior?e.jsxs(e.Fragment,{children:["The evidence supports your hypothesis! Your belief increased from ",(i.prior*100).toFixed(0),"% to ",(m.posterior*100).toFixed(1),"%."]}):m.posterior<i.prior?e.jsxs(e.Fragment,{children:["The evidence weakens your hypothesis. Your belief decreased from ",(i.prior*100).toFixed(0),"% to ",(m.posterior*100).toFixed(1),"%."]}):e.jsxs(e.Fragment,{children:["The evidence is neutral. Your belief stayed the same at ",(m.posterior*100).toFixed(1),"%."]})})]})]})]})]})]}),e.jsx("div",{className:"tutorial-section",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Learn Bayes' Theorem: A Complete Guide"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"tutorial-content",children:[e.jsxs("div",{className:"tutorial-step foundation-step",children:[e.jsx("h4",{children:"Foundation: Understanding Probabilities"}),e.jsx("p",{children:"Before diving into Bayes' theorem, let's make sure you understand what probabilities mean:"}),e.jsxs("div",{className:"probability-basics",children:[e.jsxs("div",{className:"probability-example",children:[e.jsx("strong",{children:"Example:"}),` "There's a 30% chance of rain today"`,e.jsxs("ul",{children:[e.jsx("li",{children:"This means: Out of 100 similar days, it rains on about 30 of them"}),e.jsx("li",{children:"It does NOT mean: It will rain for 30% of the day"})]})]}),e.jsxs("div",{className:"probability-example",children:[e.jsx("strong",{children:"Key Insight:"})," Probabilities are about ",e.jsx("em",{children:"frequency"}),", not certainty"]})]})]}),e.jsxs("div",{className:"tutorial-step",children:[e.jsx("h4",{children:"Step 1: Conditional Probability (The Key Concept)"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Conditional probability"}),` asks: "Given that X happened, what's the chance of Y?"`]}),e.jsxs("div",{className:"conditional-examples",children:[e.jsxs("div",{className:"example-box",children:[e.jsx("strong",{children:"P(Rain | Dark Clouds)"}),` = "What's the chance of rain given that I see dark clouds?"`]}),e.jsxs("div",{className:"example-box",children:[e.jsx("strong",{children:"P(Disease | Positive Test)"}),` = "What's the chance I have the disease given a positive test?"`]})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Common Mistake:"})," P(A|B) ≠ P(B|A). These are completely different!"]})]}),e.jsxs("div",{className:"tutorial-step",children:[e.jsx("h4",{children:"Step 2: The Intuition Behind Bayes' Theorem"}),e.jsxs("p",{children:["Bayes' theorem answers: ",e.jsx("em",{children:'"Given this evidence, how should I update my belief?"'})]}),e.jsxs("div",{className:"intuition-example",children:[e.jsxs("div",{className:"scenario",children:[e.jsx("strong",{children:"Scenario:"})," You're a doctor. A patient tests positive for a rare disease."]}),e.jsxs("div",{className:"thinking-process",children:[e.jsxs("div",{className:"step",children:["1. ",e.jsx("strong",{children:"Start with base rate:"}),' "How common is this disease?" (1% of population)']}),e.jsxs("div",{className:"step",children:["2. ",e.jsx("strong",{children:"Consider the test:"}),' "How accurate is this test?" (95% accurate)']}),e.jsxs("div",{className:"step",children:["3. ",e.jsx("strong",{children:"Update your belief:"}),` "Given the positive test, what's the real probability?"`]})]})]})]}),e.jsxs("div",{className:"tutorial-step",children:[e.jsx("h4",{children:"Step 3: Reading the Visualization"}),e.jsxs("p",{children:["The square above shows ",e.jsx("strong",{children:"all possible outcomes"}),". Here's how to read it:"]}),e.jsxs("div",{className:"visualization-guide",children:[e.jsxs("div",{className:"visual-element",children:[e.jsx("div",{className:"color-box blue"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Left side (blue):"})," When your hypothesis is TRUE"]})]}),e.jsxs("div",{className:"visual-element",children:[e.jsx("div",{className:"color-box yellow"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Right side (yellow):"})," When your hypothesis is FALSE"]})]}),e.jsxs("div",{className:"visual-element",children:[e.jsx("div",{className:"color-box dark-blue"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Dark blue area:"})," Evidence when hypothesis is TRUE"]})]}),e.jsxs("div",{className:"visual-element",children:[e.jsx("div",{className:"color-box orange"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Orange area:"})," Evidence when hypothesis is FALSE"]})]})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"The Answer:"})," P(H|E) = (Dark blue area) ÷ (Total evidence area)"]})]}),e.jsxs("div",{className:"tutorial-step",children:[e.jsx("h4",{children:"Step 4: Practice with Real Examples"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Try these scenarios:"})," Click each button and watch how the areas change."]}),e.jsxs("div",{className:"practice-scenarios",children:[e.jsxs("div",{className:"scenario-card",children:[e.jsx("h5",{children:"Medical Test"}),e.jsx("p",{children:"1% disease rate, 95% accurate test"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Question:"})," If someone tests positive, what's their actual disease probability?"]})]}),e.jsxs("div",{className:"scenario-card",children:[e.jsx("h5",{children:"Spam Filter"}),e.jsx("p",{children:"30% spam rate, 80% detection rate"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Question:"})," If an email is flagged as spam, how confident should you be?"]})]}),e.jsxs("div",{className:"scenario-card",children:[e.jsx("h5",{children:"Coin Bias"}),e.jsx("p",{children:"50% prior belief, testing for bias"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Question:"})," After seeing heads, how likely is the coin biased?"]})]})]})]}),e.jsxs("div",{className:"tutorial-step reflection-step",children:[e.jsx("h4",{children:"Step 5: Check Your Understanding"}),e.jsxs("div",{className:"reflection-questions",children:[e.jsx("p",{children:e.jsx("strong",{children:"Before moving on, ask yourself:"})}),e.jsxs("ul",{children:[e.jsx("li",{children:"Can you explain what P(H|E) means in your own words?"}),e.jsx("li",{children:"Why does the base rate (prior probability) matter so much?"}),e.jsx("li",{children:"What happens to your belief when evidence is more likely under one hypothesis than another?"})]}),e.jsx("div",{className:"confidence-check",children:e.jsxs("p",{children:[e.jsx("strong",{children:"Confidence Check:"})," If you can answer these questions, you're ready for the deep dive!"]})})]})]})]})})]})}),e.jsx("div",{className:"explanation-section",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Deep Dive: The Science Behind Bayes' Theorem"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"explanation-content",children:[e.jsx("h4",{children:"What is Bayes' Theorem?"}),e.jsx("p",{children:"Bayes' theorem is a fundamental principle in probability theory that describes how to update our beliefs about a hypothesis when we receive new evidence. It provides a mathematical framework for combining prior knowledge with new information to arrive at updated beliefs."}),e.jsx("h4",{children:"Key Components"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Prior P(H):"})," Your initial belief about the probability of the hypothesis being true"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Likelihood P(E|H):"})," The probability of observing the evidence if the hypothesis is true"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Likelihood P(E|¬H):"})," The probability of observing the evidence if the hypothesis is false"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Posterior P(H|E):"})," Your updated belief after seeing the evidence"]})]}),e.jsx("h4",{children:"Real-World Applications"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Medical Diagnosis:"})," Updating disease probability based on test results"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Spam Filtering:"})," Determining if an email is spam based on content features"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Machine Learning:"})," Bayesian inference in model training and prediction"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Quality Control:"})," Updating defect probability based on inspection results"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Financial Risk:"})," Updating risk assessments with new market information"]})]}),e.jsx("h4",{children:"Intuitive Understanding"}),e.jsx("p",{children:`Think of Bayes' theorem as a way to "update your beliefs" when you get new information. If you start with a certain belief (prior), and then you see some evidence, Bayes' theorem tells you how much to adjust your belief based on how likely that evidence is under different scenarios.`}),e.jsx("h4",{children:"Why It Matters in AI and Machine Learning"}),e.jsx("p",{children:"Bayes' theorem is crucial in modern AI systems, particularly in:"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Naive Bayes Classifiers:"})," One of the most effective text classification algorithms"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Bayesian Neural Networks:"})," Networks that provide uncertainty estimates"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Reinforcement Learning:"})," Updating action-value estimates based on rewards"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Recommendation Systems:"})," Updating user preference models with new interactions"]})]}),e.jsx("h4",{children:"Common Misconceptions and Pitfalls"}),e.jsx("p",{children:"Many people struggle with Bayesian thinking. Here are the most common mistakes:"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Base Rate Neglect:"})," Ignoring the prior probability and focusing only on the evidence"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Confirmation Bias:"})," Only looking for evidence that supports your existing beliefs"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Overconfidence:"})," Thinking that one piece of evidence is definitive"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"False Precision:"})," Treating probability estimates as more certain than they actually are"]})]}),e.jsx("h4",{children:"Understanding the Math: Step-by-Step"}),e.jsx("p",{children:"Let's break down the formula with a concrete example:"}),e.jsxs("div",{className:"math-example",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Example:"})," Medical test for a rare disease (1% prevalence)"]}),e.jsxs("ul",{children:[e.jsx("li",{children:"P(H) = 0.01 (1% have the disease)"}),e.jsx("li",{children:"P(E|H) = 0.95 (95% test positive if you have the disease)"}),e.jsx("li",{children:"P(E|¬H) = 0.05 (5% false positive rate)"})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Step 1:"})," Calculate P(E) = P(E|H) × P(H) + P(E|¬H) × P(¬H)"]}),e.jsx("p",{children:"P(E) = 0.95 × 0.01 + 0.05 × 0.99 = 0.0095 + 0.0495 = 0.059"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Step 2:"})," Calculate P(H|E) = P(E|H) × P(H) / P(E)"]}),e.jsx("p",{children:"P(H|E) = (0.95 × 0.01) / 0.059 = 0.0095 / 0.059 = 0.161 (16.1%)"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Result:"})," Even with a positive test, you only have a 16.1% chance of having the disease!"]})]}),e.jsx("h4",{children:"When to Use Bayesian Thinking"}),e.jsx("p",{children:"Bayesian reasoning is most valuable when:"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Making decisions under uncertainty:"})," You have some information but not complete knowledge"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Updating beliefs with new data:"})," You want to incorporate new evidence into existing knowledge"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Dealing with rare events:"})," Understanding that rare events stay rare even with positive evidence"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Quantifying uncertainty:"})," You need to express how confident you are in your conclusions"]})]}),e.jsx("h4",{children:"Advanced Applications in Data Science"}),e.jsx("p",{children:"Beyond basic applications, Bayes' theorem powers sophisticated data science techniques:"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Bayesian Optimization:"})," Efficiently finding the best parameters for machine learning models"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Bayesian A/B Testing:"})," More sophisticated than traditional frequentist approaches"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Bayesian Networks:"})," Modeling complex relationships between variables"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Markov Chain Monte Carlo (MCMC):"})," Sampling from complex probability distributions"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Bayesian Deep Learning:"})," Neural networks that provide uncertainty estimates"]})]}),e.jsx("h4",{children:"Career Applications"}),e.jsx("p",{children:"Understanding Bayes' theorem opens doors in many careers:"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Data Scientist:"})," Building recommendation systems, fraud detection, risk assessment"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Machine Learning Engineer:"})," Implementing Bayesian algorithms, uncertainty quantification"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Quantitative Analyst:"})," Financial modeling, risk management, algorithmic trading"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Biostatistician:"})," Clinical trials, medical research, epidemiology"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"AI Researcher:"})," Developing next-generation AI systems with uncertainty awareness"]})]}),e.jsx("h4",{children:"Pro Tips for Bayesian Thinking"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Start with the base rate:"})," Always consider the prior probability before looking at evidence"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Think in terms of ratios:"})," How much more likely is the evidence under one hypothesis vs. another?"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Update incrementally:"})," You can apply Bayes' theorem multiple times as you get more evidence"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Quantify your uncertainty:"})," Express your beliefs as probability ranges, not just point estimates"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Consider alternative hypotheses:"}),` Don't just compare your hypothesis to "not your hypothesis"`]})]})]})})]})}),e.jsx("section",{className:"copyright-section",children:e.jsx("div",{className:"copyright-notice",children:e.jsx("p",{children:"© 2025, Todd Brous. All rights reserved."})})})]})})},Xw=()=>{const n=_.useRef(null),[i,r]=_.useState("medical"),[c,o]=_.useState(.1),[h,f]=_.useState(100),[p,x]=_.useState(0),[m,g]=_.useState(!1),[y,j]=_.useState(!0),[w,B]=_.useState(!1),[M,R]=_.useState(1),[z,H]=_.useState(null),F=q=>{const J=(()=>{let E=q;return()=>(E=(E*9301+49297)%233280,E/233280)})(),K=[{x:85,y:3,label:0,id:"1"},{x:88,y:4,label:0,id:"2"},{x:90,y:5,label:0,id:"3"},{x:92,y:6,label:0,id:"4"},{x:87,y:3.5,label:0,id:"5"},{x:89,y:4.5,label:0,id:"6"},{x:91,y:5.5,label:0,id:"7"},{x:86,y:3.8,label:0,id:"8"},{x:93,y:6.5,label:0,id:"9"},{x:88,y:4.2,label:0,id:"10"},{x:65,y:1,label:1,id:"11"},{x:68,y:2,label:1,id:"12"},{x:70,y:1.5,label:1,id:"13"},{x:72,y:2.5,label:1,id:"14"},{x:66,y:1.2,label:1,id:"15"},{x:69,y:1.8,label:1,id:"16"},{x:71,y:2.2,label:1,id:"17"},{x:67,y:1.5,label:1,id:"18"},{x:73,y:2.8,label:1,id:"19"},{x:64,y:.8,label:1,id:"20"}].map((E,k)=>({...E,x:E.x+(J()-.5)*4,y:E.y+(J()-.5)*2,id:`base-${k+1}`})),ae=[{x:62+(J()-.5)*3,y:4+(J()-.5)*1,label:1,id:"struggling-1"},{x:80+(J()-.5)*3,y:4+(J()-.5)*1,label:0,id:"borderline-1"},{x:75+(J()-.5)*3,y:3+(J()-.5)*1,label:1,id:"borderline-2"},{x:78+(J()-.5)*3,y:5+(J()-.5)*1,label:0,id:"borderline-3"}];return[...K,...ae]},O=(()=>{const q={medical:{name:"Medical Diagnosis",description:"Patient age vs test results for disease prediction",xLabel:"Age (years)",yLabel:"Test Score",color0:"#3b82f6",color1:"#ef4444"},marketing:{name:"Marketing Campaign",description:"Customer age vs income for product purchase prediction",xLabel:"Age (years)",yLabel:"Income (K$)",color0:"#10b981",color1:"#f59e0b"},finance:{name:"Credit Risk",description:"Credit score vs debt ratio for loan approval prediction",xLabel:"Credit Score",yLabel:"Debt Ratio (%)",color0:"#8b5cf6",color1:"#ef4444"},overlapping:{name:"Overlapping Classes",description:"Challenging dataset with overlapping classes - test algorithm robustness",xLabel:"Feature 1",yLabel:"Feature 2",color0:"#10b981",color1:"#f59e0b"},noisy:{name:"Noisy Data",description:"Realistic student data with noise and outliers - test regularization",xLabel:"Test Score",yLabel:"Study Hours",color0:"#3b82f6",color1:"#ef4444"}},J=q[i];if(!J)return{...q.medical,data:[{x:25,y:45,label:0,id:"1"},{x:30,y:52,label:0,id:"2"},{x:35,y:38,label:0,id:"3"},{x:40,y:48,label:0,id:"4"},{x:45,y:55,label:0,id:"5"},{x:28,y:42,label:0,id:"6"},{x:32,y:50,label:0,id:"7"},{x:38,y:46,label:0,id:"8"},{x:42,y:53,label:0,id:"9"},{x:48,y:58,label:0,id:"10"},{x:55,y:25,label:1,id:"11"},{x:60,y:30,label:1,id:"12"},{x:65,y:35,label:1,id:"13"},{x:70,y:28,label:1,id:"14"},{x:75,y:32,label:1,id:"15"},{x:58,y:22,label:1,id:"16"},{x:62,y:27,label:1,id:"17"},{x:68,y:33,label:1,id:"18"},{x:72,y:26,label:1,id:"19"},{x:78,y:31,label:1,id:"20"}]};let G;switch(i){case"medical":G=[{x:25,y:45,label:0,id:"1"},{x:30,y:52,label:0,id:"2"},{x:35,y:38,label:0,id:"3"},{x:40,y:48,label:0,id:"4"},{x:45,y:55,label:0,id:"5"},{x:28,y:42,label:0,id:"6"},{x:32,y:50,label:0,id:"7"},{x:38,y:46,label:0,id:"8"},{x:42,y:53,label:0,id:"9"},{x:48,y:58,label:0,id:"10"},{x:55,y:25,label:1,id:"11"},{x:60,y:30,label:1,id:"12"},{x:65,y:35,label:1,id:"13"},{x:70,y:28,label:1,id:"14"},{x:75,y:32,label:1,id:"15"},{x:58,y:22,label:1,id:"16"},{x:62,y:27,label:1,id:"17"},{x:68,y:33,label:1,id:"18"},{x:72,y:26,label:1,id:"19"},{x:78,y:31,label:1,id:"20"}];break;case"marketing":G=[{x:22,y:35,label:0,id:"1"},{x:25,y:42,label:0,id:"2"},{x:28,y:38,label:0,id:"3"},{x:30,y:45,label:0,id:"4"},{x:32,y:50,label:0,id:"5"},{x:24,y:40,label:0,id:"6"},{x:26,y:44,label:0,id:"7"},{x:29,y:48,label:0,id:"8"},{x:31,y:52,label:0,id:"9"},{x:33,y:55,label:0,id:"10"},{x:45,y:25,label:1,id:"11"},{x:50,y:30,label:1,id:"12"},{x:55,y:35,label:1,id:"13"},{x:60,y:28,label:1,id:"14"},{x:65,y:32,label:1,id:"15"},{x:48,y:22,label:1,id:"16"},{x:52,y:27,label:1,id:"17"},{x:58,y:33,label:1,id:"18"},{x:62,y:26,label:1,id:"19"},{x:68,y:31,label:1,id:"20"}];break;case"finance":G=[{x:750,y:15,label:0,id:"1"},{x:780,y:18,label:0,id:"2"},{x:720,y:12,label:0,id:"3"},{x:800,y:20,label:0,id:"4"},{x:760,y:16,label:0,id:"5"},{x:740,y:14,label:0,id:"6"},{x:790,y:19,label:0,id:"7"},{x:730,y:13,label:0,id:"8"},{x:770,y:17,label:0,id:"9"},{x:810,y:21,label:0,id:"10"},{x:600,y:45,label:1,id:"11"},{x:550,y:50,label:1,id:"12"},{x:500,y:55,label:1,id:"13"},{x:450,y:60,label:1,id:"14"},{x:400,y:65,label:1,id:"15"},{x:580,y:48,label:1,id:"16"},{x:530,y:52,label:1,id:"17"},{x:480,y:58,label:1,id:"18"},{x:430,y:62,label:1,id:"19"},{x:380,y:68,label:1,id:"20"}];break;case"overlapping":G=[{x:20,y:30,label:0,id:"1"},{x:25,y:35,label:0,id:"2"},{x:30,y:25,label:0,id:"3"},{x:35,y:40,label:0,id:"4"},{x:40,y:35,label:0,id:"5"},{x:22,y:32,label:0,id:"6"},{x:28,y:38,label:0,id:"7"},{x:33,y:28,label:0,id:"8"},{x:38,y:42,label:0,id:"9"},{x:42,y:37,label:0,id:"10"},{x:45,y:20,label:1,id:"11"},{x:50,y:25,label:1,id:"12"},{x:55,y:15,label:1,id:"13"},{x:60,y:30,label:1,id:"14"},{x:65,y:22,label:1,id:"15"},{x:47,y:18,label:1,id:"16"},{x:52,y:28,label:1,id:"17"},{x:57,y:12,label:1,id:"18"},{x:62,y:35,label:1,id:"19"},{x:67,y:25,label:1,id:"20"},{x:40,y:30,label:0,id:"21"},{x:42,y:32,label:0,id:"22"},{x:44,y:28,label:0,id:"23"},{x:46,y:35,label:1,id:"24"},{x:48,y:32,label:1,id:"25"},{x:50,y:30,label:1,id:"26"}];break;case"noisy":G=F(M);break;default:G=[]}return{...J,data:G}})(),V=q=>1/(1+Math.exp(-q)),Q=q=>{const J={learningRate:.1,iterations:100,regularization:0};let G=0;const K=[.001,.005,.01,.05,.1,.2,.5],ae=[500,1e3,2e3,3e3,5e3],E=[0,.001,.01,.05,.1];console.log("Starting parameter optimization for noisy data...");for(const b of K)for(const D of ae)for(const Y of E){const U=se(q,b,D,Y);U.accuracy>G&&(G=U.accuracy,J.learningRate=b,J.iterations=D,J.regularization=Y,console.log(`New best: LR=${b}, Iter=${D}, Reg=${Y}, Acc=${(U.accuracy*100).toFixed(1)}%`))}const k=se(q,J.learningRate,J.iterations,J.regularization);return console.log("Final optimized parameters:",J,"Final Accuracy:",(k.accuracy*100).toFixed(1)+"%"),J},se=(q,J,G,K)=>{const ae=q.length,E=q.map(Z=>[1,Z.x,Z.y]),k=q.map(Z=>Z.label);let b=[0,0,0],D=1/0,Y=0;const U=100;for(let Z=0;Z<G;Z++){const de=[0,0,0];let pe=0;for(let xe=0;xe<ae;xe++){const ve=b[0]+b[1]*E[xe][1]+b[2]*E[xe][2],Ce=V(ve)-k[xe];de[0]+=Ce,de[1]+=Ce*E[xe][1],de[2]+=Ce*E[xe][2],pe+=Ce*Ce}if(de[0]/=ae,de[1]/=ae,de[1]+=K*b[1],de[2]/=ae,de[2]+=K*b[2],pe/=ae,Math.abs(D-pe)<1e-8){if(Y++,Y>=U){console.log(`Converged early at iteration ${Z}`);break}}else Y=0;D=pe;const ge=J*(1-Z/G);b[0]-=ge*de[0],b[1]-=ge*de[1],b[2]-=ge*de[2]}const N=E.map(Z=>{const de=b[0]+b[1]*Z[1]+b[2]*Z[2];return V(de)>.5?1:0}),T=E.map(Z=>{const de=b[0]+b[1]*Z[1]+b[2]*Z[2];return V(de)}),I=N.reduce((Z,de,pe)=>Z+(de===k[pe]?1:0),0)/ae,P=Math.min(...q.map(Z=>Z.x)),X=Math.max(...q.map(Z=>Z.x)),A=Math.min(...q.map(Z=>Z.y)),te=Math.max(...q.map(Z=>Z.y)),ee=[];for(let Z=P;Z<=X;Z+=(X-P)/100)if(Math.abs(b[2])>1e-10){const de=-(b[0]+b[1]*Z)/b[2];de>=A&&de<=te&&ee.push({x:Z,y:de})}return{coefficients:b,accuracy:I,predictions:N,probabilities:T,decisionBoundary:ee}};return _.useEffect(()=>{console.log("Performing logistic regression:",{dataset:i,learningRate:c,iterations:h,regularization:p,dataPoints:O.data.length,autoOptimize:m});let q;if(i==="noisy"&&m){const J=Q(O.data);q=se(O.data,J.learningRate,J.iterations,J.regularization),o(J.learningRate),f(J.iterations),x(J.regularization)}else q=se(O.data,c,h,p);H(q),console.log("Logistic regression completed:",{coefficients:q.coefficients,accuracy:q.accuracy})},[O,c,h,p,m]),_.useEffect(()=>{if(!z||!n.current)return;const q=Ee(n.current);q.selectAll("*").remove();const J=O,G=700,K=450,ae={top:40,right:40,bottom:60,left:60};q.attr("width",G).attr("height",K).style("border","1px solid #e5e7eb").style("border-radius","8px").style("background","white");const E=st(J.data,C=>C.x),k=st(J.data,C=>C.y),b=Ke().domain(E).range([ae.left,G-ae.right]),D=Ke().domain(k).range([K-ae.bottom,ae.top]),Y=rt(b).tickFormat(Ns(".0f")),U=ct(D).tickFormat(Ns(".0f"));if(q.append("g").attr("transform",`translate(0, ${K-ae.bottom})`).call(Y).selectAll("text").style("font-size","12px").style("fill","#6b7280"),q.append("g").attr("transform",`translate(${ae.left}, 0)`).call(U).selectAll("text").style("font-size","12px").style("fill","#6b7280"),q.append("text").attr("x",G/2).attr("y",K-10).attr("text-anchor","middle").style("font-size","14px").style("font-weight","600").style("fill","#374151").text(J.xLabel),q.append("text").attr("x",15).attr("y",K/2).attr("text-anchor","middle").attr("transform","rotate(-90, 15, "+K/2+")").style("font-size","14px").style("font-weight","600").style("fill","#374151").text(J.yLabel),w){const C=E[1]-E[0],I=k[1]-k[0],P=C/50,X=I/50;for(let A=E[0];A<=E[1];A+=P)for(let te=k[0];te<=k[1];te+=X){const ee=z.coefficients[0]+z.coefficients[1]*A+z.coefficients[2]*te,Z=V(ee);q.append("rect").attr("x",b(A)).attr("y",D(te)).attr("width",b(A+P)-b(A)).attr("height",D(te-X)-D(te)).style("fill",sl(J.color0,J.color1)(Z)).style("opacity",.3)}}if(y&&z.decisionBoundary.length>0){const C=rs().x(I=>b(I.x)).y(I=>D(I.y));q.append("path").datum(z.decisionBoundary).attr("d",C).style("fill","none").style("stroke","#374151").style("stroke-width","3px").style("stroke-dasharray","5,5")}q.selectAll(".data-point").data(J.data).enter().append("circle").attr("class","data-point").attr("cx",C=>b(C.x)).attr("cy",C=>D(C.y)).attr("r",8).style("fill",C=>C.label===0?J.color0:J.color1).style("stroke","#ffffff").style("stroke-width","2px").style("cursor","pointer").on("mouseover",function(C,I){Ee(this).transition().duration(200).attr("r",10);const P=q.append("g").attr("class","tooltip").style("pointer-events","none");P.append("rect").attr("x",b(I.x)-40).attr("y",D(I.y)-30).attr("width",80).attr("height",25).attr("rx",4).style("fill","#1f2937").style("opacity",.9),P.append("text").attr("x",b(I.x)).attr("y",D(I.y)-17).attr("text-anchor","middle").style("font-size","11px").style("fill","white").text(`(${I.x}, ${I.y})`),P.append("text").attr("x",b(I.x)).attr("y",D(I.y)-5).attr("text-anchor","middle").style("font-size","10px").style("fill","white").text(`Class: ${I.label}`)}).on("mouseout",function(){Ee(this).transition().duration(200).attr("r",8),q.selectAll(".tooltip").remove()});const N=`Accuracy: ${(z.accuracy*100).toFixed(1)}%`,T=`z = ${z.coefficients[0].toFixed(2)} + ${z.coefficients[1].toFixed(2)}x + ${z.coefficients[2].toFixed(2)}y`;q.append("text").attr("x",G-ae.right-10).attr("y",ae.top+20).attr("text-anchor","end").style("font-size","14px").style("font-weight","600").style("fill","#374151").text(N),q.append("text").attr("x",G-ae.right-10).attr("y",ae.top+40).attr("text-anchor","end").style("font-size","12px").style("font-weight","500").style("fill","#6b7280").text(T)},[z,i,y,w]),e.jsx("div",{className:"logistic-regression fade-in",children:e.jsxs("div",{className:"container",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Logistic Regression Visualizer"}),e.jsx("p",{className:"page-description",children:"Explore binary classification through logistic regression. See how the algorithm finds decision boundaries and understand the mathematics behind classification."})]}),e.jsxs("div",{className:"simulation-layout",children:[e.jsxs("div",{className:"visualization-panel",children:[e.jsxs("div",{className:"visualization-header",children:[e.jsx("h2",{className:"visualization-title",children:"Classification Analysis"}),e.jsx("div",{className:"classification-stats",children:z&&e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"stat",children:["Accuracy: ",(z.accuracy*100).toFixed(1),"%"]}),e.jsxs("span",{className:"stat",children:["Class 0: ",O.color0]}),e.jsxs("span",{className:"stat",children:["Class 1: ",O.color1]})]})})]}),e.jsx("div",{className:"visualization-container",children:e.jsx("svg",{ref:n,className:"logistic-svg"})})]}),e.jsxs("div",{className:"controls-panel",children:[e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Dataset Selection"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"dataset-controls",children:[e.jsx("label",{className:"label",children:"Choose Dataset"}),e.jsxs("select",{value:i,onChange:q=>r(q.target.value),className:"input",children:[e.jsx("option",{value:"medical",children:"Medical Diagnosis"}),e.jsx("option",{value:"marketing",children:"Marketing Campaign"}),e.jsx("option",{value:"finance",children:"Credit Risk"}),e.jsx("option",{value:"overlapping",children:"Overlapping Classes"}),e.jsx("option",{value:"noisy",children:"Noisy Data"})]}),e.jsx("p",{className:"dataset-description",children:O.description})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Algorithm Parameters"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"parameter-controls",children:[e.jsxs("div",{className:"input-group",children:[e.jsx("label",{className:"label",children:"Learning Rate"}),e.jsx("input",{type:"range",min:"0.01",max:"1.0",step:"0.01",value:c,onChange:q=>o(parseFloat(q.target.value)),className:"slider"}),e.jsx("span",{className:"value-display",children:c.toFixed(2)}),e.jsx("small",{className:"parameter-help",children:"Controls how fast the algorithm learns"})]}),e.jsxs("div",{className:"input-group",children:[e.jsx("label",{className:"label",children:"Iterations"}),e.jsx("input",{type:"range",min:"10",max:"1000",step:"10",value:h,onChange:q=>f(parseInt(q.target.value)),className:"slider"}),e.jsx("span",{className:"value-display",children:h}),e.jsx("small",{className:"parameter-help",children:"Number of training iterations"})]}),e.jsxs("div",{className:"input-group",children:[e.jsx("label",{className:"label",children:"Regularization"}),e.jsx("input",{type:"range",min:"0",max:"0.1",step:"0.001",value:p,onChange:q=>x(parseFloat(q.target.value)),className:"slider"}),e.jsx("span",{className:"value-display",children:p.toFixed(3)}),e.jsx("small",{className:"parameter-help",children:"Prevents overfitting (0 = no regularization)"})]})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Visualization Options"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"visualization-controls",children:[e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:y,onChange:q=>j(q.target.checked)}),e.jsx("span",{className:"checkmark"}),"Show Decision Boundary"]}),e.jsx("small",{className:"control-help",children:"Display the line that separates the two classes"}),e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:w,onChange:q=>B(q.target.checked)}),e.jsx("span",{className:"checkmark"}),"Show Probability Heatmap"]}),e.jsx("small",{className:"control-help",children:"Display probability surface (may be slow)"})]})})]}),i==="noisy"&&e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Noise Controls"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"noise-controls",children:[e.jsx("p",{className:"noise-description",children:"Real-world data has variability. Click to generate new noise patterns and test if your parameters work across different data samples."}),e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:m,onChange:q=>g(q.target.checked)}),e.jsx("span",{className:"checkmark"}),"Auto-Optimize Parameters"]}),e.jsx("small",{className:"control-help",children:"Automatically find the best parameters for this noisy dataset"}),e.jsx("button",{className:"btn btn-primary",onClick:()=>R(q=>q+1),children:"Regenerate Noise"}),e.jsx("small",{className:"control-help",children:"Test model robustness with different noise patterns"})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Model Performance"})}),e.jsx("div",{className:"card-body",children:z&&e.jsxs("div",{className:"performance-metrics",children:[e.jsxs("div",{className:"metric",children:[e.jsx("span",{className:"metric-label",children:"Accuracy:"}),e.jsxs("span",{className:"metric-value",children:[(z.accuracy*100).toFixed(1),"%"]}),e.jsx("div",{className:"metric-bar",children:e.jsx("div",{className:"metric-fill",style:{width:`${z.accuracy*100}%`}})})]}),e.jsxs("div",{className:"metric",children:[e.jsx("span",{className:"metric-label",children:"Coefficients:"}),e.jsxs("div",{className:"coefficients",children:[e.jsxs("div",{children:["Bias: ",z.coefficients[0].toFixed(3)]}),e.jsxs("div",{children:["X: ",z.coefficients[1].toFixed(3)]}),e.jsxs("div",{children:["Y: ",z.coefficients[2].toFixed(3)]})]})]})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"How It Works"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"explanation-steps",children:[e.jsxs("div",{className:"step",children:[e.jsx("div",{className:"step-number",children:"1"}),e.jsxs("div",{className:"step-content",children:[e.jsx("strong",{children:"Start with random weights"}),e.jsx("p",{children:"Initialize coefficients for the decision boundary"})]})]}),e.jsxs("div",{className:"step",children:[e.jsx("div",{className:"step-number",children:"2"}),e.jsxs("div",{className:"step-content",children:[e.jsx("strong",{children:"Calculate probabilities"}),e.jsx("p",{children:"Use sigmoid function to get class probabilities"})]})]}),e.jsxs("div",{className:"step",children:[e.jsx("div",{className:"step-number",children:"3"}),e.jsxs("div",{className:"step-content",children:[e.jsx("strong",{children:"Update weights"}),e.jsx("p",{children:"Adjust coefficients to minimize classification error"})]})]}),e.jsxs("div",{className:"step",children:[e.jsx("div",{className:"step-number",children:"4"}),e.jsxs("div",{className:"step-content",children:[e.jsx("strong",{children:"Find decision boundary"}),e.jsx("p",{children:"Continue until the boundary separates classes best"})]})]})]})})]})]})]}),e.jsxs("div",{className:"explanation-section",children:[e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Understanding Logistic Regression"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"explanation-content",children:[e.jsx("h4",{children:"What is Logistic Regression?"}),e.jsx("p",{children:"Logistic regression is a statistical method used for binary classification problems. Unlike linear regression which predicts continuous values, logistic regression predicts probabilities and classifies data into one of two categories. It's widely used in machine learning for problems where you need to make yes/no decisions."}),e.jsx("h4",{children:"Key Concepts"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Sigmoid Function:"})," Maps any real number to a probability between 0 and 1"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Decision Boundary:"})," The line that separates the two classes"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Logistic Function:"})," The mathematical function that creates the S-shaped curve"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Maximum Likelihood:"})," The method used to find the best coefficients"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Binary Classification:"})," Problems with exactly two possible outcomes"]})]}),e.jsx("h4",{children:"Understanding Algorithm Parameters"}),e.jsx("p",{children:"The logistic regression algorithm uses three key parameters that control how it learns to find the best decision boundary. Understanding these parameters is crucial for building effective classification models."}),e.jsxs("div",{className:"parameter-explanation",children:[e.jsxs("div",{className:"parameter-detail",children:[e.jsx("h5",{children:"Learning Rate (0.01 - 1.0)"}),e.jsxs("p",{children:[e.jsx("strong",{children:"What it does:"})," Controls how big steps the algorithm takes when adjusting the decision boundary. Think of it like adjusting your stride when walking toward a target."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Too high (0.5-1.0):"}),` The algorithm takes huge steps and might "overshoot" the best solution, bouncing around and never settling down. You'll see the decision boundary jumping around wildly.`]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Too low (0.01-0.05):"})," The algorithm takes tiny steps and learns very slowly. It might take hundreds of iterations to find a good solution, or it might get stuck in a poor solution."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Sweet spot (0.1-0.3):"})," The algorithm takes reasonable steps, learning efficiently without overshooting. This is usually where you want to start."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Try this:"})," Start with 0.1, then try 0.5 to see the boundary jump around, then try 0.01 to see it learn very slowly."]})]}),e.jsxs("div",{className:"parameter-detail",children:[e.jsx("h5",{children:"Iterations (10 - 1000)"}),e.jsxs("p",{children:[e.jsx("strong",{children:"What it does:"})," How many times the algorithm adjusts the decision boundary before stopping. Each iteration is like taking one step toward the best solution."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Too few (10-50):"})," The algorithm doesn't have enough time to learn. The decision boundary might be far from optimal, especially with challenging datasets."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Too many (500-1000):"})," The algorithm might overfit to the training data, creating a boundary that works perfectly on this data but poorly on new data."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Sweet spot (100-300):"})," Usually enough iterations to find a good solution without overfitting. Watch the accuracy - if it stops improving, you have enough iterations."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Try this:"}),' Start with 100, then increase to 500 and see if accuracy improves. With the "Overlapping Classes" dataset, you might need more iterations.']})]}),e.jsxs("div",{className:"parameter-detail",children:[e.jsx("h5",{children:"Regularization (0 - 0.1)"}),e.jsxs("p",{children:[e.jsx("strong",{children:"What it does:"}),` Prevents the algorithm from overfitting by penalizing extreme coefficients. It's like adding "common sense" to prevent the model from making wild decisions based on outliers.`]}),e.jsxs("p",{children:[e.jsx("strong",{children:"No regularization (0):"})," The algorithm tries to fit the data perfectly, which can lead to overfitting. Good for clean, well-separated data."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"High regularization (0.05-0.1):"})," The algorithm is more conservative, creating smoother decision boundaries that ignore outliers. Good for noisy data."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Sweet spot (0.001-0.01):"})," A small amount of regularization that prevents overfitting without being too conservative."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Try this:"}),' With the "Noisy Data" dataset, try increasing regularization from 0 to 0.05 and watch how the decision boundary becomes smoother and ignores outliers.']})]})]}),e.jsxs("div",{className:"parameter-interaction",children:[e.jsx("h5",{children:"How Parameters Work Together"}),e.jsx("p",{children:"These parameters interact in complex ways. Here's how to think about tuning them:"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Start with defaults:"})," Learning rate 0.1, iterations 100, regularization 0"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"If accuracy is low:"})," Try more iterations first, then adjust learning rate"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"If boundary is too wiggly:"})," Increase regularization"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"If learning is too slow:"})," Increase learning rate (but not too much!)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"If boundary jumps around:"})," Decrease learning rate"]})]})]}),e.jsx("h4",{children:"Real-World Applications"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Medical Diagnosis:"})," Predicting disease presence based on symptoms and test results"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Marketing:"})," Predicting customer purchase behavior and targeting campaigns"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Finance:"})," Credit risk assessment and loan approval decisions"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Email Filtering:"})," Spam detection and email classification"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Image Recognition:"})," Object detection and image classification"]})]}),e.jsx("h4",{children:"When to Use Logistic Regression"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Binary outcomes:"})," When you need to predict one of two classes"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Linear relationships:"})," When features have linear relationships with the outcome"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Interpretability:"})," When you need to understand which features matter most"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Baseline model:"})," As a starting point for more complex algorithms"]})]})]})})]}),i==="medical"&&e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Medical Diagnosis Analysis"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"dataset-analysis",children:[e.jsx("h4",{children:"Understanding the Medical Dataset"}),e.jsx("p",{children:"This dataset simulates a medical diagnosis scenario where we're trying to predict disease presence based on patient age and test results. In healthcare, early detection is crucial, and logistic regression helps identify patients at risk based on multiple factors."}),e.jsxs("div",{className:"insights-grid",children:[e.jsxs("div",{className:"insight-item",children:[e.jsx("h5",{children:"Age Factor"}),e.jsx("p",{children:"Generally, older patients are more likely to have the disease, but age alone isn't sufficient. The test score provides additional diagnostic information."})]}),e.jsxs("div",{className:"insight-item",children:[e.jsx("h5",{children:"Test Score Impact"}),e.jsx("p",{children:"Lower test scores combined with higher age create higher risk profiles. The decision boundary shows the optimal combination for diagnosis."})]}),e.jsxs("div",{className:"insight-item",children:[e.jsx("h5",{children:"Clinical Decision Making"}),e.jsx("p",{children:"The model helps doctors make informed decisions about which patients need further testing or immediate treatment based on risk factors."})]})]}),e.jsxs("div",{className:"business-applications",children:[e.jsx("h4",{children:"Healthcare Applications"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Diagnostic Support:"})," Assist doctors in making faster, more accurate diagnoses"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Risk Stratification:"})," Identify high-risk patients for priority care"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Resource Allocation:"})," Optimize hospital resources based on patient risk"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Preventive Care:"})," Target interventions for at-risk populations"]})]})]})]})})]}),i==="marketing"&&e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Marketing Campaign Analysis"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"dataset-analysis",children:[e.jsx("h4",{children:"Understanding the Marketing Dataset"}),e.jsx("p",{children:"This dataset represents a marketing campaign where we're trying to predict customer purchase behavior based on age and income. Understanding customer segments helps businesses target their marketing efforts more effectively and improve return on investment."}),e.jsxs("div",{className:"insights-grid",children:[e.jsxs("div",{className:"insight-item",children:[e.jsx("h5",{children:"Demographic Targeting"}),e.jsx("p",{children:"Younger customers with lower income are less likely to purchase, while older customers with higher income show higher purchase probability."})]}),e.jsxs("div",{className:"insight-item",children:[e.jsx("h5",{children:"Customer Segmentation"}),e.jsx("p",{children:"The decision boundary helps identify distinct customer segments for targeted marketing campaigns and personalized offers."})]}),e.jsxs("div",{className:"insight-item",children:[e.jsx("h5",{children:"Campaign Optimization"}),e.jsx("p",{children:"By understanding which customers are likely to purchase, businesses can optimize their marketing spend and improve campaign effectiveness."})]})]}),e.jsxs("div",{className:"business-applications",children:[e.jsx("h4",{children:"Marketing Applications"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Customer Targeting:"})," Focus marketing efforts on high-probability customers"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Budget Allocation:"})," Optimize marketing spend across different customer segments"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Product Development:"})," Understand customer preferences for product design"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Pricing Strategy:"})," Set prices based on customer willingness to pay"]})]})]})]})})]}),i==="finance"&&e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Credit Risk Analysis"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"dataset-analysis",children:[e.jsx("h4",{children:"Understanding the Finance Dataset"}),e.jsx("p",{children:"This dataset simulates credit risk assessment where we're trying to predict loan default risk based on credit score and debt-to-income ratio. Financial institutions use such models to make informed lending decisions and manage risk."}),e.jsxs("div",{className:"insights-grid",children:[e.jsxs("div",{className:"insight-item",children:[e.jsx("h5",{children:"Credit Score Importance"}),e.jsx("p",{children:"Higher credit scores generally indicate lower default risk, but the relationship isn't linear. Other factors like debt ratio also matter."})]}),e.jsxs("div",{className:"insight-item",children:[e.jsx("h5",{children:"Debt Ratio Impact"}),e.jsx("p",{children:"Lower debt ratios combined with higher credit scores create the safest borrower profiles. The decision boundary shows optimal risk thresholds."})]}),e.jsxs("div",{className:"insight-item",children:[e.jsx("h5",{children:"Risk Management"}),e.jsx("p",{children:"The model helps lenders balance risk and opportunity by identifying which applicants are likely to repay their loans successfully."})]})]}),e.jsxs("div",{className:"business-applications",children:[e.jsx("h4",{children:"Financial Applications"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Loan Approval:"})," Automated decision-making for loan applications"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Risk Assessment:"})," Quantify and manage credit risk exposure"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Interest Rate Setting:"})," Adjust rates based on borrower risk profiles"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Portfolio Management:"})," Balance high-risk and low-risk loans"]})]})]})]})})]}),i==="overlapping"&&e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Overlapping Classes Challenge"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"dataset-analysis",children:[e.jsx("h4",{children:"Understanding the Overlapping Dataset"}),e.jsx("p",{children:"This dataset presents a realistic challenge where classes overlap in the feature space. Unlike the clean, well-separated datasets, this one forces students to understand the limitations of linear decision boundaries and the importance of algorithm parameters."}),e.jsxs("div",{className:"insights-grid",children:[e.jsxs("div",{className:"insight-item",children:[e.jsx("h5",{children:"Decision Boundary Challenges"}),e.jsx("p",{children:"With overlapping classes, the algorithm struggles to find a single line that perfectly separates the classes. Students must experiment with learning rate and iterations to find the best compromise."})]}),e.jsxs("div",{className:"insight-item",children:[e.jsx("h5",{children:"Parameter Sensitivity"}),e.jsx("p",{children:"This dataset is highly sensitive to learning rate and regularization. Students learn that algorithm parameters matter more when data is challenging."})]}),e.jsxs("div",{className:"insight-item",children:[e.jsx("h5",{children:"Real-World Relevance"}),e.jsx("p",{children:"Most real-world classification problems have some degree of overlap. This dataset teaches students about the practical challenges of machine learning."})]})]}),e.jsxs("div",{className:"business-applications",children:[e.jsx("h4",{children:"Learning Objectives"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Parameter Tuning:"})," Learn how learning rate affects convergence"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Regularization:"})," Understand when and why to use regularization"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Model Limitations:"})," See when linear boundaries fail"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Algorithm Robustness:"})," Test how well the algorithm handles difficult data"]})]})]})]})})]}),i==="noisy"&&e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Noisy Data Analysis"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"dataset-analysis",children:[e.jsx("h4",{children:"Understanding the Noisy Dataset"}),e.jsx("p",{children:"This dataset simulates real-world data with noise, outliers, and borderline cases. It teaches students about data quality issues and the importance of regularization in preventing overfitting to noisy data points."}),e.jsxs("div",{className:"insights-grid",children:[e.jsxs("div",{className:"insight-item",children:[e.jsx("h5",{children:"Outlier Impact"}),e.jsx("p",{children:"Notice how outliers (like the high-scoring student with few study hours) can pull the decision boundary in unexpected directions. This demonstrates why data cleaning is crucial."})]}),e.jsxs("div",{className:"insight-item",children:[e.jsx("h5",{children:"Regularization Benefits"}),e.jsx("p",{children:"Try increasing regularization to see how it helps the model ignore outliers and focus on the general pattern. This teaches the importance of preventing overfitting."})]}),e.jsxs("div",{className:"insight-item",children:[e.jsx("h5",{children:"Borderline Cases"}),e.jsx("p",{children:"The borderline cases (students with moderate scores and study hours) show how the algorithm makes difficult decisions when data is ambiguous."})]})]}),e.jsxs("div",{className:"business-applications",children:[e.jsx("h4",{children:"Real-World Applications"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Data Quality:"})," Understand the impact of noisy data on model performance"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Regularization:"})," Learn to prevent overfitting with proper regularization"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Model Robustness:"})," Test how well models handle real-world data issues"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Parameter Tuning:"})," Practice adjusting parameters for challenging datasets"]})]})]})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Limitations and Best Practices"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"limitations-content",children:[e.jsx("h4",{children:"When Logistic Regression Works Well"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Linear decision boundaries:"})," When classes can be separated by a straight line"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Binary classification:"})," Problems with exactly two possible outcomes"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Independent features:"})," When input variables don't strongly correlate"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Large sample sizes:"})," When you have sufficient training data"]})]}),e.jsx("h4",{children:"Common Limitations"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Non-linear relationships:"})," Can't capture complex curved decision boundaries"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Feature interactions:"})," Doesn't automatically detect feature combinations"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Outliers:"})," Extreme values can significantly affect the model"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Imbalanced data:"})," Performs poorly when one class is much more common"]})]}),e.jsx("h4",{children:"Best Practices"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Feature scaling:"})," Normalize features to similar scales"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Handle missing data:"})," Impute or remove incomplete records"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Cross-validation:"})," Test on multiple data splits to avoid overfitting"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Regularization:"})," Use L1/L2 regularization to prevent overfitting"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Feature selection:"})," Remove irrelevant or redundant features"]})]}),e.jsx("h4",{children:"Alternative Approaches"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Support Vector Machines:"})," For non-linear decision boundaries"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Random Forest:"})," For handling feature interactions and non-linear relationships"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Neural Networks:"})," For complex patterns and high-dimensional data"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Naive Bayes:"})," For text classification and when features are independent"]})]})]})})]})]}),e.jsx("section",{className:"copyright-section",children:e.jsx("div",{className:"copyright-notice",children:e.jsx("p",{children:"© 2025, Todd Brous. All rights reserved."})})})]})})},Fw=()=>{const n=_.useRef(null),i=_.useRef(null),[r,c]=_.useState("moons"),[o,h]=_.useState([]),[f,p]=_.useState([]),[x,m]=_.useState({k:3,distanceMetric:"euclidean",showDecisionBoundary:!0,showNearestNeighbors:!0,showDistanceLines:!0}),[g,y]=_.useState(!0),[j,w]=_.useState(!1),[B,M]=_.useState(!1),[R,z]=_.useState({width:800,height:600}),[H,F]=_.useState({predictions:[],nearestNeighbors:[],decisionBoundary:[]}),[L,O]=_.useState(null),[V,Q]=_.useState(!1),se={moons:{name:"Two Moons",description:"Non-linearly separable data with moon-shaped clusters",xLabel:"Feature 1",yLabel:"Feature 2",data:[],color0:"#3b82f6",color1:"#ef4444"},circles:{name:"Concentric Circles",description:"Concentric circular patterns with different radii",xLabel:"Feature 1",yLabel:"Feature 2",data:[],color0:"#8b5cf6",color1:"#f59e0b"},linear:{name:"Linear Separation",description:"Linearly separable data with clear boundary",xLabel:"Feature 1",yLabel:"Feature 2",data:[],color0:"#6366f1",color1:"#ec4899"}},q=(C,I,P)=>{const X=C.x-I.x,A=C.y-I.y;switch(P){case"euclidean":return Math.sqrt(X*X+A*A);case"manhattan":return Math.abs(X)+Math.abs(A);case"minkowski":const te=3;return Math.pow(Math.pow(Math.abs(X),te)+Math.pow(Math.abs(A),te),1/te);default:return Math.sqrt(X*X+A*A)}},J=(C,I,P)=>I.map(A=>({point:A,distance:q(C,A,x.distanceMetric)})).sort((A,te)=>A.distance-te.distance).slice(0,P),G=(C,I,P)=>{const X=J(C,I,P),A={};return X.forEach(te=>{const ee=te.point.label;A[ee]=(A[ee]||0)+1}),parseInt(Object.keys(A).reduce((te,ee)=>A[parseInt(te)]>A[parseInt(ee)]?te:ee))},K=(C,I)=>{const P=[],A=Math.min(...C.map(ge=>ge.x))-.1,te=Math.max(...C.map(ge=>ge.x))+.1,ee=Math.min(...C.map(ge=>ge.y))-.1,Z=Math.max(...C.map(ge=>ge.y))+.1,de=(te-A)/15,pe=(Z-ee)/15;for(let ge=0;ge<=15;ge++)for(let xe=0;xe<=15;xe++){const ve=A+ge*de,Me=ee+xe*pe,Re=G({x:ve,y:Me},C,I);P.push({x:ve,y:Me,label:Re})}return P},ae=()=>{M(!0);const C={predictions:[],nearestNeighbors:[],decisionBoundary:[]};if(f.length>0){const I=f.map(P=>G(P,o,x.k));C.predictions=I,p(P=>P.map((X,A)=>({...X,label:I[A],color:I[A]===0?se[r].color0:se[r].color1})))}x.showDecisionBoundary&&(C.decisionBoundary=K(o,x.k)),F(C),setTimeout(()=>{M(!1)},500)},E=()=>{const C=[];for(let P=0;P<50;P++){const X=P/50*Math.PI,A=.3+Math.random()*.2,te=Math.cos(X)*A+(Math.random()-.5)*.1,ee=Math.sin(X)*A+(Math.random()-.5)*.1;C.push({id:`moon-${P}`,x:te+.5,y:ee+.5,label:0,color:se.moons.color0})}for(let P=0;P<50;P++){const X=P/50*Math.PI,A=.3+Math.random()*.2,te=Math.cos(X)*A+(Math.random()-.5)*.1,ee=Math.sin(X)*A+(Math.random()-.5)*.1;C.push({id:`moon-${P+50}`,x:-te+.5,y:-ee+.5,label:1,color:se.moons.color1})}return C},k=()=>{const C=[];for(let P=0;P<40;P++){const X=Math.random()*2*Math.PI,A=Math.random()*.15,te=Math.cos(X)*A+.5,ee=Math.sin(X)*A+.5;C.push({id:`circle-inner-${P}`,x:te,y:ee,label:0,color:se.circles.color0})}for(let P=0;P<40;P++){const X=Math.random()*2*Math.PI,A=.25+Math.random()*.15,te=Math.cos(X)*A+.5,ee=Math.sin(X)*A+.5;C.push({id:`circle-outer-${P}`,x:te,y:ee,label:1,color:se.circles.color1})}return C},b=()=>{const C=[];for(let P=0;P<50;P++){const X=Math.random(),A=Math.random(),te=X+A>1?1:0;C.push({id:`linear-${P}`,x:X,y:A,label:te,color:te===0?se.linear.color0:se.linear.color1})}return C},D=C=>{switch(C){case"moons":return E();case"circles":return k();case"linear":return b();default:return E()}},Y=()=>{if(!n.current)return;const C=Ee(n.current);C.selectAll("*").remove();const I=R.width,P=R.height,X={top:20,right:20,bottom:40,left:40},A=I-X.left-X.right,te=P-X.top-X.bottom,ee=C.attr("width",I).attr("height",P).append("g").attr("transform",`translate(${X.left},${X.top})`),Z=Ke().domain([0,1]).range([0,A]),de=Ke().domain([0,1]).range([te,0]);if(g){const xe=rt(Z).tickSize(-te).tickFormat(()=>""),ve=ct(de).tickSize(-A).tickFormat(()=>"");ee.append("g").attr("class","grid").attr("transform",`translate(0,${te})`).call(xe).style("stroke","#e2e8f0").style("stroke-width",1),ee.append("g").attr("class","grid").call(ve).style("stroke","#e2e8f0").style("stroke-width",1)}const pe=rt(Z),ge=ct(de);if(ee.append("g").attr("class","axis").attr("transform",`translate(0,${te})`).call(pe).style("color","#64748b"),ee.append("g").attr("class","axis").call(ge).style("color","#64748b"),x.showDecisionBoundary&&H.decisionBoundary.length>0){const xe=H.decisionBoundary;[...new Set(xe.map(Me=>Me.label))].forEach(Me=>{const Ce=xe.filter(Xe=>Xe.label===Me),Re=Me===0?se[r].color0:se[r].color1;ee.selectAll(`.boundary-${Me}`).data(Ce).enter().append("circle").attr("class",`boundary-${Me}`).attr("cx",Xe=>Z(Xe.x)).attr("cy",Xe=>de(Xe.y)).attr("r",3).style("fill",Re).style("opacity",.2)})}ee.selectAll(".training-point").data(o).enter().append("circle").attr("class","training-point").attr("cx",xe=>Z(xe.x)).attr("cy",xe=>de(xe.y)).attr("r",4).style("fill",xe=>xe.color).style("stroke","#374151").style("stroke-width",1).style("opacity",.8),ee.selectAll(".test-point").data(f).enter().append("circle").attr("class","test-point").attr("cx",xe=>Z(xe.x)).attr("cy",xe=>de(xe.y)).attr("r",6).style("fill",xe=>xe.color).style("stroke","#1f2937").style("stroke-width",2).style("opacity",.9).style("cursor","pointer").on("click",(xe,ve)=>{O(ve);const Me=J(ve,o,x.k);F(Ce=>({...Ce,nearestNeighbors:Me}))}),x.showDistanceLines&&L&&H.nearestNeighbors.length>0?ee.selectAll(".distance-line").data(H.nearestNeighbors).join(xe=>xe.append("line").attr("class","distance-line").attr("x1",()=>Z(L.x)).attr("y1",()=>de(L.y)).attr("x2",ve=>Z(ve.point.x)).attr("y2",ve=>de(ve.point.y)).style("stroke","#ef4444").style("stroke-width",2).style("stroke-dasharray","3,3").style("opacity",.7),xe=>xe.attr("x1",()=>Z(L.x)).attr("y1",()=>de(L.y)).attr("x2",ve=>Z(ve.point.x)).attr("y2",ve=>de(ve.point.y)),xe=>xe.remove()):ee.selectAll(".distance-line").remove(),j?ee.selectAll(".data-label").data(o.slice(0,10)).join(xe=>xe.append("text").attr("class","data-label").attr("x",ve=>Z(ve.x)+8).attr("y",ve=>de(ve.y)-8).text(ve=>ve.id).style("font-size","10px").style("fill","#374151").style("pointer-events","none"),xe=>xe.attr("x",ve=>Z(ve.x)+8).attr("y",ve=>de(ve.y)-8),xe=>xe.remove()):ee.selectAll(".data-label").remove(),ee.append("rect").attr("class","click-handler").attr("width",A).attr("height",te).attr("fill",V?"rgba(59, 130, 246, 0.1)":"transparent").style("pointer-events","all").style("cursor",V?"crosshair":"default").on("click",xe=>{if(V){const[ve,Me]=js(xe,ee.node()),Ce=Z.invert(ve),Re=de.invert(Me),Xe={id:`test-${Date.now()}`,x:Ce,y:Re,label:0,color:"#6b7280",isTestPoint:!0};p(fe=>[...fe,Xe]),Q(!1)}})};_.useEffect(()=>{const C=D(r);h(C),p([]),F({predictions:[],nearestNeighbors:[],decisionBoundary:[]})},[r]),_.useEffect(()=>{Y()},[o,f,x,H,L,g,j,R,V]),_.useEffect(()=>{const C=()=>{if(i.current){const I=i.current.getBoundingClientRect();z({width:Math.min(800,I.width-40),height:600})}};return C(),window.addEventListener("resize",C),()=>window.removeEventListener("resize",C)},[]);const U=(C,I)=>{m(P=>({...P,[C]:I}))},N=()=>{p([]),O(null),F({predictions:[],nearestNeighbors:[],decisionBoundary:[]}),Q(!1)},T=()=>{p([]),O(null),F(C=>({...C,predictions:[],nearestNeighbors:[]}))};return e.jsx("div",{className:"k-nearest-neighbors fade-in",children:e.jsxs("div",{className:"container",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"K Nearest Neighbors Explorer"}),e.jsx("p",{className:"page-description",children:"Explore the K-Nearest Neighbors algorithm through interactive visualization. Place test points and see how the algorithm classifies them based on their nearest neighbors."})]}),e.jsxs("div",{className:"simulation-layout",children:[e.jsxs("div",{className:"visualization-panel",children:[e.jsxs("div",{className:"visualization-header",children:[e.jsx("h2",{className:"visualization-title",children:"KNN Classification"}),e.jsxs("div",{className:"visualization-controls",children:[e.jsxs("label",{className:"control-label",children:[e.jsx("input",{type:"checkbox",checked:g,onChange:C=>y(C.target.checked)}),"Show Grid"]}),e.jsxs("label",{className:"control-label",children:[e.jsx("input",{type:"checkbox",checked:j,onChange:C=>w(C.target.checked)}),"Show Labels"]})]})]}),e.jsx("div",{className:"visualization-container",ref:i,children:e.jsx("svg",{ref:n,className:"simulation-svg"})})]}),e.jsxs("div",{className:"controls-panel",children:[e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Dataset"})}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"input-group",children:[e.jsx("label",{className:"label",children:"Select Dataset"}),e.jsxs("select",{value:r,onChange:C=>c(C.target.value),className:"input",children:[e.jsx("option",{value:"moons",children:"Two Moons"}),e.jsx("option",{value:"circles",children:"Concentric Circles"}),e.jsx("option",{value:"linear",children:"Linear Separation"})]})]}),e.jsx("p",{className:"dataset-description",children:se[r].description})]})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"KNN Parameters"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"parameter-controls",children:[e.jsxs("div",{className:"input-group",children:[e.jsxs("label",{className:"label",children:["K Value: ",x.k]}),e.jsx("input",{type:"range",min:"1",max:"10",step:"1",value:x.k,onChange:C=>U("k",parseInt(C.target.value)),className:"slider"}),e.jsxs("div",{className:"slider-labels",children:[e.jsx("span",{children:"1"}),e.jsx("span",{children:"10"})]})]}),e.jsxs("div",{className:"input-group",children:[e.jsx("label",{className:"label",children:"Distance Metric"}),e.jsxs("select",{value:x.distanceMetric,onChange:C=>U("distanceMetric",C.target.value),className:"input",children:[e.jsx("option",{value:"euclidean",children:"Euclidean"}),e.jsx("option",{value:"manhattan",children:"Manhattan"}),e.jsx("option",{value:"minkowski",children:"Minkowski"})]})]}),e.jsxs("div",{className:"checkbox-group",children:[e.jsxs("label",{className:"control-label",children:[e.jsx("input",{type:"checkbox",checked:x.showDecisionBoundary,onChange:C=>U("showDecisionBoundary",C.target.checked)}),"Show Decision Boundary"]}),e.jsxs("label",{className:"control-label",children:[e.jsx("input",{type:"checkbox",checked:x.showDistanceLines,onChange:C=>U("showDistanceLines",C.target.checked)}),"Show Distance Lines"]})]})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Interaction"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"interaction-controls",children:[e.jsx("button",{onClick:()=>Q(!V),className:`btn ${V?"btn-primary":"btn-secondary"}`,children:V?"Click to Place Point":"Place Test Point"}),e.jsx("button",{onClick:T,className:"btn btn-secondary",children:"Clear Test Points"}),e.jsx("button",{onClick:ae,className:"btn btn-primary",disabled:B,children:B?"Classifying...":"Run Classification"}),e.jsx("button",{onClick:N,className:"btn btn-secondary",disabled:B,children:"Reset"})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Results"})}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"results-display",children:[e.jsxs("div",{className:"result-item",children:[e.jsx("span",{className:"result-label",children:"Test Points:"}),e.jsx("span",{className:"result-value",children:f.length})]}),e.jsxs("div",{className:"result-item",children:[e.jsx("span",{className:"result-label",children:"K Value:"}),e.jsx("span",{className:"result-value",children:x.k})]}),e.jsxs("div",{className:"result-item",children:[e.jsx("span",{className:"result-label",children:"Distance Metric:"}),e.jsx("span",{className:"result-value",children:x.distanceMetric})]})]}),L&&H.nearestNeighbors.length>0&&e.jsxs("div",{className:"nearest-neighbors",children:[e.jsx("h4",{children:"Nearest Neighbors"}),e.jsx("div",{className:"neighbors-list",children:H.nearestNeighbors.map((C,I)=>e.jsxs("div",{className:"neighbor-item",children:[e.jsxs("span",{className:"neighbor-label",children:["#",I+1]}),e.jsx("span",{className:"neighbor-distance",children:C.distance.toFixed(3)}),e.jsxs("span",{className:"neighbor-class",children:["Class ",C.point.label]})]},I))})]})]})]})]})]}),e.jsx("div",{className:"explanation-section",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Understanding K-Nearest Neighbors (KNN)"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"explanation-content",children:[e.jsx("h4",{children:"What is K-Nearest Neighbors?"}),e.jsx("p",{children:"K-Nearest Neighbors (KNN) is one of the simplest machine learning algorithms. Think of it like asking your neighbors for advice - when you need to make a decision, you look at what your closest neighbors are doing and follow the majority. KNN works the same way with data points."}),e.jsx("h4",{children:"Step-by-Step Guide: How to Use This Tool"}),e.jsx("h5",{children:"Step 1: Choose Your Dataset"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Two Moons:"})," Non-linear data that curves like crescent moons. This shows how KNN can handle complex patterns that straight lines can't separate."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Concentric Circles:"})," Data arranged in circles within circles. This demonstrates how KNN can find patterns in circular arrangements."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Linear Separation:"})," Data that can be separated by a straight line. This is the simplest case where KNN works very well."]}),e.jsx("h5",{children:"Step 2: Understand the K Value"}),e.jsxs("p",{children:["The ",e.jsx("strong",{children:"K value"})," is the number of nearest neighbors the algorithm considers when making a decision:"]}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"K = 1:"})," Only looks at the single closest neighbor. Very sensitive to noise and outliers."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"K = 3:"})," Looks at the 3 closest neighbors and takes a majority vote. Good balance."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"K = 5 or higher:"})," More stable but may miss important local patterns."]})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Why this matters:"})," Lower K values create more complex, wiggly decision boundaries that can overfit to noise. Higher K values create smoother boundaries that are more stable but may miss important details."]}),e.jsx("h5",{children:"Step 3: Place Test Points"}),e.jsxs("ol",{children:[e.jsxs("li",{children:["Click the ",e.jsx("strong",{children:'"Place Test Point"'})," button"]}),e.jsx("li",{children:"Notice the visualization gets a blue tint and your cursor becomes a crosshair"}),e.jsx("li",{children:"Click anywhere on the visualization to place a gray test point"}),e.jsx("li",{children:"You can place multiple test points to see how different locations get classified"})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"What you're doing:"})," These gray points represent new, unknown data that you want to classify. In real life, this could be a new customer, a new medical case, or a new image you want to identify."]}),e.jsx("h5",{children:"Step 4: Run Classification"}),e.jsxs("ol",{children:[e.jsxs("li",{children:["Click ",e.jsx("strong",{children:'"Run Classification"'})," to classify all your test points"]}),e.jsx("li",{children:"Watch as your gray test points change color (blue or red) based on their predicted class"}),e.jsxs("li",{children:["Toggle ",e.jsx("strong",{children:'"Show Decision Boundary"'})," to see the colored regions showing where each class would be predicted"]})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"What's happening:"})," For each test point, the algorithm finds its K nearest training points, looks at their colors (classes), and assigns the test point the color that appears most often among its neighbors."]}),e.jsx("h5",{children:"Step 5: Explore the Results"}),e.jsxs("ol",{children:[e.jsx("li",{children:"Click on any classified test point to see its nearest neighbors"}),e.jsx("li",{children:"Red dashed lines will appear showing the connections to the K nearest training points"}),e.jsx("li",{children:'Check the "Nearest Neighbors" section to see the distances and classes of each neighbor'}),e.jsx("li",{children:"Try different K values to see how the decision boundary changes"})]}),e.jsx("h5",{children:"Step 6: Experiment with Distance Metrics"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Euclidean Distance:"})," Straight-line distance (like measuring with a ruler). Good for most cases and what we use in everyday life."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Manhattan Distance:"})," Distance following a grid pattern (like walking city blocks). Less sensitive to outliers and good for data with many dimensions."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Minkowski Distance:"})," A generalization that includes both Euclidean and Manhattan as special cases."]}),e.jsx("h4",{children:"Understanding the Algorithm"}),e.jsx("h5",{children:"How KNN Makes Decisions"}),e.jsx("p",{children:"Imagine you're trying to decide which college to attend. You might ask your 3 closest friends (K=3) what they think, and go with the majority opinion. KNN works the same way:"}),e.jsxs("ol",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Measure Distances:"})," Calculate how far the new point is from all training points"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Find K Nearest:"})," Identify the K closest training points"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Count Votes:"})," See which class appears most often among these neighbors"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Make Decision:"})," Assign the new point to the most common class"]})]}),e.jsx("h5",{children:"Why KNN is Important"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Simple to Understand:"})," No complex math - just finding nearest neighbors"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"No Training Required:"}),` Unlike other algorithms, KNN doesn't need to "learn" from data first`]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Works with Any Data:"})," Can handle any type of features (numbers, categories, etc.)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Interpretable:"})," You can always see exactly why a decision was made"]})]}),e.jsx("h4",{children:"Real-World Applications"}),e.jsx("h5",{children:"Recommendation Systems"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Netflix/Amazon:"}),' "People who liked this also liked..." - finds users with similar viewing/purchasing patterns.']}),e.jsx("h5",{children:"Medical Diagnosis"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Disease Classification:"})," Compare a patient's symptoms to similar cases in the database to predict the most likely diagnosis."]}),e.jsx("h5",{children:"Image Recognition"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Photo Tagging:"})," Facebook's automatic face recognition finds similar faces in your photos."]}),e.jsx("h5",{children:"Credit Scoring"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Loan Approval:"})," Banks compare new applicants to similar customers to assess risk."]}),e.jsx("h4",{children:"Common Pitfalls and Tips"}),e.jsx("h5",{children:"Choosing the Right K"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Start with K = 3 or 5:"})," Good default values for most problems"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Avoid even K values:"})," Can lead to ties when classes are split equally"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Consider your data size:"})," K should be much smaller than your total number of training examples"]})]}),e.jsx("h5",{children:"When KNN Works Well"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Small to medium datasets (less than 10,000 examples)"}),e.jsx("li",{children:"Data with clear patterns and not too much noise"}),e.jsx("li",{children:"When you need to understand why decisions were made"}),e.jsx("li",{children:"When you have time to compute distances for each new prediction"})]}),e.jsx("h5",{children:"When to Use Other Algorithms"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Very large datasets (KNN becomes slow)"}),e.jsx("li",{children:"High-dimensional data (curse of dimensionality)"}),e.jsx("li",{children:"When you need very fast predictions"}),e.jsx("li",{children:"When data has many irrelevant features"})]}),e.jsx("h4",{children:"Key Takeaways"}),e.jsx("p",{children:"KNN is a powerful, intuitive algorithm that's perfect for learning machine learning concepts. By experimenting with different K values, distance metrics, and datasets, you'll develop an intuitive understanding of how classification works and when different approaches are most effective."})]})})]})}),e.jsx("section",{className:"copyright-section",children:e.jsx("div",{className:"copyright-notice",children:e.jsx("p",{children:"© 2025, Todd Brous. All rights reserved."})})})]})})},Kw=()=>{const n=_.useRef(null),[i,r]=_.useState({w0:.5,w1:.3,w2:-.2,w3:.8}),[c,o]=_.useState({x1:1,x2:.5,x3:.8}),[h,f]=_.useState("step"),[p,x]=_.useState({weightedSum:0,activationOutput:0,finalOutput:0}),m={step:{name:"Step Function",description:"Binary output based on threshold",formula:"f(x) = 1 if x > 0, else 0",calculate:M=>M>0?1:0},sigmoid:{name:"Sigmoid Function",description:"Smooth S-shaped curve, outputs between 0 and 1",formula:"f(x) = 1 / (1 + e^(-x))",calculate:M=>1/(1+Math.exp(-M))},tanh:{name:"Hyperbolic Tangent",description:"S-shaped curve, outputs between -1 and 1",formula:"f(x) = (e^x - e^(-x)) / (e^x + e^(-x))",calculate:M=>Math.tanh(M)},relu:{name:"ReLU (Rectified Linear Unit)",description:"Returns input if positive, 0 otherwise",formula:"f(x) = max(0, x)",calculate:M=>Math.max(0,M)}},g=()=>i.w0+i.w1*c.x1+i.w2*c.x2+i.w3*c.x3;_.useEffect(()=>{const M=g(),R=m[h].calculate(M);x({weightedSum:M,activationOutput:R,finalOutput:R})},[i,c,h]);const y=()=>{if(!n.current)return;const M=Ee(n.current);M.selectAll("*").remove();const H=M.attr("width",600).attr("height",300).append("g"),F=[{id:"bias",x:60,y:60,label:"b",value:i.w0,color:"#f59e0b"},{id:"x1",x:60,y:120,label:"x₁",value:c.x1,color:"#3b82f6"},{id:"x2",x:60,y:180,label:"x₂",value:c.x2,color:"#3b82f6"},{id:"x3",x:60,y:240,label:"x₃",value:c.x3,color:"#3b82f6"},{id:"sum",x:300,y:150,label:"Σ",value:p.weightedSum.toFixed(2),color:"#ef4444"},{id:"activation",x:450,y:150,label:"f(x)",value:p.activationOutput.toFixed(2),color:"#22c55e"},{id:"output",x:550,y:150,label:"ŷ",value:p.finalOutput.toFixed(2),color:"#8b5cf6"}];[{from:"bias",to:"sum",weight:i.w0,showWeight:!0},{from:"x1",to:"sum",weight:i.w1,showWeight:!0},{from:"x2",to:"sum",weight:i.w2,showWeight:!0},{from:"x3",to:"sum",weight:i.w3,showWeight:!0},{from:"sum",to:"activation",weight:1,showWeight:!1},{from:"activation",to:"output",weight:1,showWeight:!1}].forEach(O=>{const V=F.find(se=>se.id===O.from),Q=F.find(se=>se.id===O.to);if(V&&Q&&(H.append("line").attr("x1",V.x+30).attr("y1",V.y+15).attr("x2",Q.x-30).attr("y2",Q.y+15).style("stroke","#64748b").style("stroke-width",3),O.showWeight)){const se=(V.x+Q.x)/2,q=(V.y+Q.y)/2;H.append("text").attr("x",se).attr("y",q-8).text(`w${O.from==="bias"?"₀":O.from.slice(1)}`).style("font-size","14px").style("font-weight","bold").style("fill","#374151").style("text-anchor","middle").style("background-color","white").style("padding","2px 4px").style("border-radius","3px")}}),F.forEach(O=>{const V=H.append("g").attr("transform",`translate(${O.x},${O.y})`);V.append("circle").attr("r",30).style("fill",O.color).style("stroke","#374151").style("stroke-width",3),V.append("text").attr("text-anchor","middle").attr("dy","0.35em").text(O.label).style("font-size","16px").style("font-weight","bold").style("fill","white"),O.id!=="sum"&&O.id!=="activation"&&O.id!=="output"&&V.append("text").attr("x",0).attr("y",45).text(typeof O.value=="number"?O.value.toFixed(2):O.value).style("font-size","12px").style("text-anchor","middle").style("fill","#64748b").style("font-weight","bold")}),H.append("text").attr("x",60).attr("y",30).text("Inputs").style("font-size","12px").style("font-weight","bold").style("fill","#374151"),H.append("text").attr("x",300).attr("y",100).text("Summation").style("font-size","12px").style("font-weight","bold").style("fill","#374151"),H.append("text").attr("x",450).attr("y",100).text("Activation").style("font-size","12px").style("font-weight","bold").style("fill","#374151"),H.append("text").attr("x",550).attr("y",100).text("Output").style("font-size","12px").style("font-weight","bold").style("fill","#374151")};_.useEffect(()=>{y()},[i,c,p,h]);const j=(M,R)=>{r(z=>({...z,[M]:R}))},w=(M,R)=>{o(z=>({...z,[M]:R}))},B=()=>{r({w0:.5,w1:.3,w2:-.2,w3:.8}),o({x1:1,x2:.5,x3:.8}),f("step")};return e.jsx("div",{className:"perceptron-anatomy fade-in",children:e.jsxs("div",{className:"container",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Perceptron Anatomy Explorer"}),e.jsx("p",{className:"page-description",children:"Explore the internal structure of a perceptron and understand how it processes information. Adjust weights, inputs, and activation functions to see how they affect the final output."})]}),e.jsxs("div",{className:"single-screen-layout",children:[e.jsxs("div",{className:"diagram-panel",children:[e.jsx("div",{className:"diagram-header",children:e.jsx("h2",{className:"diagram-title",children:"Perceptron Structure"})}),e.jsx("div",{className:"diagram-container",children:e.jsx("svg",{ref:n,className:"simulation-svg"})}),e.jsxs("div",{className:"diagram-results",children:[e.jsx("h3",{className:"results-title",children:"Real-Time Results"}),e.jsxs("div",{className:"results-grid",children:[e.jsxs("div",{className:"result-item",children:[e.jsx("span",{className:"result-label",children:"Weighted Sum:"}),e.jsx("span",{className:"result-value",children:p.weightedSum.toFixed(3)})]}),e.jsxs("div",{className:"result-item",children:[e.jsx("span",{className:"result-label",children:"Activation:"}),e.jsx("span",{className:"result-value",children:p.activationOutput.toFixed(3)})]}),e.jsxs("div",{className:"result-item",children:[e.jsx("span",{className:"result-label",children:"Final Output:"}),e.jsx("span",{className:"result-value",children:p.finalOutput.toFixed(3)})]})]})]})]}),e.jsxs("div",{className:"compact-controls-panel",children:[e.jsxs("div",{className:"controls-grid",children:[e.jsxs("div",{className:"control-card",children:[e.jsx("h3",{className:"control-title",children:"Input Values"}),e.jsxs("div",{className:"compact-controls",children:[e.jsxs("div",{className:"control-row",children:[e.jsx("label",{className:"control-label",children:"x₁"}),e.jsx("input",{type:"range",min:"-2",max:"2",step:"0.1",value:c.x1,onChange:M=>w("x1",parseFloat(M.target.value)),className:"slider"}),e.jsx("span",{className:"value",children:c.x1.toFixed(1)})]}),e.jsxs("div",{className:"control-row",children:[e.jsx("label",{className:"control-label",children:"x₂"}),e.jsx("input",{type:"range",min:"-2",max:"2",step:"0.1",value:c.x2,onChange:M=>w("x2",parseFloat(M.target.value)),className:"slider"}),e.jsx("span",{className:"value",children:c.x2.toFixed(1)})]}),e.jsxs("div",{className:"control-row",children:[e.jsx("label",{className:"control-label",children:"x₃"}),e.jsx("input",{type:"range",min:"-2",max:"2",step:"0.1",value:c.x3,onChange:M=>w("x3",parseFloat(M.target.value)),className:"slider"}),e.jsx("span",{className:"value",children:c.x3.toFixed(1)})]})]})]}),e.jsxs("div",{className:"control-card",children:[e.jsx("h3",{className:"control-title",children:"Weight Parameters"}),e.jsxs("div",{className:"compact-controls",children:[e.jsxs("div",{className:"control-row",children:[e.jsx("label",{className:"control-label",children:"w₀"}),e.jsx("input",{type:"range",min:"-2",max:"2",step:"0.1",value:i.w0,onChange:M=>j("w0",parseFloat(M.target.value)),className:"slider"}),e.jsx("span",{className:"value",children:i.w0.toFixed(1)})]}),e.jsxs("div",{className:"control-row",children:[e.jsx("label",{className:"control-label",children:"w₁"}),e.jsx("input",{type:"range",min:"-2",max:"2",step:"0.1",value:i.w1,onChange:M=>j("w1",parseFloat(M.target.value)),className:"slider"}),e.jsx("span",{className:"value",children:i.w1.toFixed(1)})]}),e.jsxs("div",{className:"control-row",children:[e.jsx("label",{className:"control-label",children:"w₂"}),e.jsx("input",{type:"range",min:"-2",max:"2",step:"0.1",value:i.w2,onChange:M=>j("w2",parseFloat(M.target.value)),className:"slider"}),e.jsx("span",{className:"value",children:i.w2.toFixed(1)})]}),e.jsxs("div",{className:"control-row",children:[e.jsx("label",{className:"control-label",children:"w₃"}),e.jsx("input",{type:"range",min:"-2",max:"2",step:"0.1",value:i.w3,onChange:M=>j("w3",parseFloat(M.target.value)),className:"slider"}),e.jsx("span",{className:"value",children:i.w3.toFixed(1)})]})]})]})]}),e.jsxs("div",{className:"control-card",children:[e.jsx("h3",{className:"control-title",children:"Activation Function"}),e.jsxs("div",{className:"activation-control",children:[e.jsxs("select",{value:h,onChange:M=>f(M.target.value),className:"activation-select",children:[e.jsx("option",{value:"step",children:"Step Function"}),e.jsx("option",{value:"sigmoid",children:"Sigmoid"}),e.jsx("option",{value:"tanh",children:"Hyperbolic Tangent"}),e.jsx("option",{value:"relu",children:"ReLU"})]}),e.jsxs("div",{className:"activation-info",children:[e.jsx("strong",{children:m[h].name}),e.jsx("p",{children:m[h].description})]})]})]}),e.jsx("div",{className:"control-card",children:e.jsx("button",{onClick:B,className:"btn btn-secondary reset-btn",children:"Reset to Defaults"})})]})]}),e.jsx("div",{className:"explanation-section",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Understanding Perceptron Anatomy"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"explanation-content",children:[e.jsx("h4",{children:"What is a Perceptron?"}),e.jsx("p",{children:"A perceptron is the simplest form of a neural network - it's like a single neuron that makes decisions by weighing up evidence. Think of it as a minimalist artist who takes inspiration from multiple sources and decides whether to make a mark on the canvas."}),e.jsxs("div",{style:{backgroundColor:"#f0f9ff",padding:"20px",borderRadius:"8px",margin:"16px 0",border:"1px solid #0ea5e9"},children:[e.jsx("h5",{style:{margin:"0 0 12px 0",color:"#0c4a6e"},children:"The Artistic Metaphor"}),e.jsx("p",{style:{margin:"0",color:"#0c4a6e",fontStyle:"italic"},children:'"Imagine a perceptron as a minimalist artist who takes inspiration from multiple sources (inputs), weighs their importance (weights), and decides whether to make a mark on the canvas (output 1) or leave it blank (output 0) based on whether the total inspiration crosses a threshold."'})]}),e.jsx("h4",{children:"How Does It Work?"}),e.jsx("p",{children:"The perceptron takes several inputs, multiplies them by weights, adds a bias, and uses an activation function to make a binary decision:"}),e.jsxs("div",{style:{backgroundColor:"#f8fafc",padding:"20px",borderRadius:"8px",margin:"16px 0",border:"1px solid #e2e8f0"},children:[e.jsx("h5",{style:{margin:"0 0 12px 0",color:"#1e293b"},children:"The Decision Process:"}),e.jsxs("ol",{style:{margin:"0",paddingLeft:"20px"},children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Weigh the Evidence:"})," Each input is multiplied by its weight (importance)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Sum It Up:"})," Add all weighted inputs plus the bias"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Make the Decision:"})," If the sum exceeds the threshold, output 1; otherwise, output 0"]})]})]}),e.jsx("h4",{children:"Understanding the Bias"}),e.jsx("p",{children:'The bias is like a "threshold of conviction" - it determines how easy it is to get the perceptron to output a 1:'}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"High Bias:"})," Easy to get output 1 (low threshold)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Low Bias:"})," Hard to get output 1 (high threshold)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Negative Bias:"})," Very difficult to get output 1"]})]}),e.jsx("h4",{children:"Key Components Explained"}),e.jsxs("div",{style:{backgroundColor:"#f0fdf4",padding:"20px",borderRadius:"8px",margin:"16px 0",border:"1px solid #22c55e"},children:[e.jsx("h5",{style:{margin:"0 0 12px 0",color:"#166534"},children:"The Building Blocks:"}),e.jsxs("ul",{style:{margin:"0",paddingLeft:"20px"},children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Inputs (x₁, x₂, x₃):"})," The evidence or inspiration sources"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Weights (w₁, w₂, w₃):"})," How much each input matters to the decision"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Bias (w₀):"}),' The threshold of conviction - how easy it is to say "yes"']}),e.jsxs("li",{children:[e.jsx("strong",{children:"Summation:"})," Weighing up all the evidence"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Activation Function:"})," The final decision rule"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Output:"})," The binary decision (1 = yes, 0 = no)"]})]})]}),e.jsx("h4",{children:"Mathematical Foundation"}),e.jsx("p",{children:"The perceptron follows this exact formula:"}),e.jsxs("div",{style:{backgroundColor:"#f8fafc",padding:"20px",borderRadius:"8px",margin:"16px 0",border:"1px solid #e2e8f0"},children:[e.jsxs("div",{style:{fontFamily:"monospace",fontSize:"18px",textAlign:"center",margin:"12px 0"},children:[e.jsx("strong",{children:"Weighted Sum = w₀ + w₁×x₁ + w₂×x₂ + w₃×x₃"}),e.jsx("br",{}),e.jsx("strong",{children:"Output = Activation(Weighted Sum)"})]}),e.jsxs("p",{style:{margin:"8px 0 0 0",fontSize:"14px",color:"#64748b",textAlign:"center"},children:["If Weighted Sum > 0: Output = 1 (Make the mark)",e.jsx("br",{}),"If Weighted Sum ≤ 0: Output = 0 (Leave blank)"]})]}),e.jsx("h4",{children:"Try These Experiments"}),e.jsxs("div",{style:{backgroundColor:"#fef3c7",padding:"20px",borderRadius:"8px",margin:"16px 0",border:"1px solid #f59e0b"},children:[e.jsx("h5",{style:{margin:"0 0 12px 0",color:"#92400e"},children:"Interactive Learning:"}),e.jsxs("ul",{style:{margin:"0",paddingLeft:"20px"},children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Adjust Weights:"})," See how changing importance affects the decision"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Change Inputs:"})," Try different evidence values and observe results"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Modify Bias:"})," Change the threshold of conviction"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Switch Activation Functions:"})," Compare different decision rules"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Watch the Math:"})," See the weighted sum calculation in real-time"]})]})]}),e.jsx("h4",{children:"Why This Matters"}),e.jsx("p",{children:"Understanding perceptron anatomy is crucial for learning neural networks because:"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Foundation Knowledge:"})," All neural networks are built from perceptrons"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Decision Making:"})," You understand how AI systems make binary decisions"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Mathematical Intuition:"})," You see exactly how calculations work"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Parameter Understanding:"})," You understand what weights and biases do"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Activation Functions:"})," You see how different functions affect output"]})]}),e.jsx("h4",{children:"Real-World Applications"}),e.jsx("p",{children:"Perceptrons are used in:"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Email Spam Detection:"})," Weighing features like sender, subject, content"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Medical Diagnosis:"})," Combining symptoms to make binary decisions"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Financial Fraud Detection:"})," Analyzing transaction patterns"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Image Classification:"})," Determining if an image contains a specific object"]})]})]})})]})}),e.jsx("section",{className:"copyright-section",children:e.jsx("div",{className:"copyright-notice",children:e.jsx("p",{children:"© 2025, Todd Brous. All rights reserved."})})})]})})},Pw=()=>{const n=_.useRef(null),[i,r]=_.useState("and-gate"),[c,o]=_.useState([]),[h,f]=_.useState({learningRate:.1,maxIterations:100,showStepByStep:!1}),[p,x]=_.useState(!0),[m,g]=_.useState(!0),[y,j]=_.useState(!0),[w,B]=_.useState(!1),[M,R]=_.useState(!1),[z,H]=_.useState(0),[F,L]=_.useState([]),[O,V]=_.useState(null),[Q,se]=_.useState(0),[q,J]=_.useState({weights:{w0:0,w1:0,w2:0},accuracy:0,iterations:0,converged:!1,decisionBoundary:[]}),G={"and-gate":{name:"AND Gate",description:"Classic AND logic gate - linearly separable",data:[{id:"1",x:0,y:0,label:0,color:"#ef4444"},{id:"2",x:0,y:1,label:0,color:"#ef4444"},{id:"3",x:1,y:0,label:0,color:"#ef4444"},{id:"4",x:1,y:1,label:1,color:"#22c55e"}],color0:"#ef4444",color1:"#22c55e",linearlySeparable:!0},"or-gate":{name:"OR Gate",description:"Classic OR logic gate - linearly separable",data:[{id:"1",x:0,y:0,label:0,color:"#ef4444"},{id:"2",x:0,y:1,label:1,color:"#22c55e"},{id:"3",x:1,y:0,label:1,color:"#22c55e"},{id:"4",x:1,y:1,label:1,color:"#22c55e"}],color0:"#ef4444",color1:"#22c55e",linearlySeparable:!0},"xor-gate":{name:"XOR Gate",description:"XOR logic gate - NOT linearly separable",data:[{id:"1",x:0,y:0,label:0,color:"#ef4444"},{id:"2",x:0,y:1,label:1,color:"#22c55e"},{id:"3",x:1,y:0,label:1,color:"#22c55e"},{id:"4",x:1,y:1,label:0,color:"#ef4444"}],color0:"#ef4444",color1:"#22c55e",linearlySeparable:!1},custom:{name:"Custom Dataset",description:"Add your own data points by clicking on the plot",data:[],color0:"#ef4444",color1:"#22c55e",linearlySeparable:!0}},K=(X,A)=>A.w0+A.w1*X.x+A.w2*X.y>0?1:0,ae=(X,A)=>{let te=0;return A.forEach(ee=>{K(ee,X)===ee.label&&te++}),te/A.length},E=X=>{if(X.w2===0)return[];const A=[];for(let te=-.5;te<=1.5;te+=.01){const ee=-(X.w0+X.w1*te)/X.w2;ee>=-.5&&ee<=1.5&&A.push({x:te,y:ee})}return A},k=(X,A,te)=>{let ee={w0:0,w1:0,w2:0},Z=!1,de=0;for(let xe=0;xe<te;xe++){let ve=!1;if(X.forEach(Me=>{const Ce=K(Me,ee),Re=Me.label-Ce;Re!==0&&(ve=!0,ee.w0+=A*Re,ee.w1+=A*Re*Me.x,ee.w2+=A*Re*Me.y)}),!ve){Z=!0,de=xe+1;break}}Z||(de=te);const pe=ae(ee,X),ge=E(ee);return{weights:ee,accuracy:pe,iterations:de,converged:Z,decisionBoundary:ge}},b=()=>{c.length!==0&&(M?(H(0),L([]),V(null),se(0),B(!0),D()):(B(!0),setTimeout(()=>{const X=k(c,h.learningRate,h.maxIterations);J(X),B(!1)},1e3)))},D=()=>{let X={w0:0,w1:0,w2:0},A=0;const te=[],ee=()=>{if(A>=h.maxIterations){B(!1);return}let Z=!1,de=null,pe=0;c.forEach(Ce=>{const Re=K(Ce,X),Xe=Ce.label-Re;if(Xe!==0){Z=!0,de=Ce,pe=Xe,X.w0+=h.learningRate*Xe,X.w1+=h.learningRate*Xe*Ce.x,X.w2+=h.learningRate*Xe*Ce.y;return}});const ge=ae(X,c),xe=E(X),ve=!Z,Me={weights:{...X},accuracy:ge,iterations:A+1,converged:ve,decisionBoundary:xe};te.push(Me),L([...te]),J(Me),V(de),se(pe),H(A),ve||A>=h.maxIterations-1?B(!1):(A++,setTimeout(ee,1e3))};ee()},Y=()=>{if(z<F.length-1){const X=z+1;H(X),J(F[X])}},U=()=>{if(z>0){const X=z-1;H(X),J(F[X])}},N=()=>{J({weights:{w0:0,w1:0,w2:0},accuracy:0,iterations:0,converged:!1,decisionBoundary:[]})},T=X=>{if(i!=="custom")return;const A=n.current;if(!A)return;const te=A.getBoundingClientRect(),ee=(X.clientX-te.left-40)/(te.width-80)*2-.5,Z=1.5-(X.clientY-te.top-40)/(te.height-80)*2;if(ee<-.5||ee>1.5||Z<-.5||Z>1.5)return;const de={id:`custom-${Date.now()}`,x:Math.round(ee*10)/10,y:Math.round(Z*10)/10,label:0,color:"#ef4444"};o(pe=>[...pe,de])},C=X=>{i==="custom"&&o(A=>A.map(te=>te.id===X?{...te,label:te.label===0?1:0,color:te.label===0?"#22c55e":"#ef4444"}:te))},I=()=>{if(!n.current)return;const X=Ee(n.current);X.selectAll("*").remove();const A=600,te=400,ee={top:20,right:20,bottom:40,left:40},Z=A-ee.left-ee.right,de=te-ee.top-ee.bottom,pe=X.attr("width",A).attr("height",te).append("g").attr("transform",`translate(${ee.left},${ee.top})`),ge=Ke().domain([-.5,1.5]).range([0,Z]),xe=Ke().domain([-.5,1.5]).range([de,0]);if(p){const Ce=rt(ge).tickSize(-de).tickFormat(()=>""),Re=ct(xe).tickSize(-Z).tickFormat(()=>"");pe.append("g").attr("class","grid").attr("transform",`translate(0,${de})`).call(Ce).style("stroke","#e2e8f0").style("stroke-width",1),pe.append("g").attr("class","grid").call(Re).style("stroke","#e2e8f0").style("stroke-width",1)}const ve=rt(ge).tickValues([0,.5,1]),Me=ct(xe).tickValues([0,.5,1]);if(pe.append("g").attr("class","axis").attr("transform",`translate(0,${de})`).call(ve).style("color","#64748b"),pe.append("g").attr("class","axis").call(Me).style("color","#64748b"),m&&q.decisionBoundary.length>0){const Ce=rs().x(Re=>ge(Re.x)).y(Re=>xe(Re.y));pe.append("path").datum(q.decisionBoundary).attr("class","decision-boundary").attr("d",Ce).style("fill","none").style("stroke","#3b82f6").style("stroke-width",2).style("stroke-dasharray","5,5")}if(pe.selectAll(".data-point").data(c).enter().append("circle").attr("class","data-point").attr("cx",Ce=>ge(Ce.x)).attr("cy",Ce=>xe(Ce.y)).attr("r",8).style("fill",Ce=>Ce.color).style("stroke","#374151").style("stroke-width",2).style("opacity",.8).style("cursor",i==="custom"?"pointer":"default").on("click",(Ce,Re)=>{i==="custom"&&C(Re.id)}),pe.selectAll(".data-label").data(c).enter().append("text").attr("class","data-label").attr("x",Ce=>ge(Ce.x)+12).attr("y",Ce=>xe(Ce.y)-12).text(Ce=>Ce.label.toString()).style("font-size","14px").style("font-weight","bold").style("fill","#374151"),y&&q.weights.w1!==0&&q.weights.w2!==0){const Ce=Z/2,Re=de/2,Xe=50;pe.append("line").attr("class","weight-vector").attr("x1",Ce).attr("y1",Re).attr("x2",Ce+q.weights.w1*Xe).attr("y2",Re-q.weights.w2*Xe).style("stroke","#f59e0b").style("stroke-width",3).style("marker-end","url(#arrowhead)"),X.append("defs").append("marker").attr("id","arrowhead").attr("markerWidth",10).attr("markerHeight",7).attr("refX",9).attr("refY",3.5).attr("orient","auto").append("polygon").attr("points","0 0, 10 3.5, 0 7").style("fill","#f59e0b")}};_.useEffect(()=>{const X=G[i];o(X.data),N()},[i]),_.useEffect(()=>{I()},[c,q,p,m,y]);const P=(X,A)=>{f(te=>({...te,[X]:A}))};return e.jsx("div",{className:"perceptron-learning fade-in",children:e.jsxs("div",{className:"container",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Perceptron Learning Simulator"}),e.jsx("p",{className:"page-description",children:"Explore the foundation of neural networks with the perceptron learning algorithm. Watch how a single-layer perceptron learns to classify data points and understand the limitations of linear separability."})]}),e.jsxs("div",{className:"simulation-layout",children:[e.jsxs("div",{className:"visualization-panel",children:[e.jsxs("div",{className:"visualization-header",children:[e.jsx("h2",{className:"visualization-title",children:"Perceptron Learning Visualization"}),e.jsxs("div",{className:"visualization-controls",children:[e.jsxs("label",{className:"control-label",children:[e.jsx("input",{type:"checkbox",checked:p,onChange:X=>x(X.target.checked)}),"Show Grid"]}),e.jsxs("label",{className:"control-label",children:[e.jsx("input",{type:"checkbox",checked:m,onChange:X=>g(X.target.checked)}),"Decision Boundary"]}),e.jsxs("label",{className:"control-label",children:[e.jsx("input",{type:"checkbox",checked:y,onChange:X=>j(X.target.checked)}),"Weight Vector"]})]})]}),e.jsx("div",{className:"visualization-container",children:e.jsx("svg",{ref:n,className:"simulation-svg",onClick:T,style:{cursor:i==="custom"?"crosshair":"default"}})})]}),e.jsxs("div",{className:"controls-panel",children:[e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Dataset Selection"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"parameter-controls",children:[e.jsxs("div",{className:"input-group",children:[e.jsx("label",{className:"label",children:"Choose Dataset"}),e.jsxs("select",{value:i,onChange:X=>r(X.target.value),className:"input",children:[e.jsx("option",{value:"and-gate",children:"AND Gate"}),e.jsx("option",{value:"or-gate",children:"OR Gate"}),e.jsx("option",{value:"xor-gate",children:"XOR Gate"}),e.jsx("option",{value:"custom",children:"Custom Dataset"})]})]}),e.jsx("p",{className:"text-sm text-secondary-600",children:G[i].description})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Learning Parameters"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"parameter-controls",children:[e.jsxs("div",{className:"input-group",children:[e.jsx("label",{className:"label",children:"Learning Rate"}),e.jsx("input",{type:"range",min:"0.01",max:"1",step:"0.01",value:h.learningRate,onChange:X=>P("learningRate",parseFloat(X.target.value)),className:"slider"}),e.jsx("span",{className:"value-display",children:h.learningRate.toFixed(2)})]}),e.jsxs("div",{className:"input-group",children:[e.jsx("label",{className:"label",children:"Max Iterations"}),e.jsx("input",{type:"range",min:"10",max:"500",step:"10",value:h.maxIterations,onChange:X=>P("maxIterations",parseInt(X.target.value)),className:"slider"}),e.jsx("span",{className:"value-display",children:h.maxIterations})]})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Algorithm Controls"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"algorithm-controls",children:[e.jsx("div",{className:"checkbox-group",children:e.jsxs("label",{className:"control-label",children:[e.jsx("input",{type:"checkbox",checked:M,onChange:X=>R(X.target.checked)}),"Step-by-Step Learning"]})}),e.jsx("button",{onClick:b,className:"btn btn-primary",disabled:w||c.length===0,children:w?"Processing...":"Train Perceptron"}),M&&F.length>0&&e.jsxs("div",{className:"step-controls",children:[e.jsx("button",{onClick:U,className:"btn btn-secondary",disabled:z===0||w,children:"Previous Step"}),e.jsxs("span",{className:"step-counter",children:["Step ",z+1," of ",F.length,q.converged&&" (Complete)"]}),e.jsx("button",{onClick:Y,className:"btn btn-secondary",disabled:z>=F.length-1||w,children:w?"Processing...":z>=F.length-1?"Complete":"Next Step"})]}),e.jsx("button",{onClick:N,className:"btn btn-secondary",disabled:w,children:"Reset"})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Learning Results"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"results-display",children:[e.jsxs("div",{className:"result-item",children:[e.jsx("span",{className:"result-label",children:"Accuracy:"}),e.jsxs("span",{className:"result-value",children:[(q.accuracy*100).toFixed(1),"%"]})]}),e.jsxs("div",{className:"result-item",children:[e.jsx("span",{className:"result-label",children:"Iterations:"}),e.jsx("span",{className:"result-value",children:q.iterations})]}),e.jsxs("div",{className:"result-item",children:[e.jsx("span",{className:"result-label",children:"Converged:"}),e.jsx("span",{className:"result-value",children:q.converged?"Yes":"No"})]}),e.jsxs("div",{className:"result-item",children:[e.jsx("span",{className:"result-label",children:"Weights:"}),e.jsxs("span",{className:"result-value",children:["[",q.weights.w0.toFixed(2),", ",q.weights.w1.toFixed(2),", ",q.weights.w2.toFixed(2),"]"]})]}),M&&O&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"result-item",children:[e.jsx("span",{className:"result-label",children:"Processing Point:"}),e.jsxs("span",{className:"result-value",children:["(",O.x,", ",O.y,") → ",O.label]})]}),e.jsxs("div",{className:"result-item",children:[e.jsx("span",{className:"result-label",children:"Error:"}),e.jsx("span",{className:"result-value",children:Q})]}),e.jsxs("div",{className:"result-item",children:[e.jsx("span",{className:"result-label",children:"Prediction:"}),e.jsx("span",{className:"result-value",children:K(O,q.weights)})]})]})]})})]})]})]}),e.jsxs("div",{className:"explanation-section",children:[e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Perceptron Anatomy: How It's Built"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"explanation-content",children:[e.jsx("h4",{children:"Perceptron Structure"}),e.jsx("p",{children:"Before we understand how a perceptron learns, we need to understand how it's built. A perceptron is the simplest type of artificial neural network, consisting of:"}),e.jsxs("div",{style:{backgroundColor:"#f8fafc",padding:"20px",borderRadius:"8px",margin:"16px 0",border:"1px solid #e2e8f0"},children:[e.jsx("h5",{style:{margin:"0 0 16px 0",color:"#1e293b"},children:"Perceptron Components:"}),e.jsxs("ul",{style:{margin:"0",paddingLeft:"20px"},children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Inputs (x₁, x₂, x₃, ...):"})," The data features we want to analyze"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Weights (w₁, w₂, w₃, ...):"})," How important each input is to the decision"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Bias (b or w₀):"})," A constant that shifts the decision boundary"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Summation (Σ):"})," Adds up all weighted inputs plus bias"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Activation Function:"})," Converts the sum into a final decision (0 or 1)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Output (ŷ):"})," The final prediction"]})]})]}),e.jsx("h4",{children:"The Forward Pass Calculation"}),e.jsx("p",{children:"Every time a perceptron makes a decision, it follows this exact process:"}),e.jsxs("div",{style:{backgroundColor:"#f0f9ff",padding:"20px",borderRadius:"8px",margin:"16px 0",border:"1px solid #0ea5e9"},children:[e.jsx("h5",{style:{margin:"0 0 16px 0",color:"#0c4a6e"},children:"Step-by-Step Forward Pass:"}),e.jsxs("ol",{style:{margin:"0",paddingLeft:"20px"},children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Calculate Weighted Sum:"})," Multiply each input by its weight and add the bias"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Apply Activation Function:"})," Convert the sum into a decision"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Output Prediction:"})," Return 0 or 1 based on the activation"]})]})]}),e.jsxs("div",{style:{backgroundColor:"#f8fafc",padding:"20px",borderRadius:"8px",margin:"16px 0",border:"1px solid #e2e8f0"},children:[e.jsx("h5",{style:{margin:"0 0 12px 0",color:"#1e293b"},children:"Mathematical Formula:"}),e.jsxs("div",{style:{fontFamily:"monospace",fontSize:"18px",textAlign:"center",margin:"12px 0"},children:[e.jsx("strong",{children:"Sum = w₀ + w₁×x₁ + w₂×x₂ + w₃×x₃ + ..."}),e.jsx("br",{}),e.jsx("strong",{children:"Output = Activation(Sum)"})]}),e.jsxs("p",{style:{margin:"8px 0 0 0",fontSize:"14px",color:"#64748b"},children:["For our 2D simulation: ",e.jsx("strong",{children:"Sum = w₀ + w₁×x + w₂×y"})]})]}),e.jsx("h4",{children:"Activation Function"}),e.jsx("p",{children:'The activation function is what makes the perceptron "decide." In our simulation, we use a simple step function:'}),e.jsxs("div",{style:{backgroundColor:"#f0fdf4",padding:"20px",borderRadius:"8px",margin:"16px 0",border:"1px solid #22c55e"},children:[e.jsx("h5",{style:{margin:"0 0 12px 0",color:"#166534"},children:"Step Function (Threshold):"}),e.jsxs("div",{style:{fontFamily:"monospace",fontSize:"16px",textAlign:"center",margin:"12px 0"},children:[e.jsx("strong",{children:"If Sum > 0: Output = 1"}),e.jsx("br",{}),e.jsx("strong",{children:"If Sum ≤ 0: Output = 0"})]}),e.jsx("p",{style:{margin:"8px 0 0 0",fontSize:"14px",color:"#64748b"},children:"This creates a sharp decision boundary at Sum = 0"})]}),e.jsx("h4",{children:"Why This Structure Matters"}),e.jsx("p",{children:"Understanding the perceptron's anatomy helps us understand its limitations:"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Linear Decision Boundary:"})," The step function creates a straight line (in 2D) or plane (in 3D)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Binary Output:"})," Can only make yes/no decisions, not probabilities"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Single Layer:"})," No hidden layers means limited complexity"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Linear Separability:"})," Can only solve problems that can be separated by a straight line"]})]})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Understanding the Perceptron Learning Algorithm"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"explanation-content",children:[e.jsx("h4",{children:"What is a Perceptron?"}),e.jsx("p",{children:'A perceptron is the simplest type of artificial neural network - think of it as a single "neuron" that can learn to make decisions. It was invented in 1957 by Frank Rosenblatt and was one of the first attempts to create artificial intelligence. The perceptron takes multiple inputs, weighs them, and makes a binary decision (yes/no, 0/1, true/false).'}),e.jsxs("p",{children:[e.jsx("strong",{children:"Real-world analogy:"})," Imagine you're deciding whether to go to a movie. You consider factors like: Is it a good movie? (input 1), Is it cheap? (input 2), Do you have time? (input 3). Each factor has a different importance (weight) to you, and you make a final decision based on the weighted combination of all factors."]}),e.jsx("h4",{children:"The Mathematical Foundation"}),e.jsx("p",{children:"The perceptron uses a simple mathematical formula to make decisions:"}),e.jsxs("div",{style:{backgroundColor:"#f8fafc",padding:"16px",borderRadius:"8px",margin:"16px 0",border:"1px solid #e2e8f0"},children:[e.jsx("strong",{children:"Perceptron Formula:"}),e.jsx("br",{}),e.jsx("code",{children:"prediction = w₀ + w₁×x + w₂×y"}),e.jsx("br",{}),e.jsx("code",{children:"output = 1 if prediction > 0, otherwise 0"})]}),e.jsx("p",{children:e.jsx("strong",{children:"Breaking this down:"})}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"w₀ (bias):"})," A constant that shifts the decision boundary up or down"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"w₁, w₂ (weights):"})," How important each input (x, y) is to the decision"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"x, y:"})," The input features (coordinates of our data points)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Threshold:"})," If the weighted sum is positive, predict class 1; if negative, predict class 0"]})]}),e.jsx("h4",{children:"How Does the Perceptron Learn? (Step-by-Step)"}),e.jsx("p",{children:"The perceptron learning algorithm is like a student learning from mistakes:"}),e.jsxs("div",{style:{backgroundColor:"#f0f9ff",padding:"16px",borderRadius:"8px",margin:"16px 0",border:"1px solid #0ea5e9"},children:[e.jsx("h5",{style:{margin:"0 0 12px 0",color:"#0c4a6e"},children:"Step 1: Initialize"}),e.jsx("p",{style:{margin:"0"},children:"Start with random weights (usually all zeros): w₀ = 0, w₁ = 0, w₂ = 0"})]}),e.jsxs("div",{style:{backgroundColor:"#f0fdf4",padding:"16px",borderRadius:"8px",margin:"16px 0",border:"1px solid #22c55e"},children:[e.jsx("h5",{style:{margin:"0 0 12px 0",color:"#166534"},children:"Step 2: Make a Prediction"}),e.jsx("p",{style:{margin:"0"},children:"For each data point, calculate: prediction = w₀ + w₁×x + w₂×y"}),e.jsx("p",{style:{margin:"8px 0 0 0"},children:"If prediction > 0, guess class 1; if prediction ≤ 0, guess class 0"})]}),e.jsxs("div",{style:{backgroundColor:"#fef3c7",padding:"16px",borderRadius:"8px",margin:"16px 0",border:"1px solid #f59e0b"},children:[e.jsx("h5",{style:{margin:"0 0 12px 0",color:"#92400e"},children:"Step 3: Calculate the Error"}),e.jsx("p",{style:{margin:"0"},children:"Compare your guess with the correct answer:"}),e.jsx("p",{style:{margin:"8px 0 0 0"},children:e.jsx("strong",{children:"Error = Correct Answer - Your Guess"})}),e.jsx("p",{style:{margin:"8px 0 0 0"},children:"If you're right, error = 0 (no change needed)"}),e.jsx("p",{style:{margin:"8px 0 0 0"},children:"If you're wrong, error = ±1 (weights need adjustment)"})]}),e.jsxs("div",{style:{backgroundColor:"#fce7f3",padding:"16px",borderRadius:"8px",margin:"16px 0",border:"1px solid #ec4899"},children:[e.jsx("h5",{style:{margin:"0 0 12px 0",color:"#be185d"},children:"Step 4: Update the Weights"}),e.jsx("p",{style:{margin:"0"},children:"If you made a mistake, adjust the weights:"}),e.jsx("p",{style:{margin:"8px 0 0 0"},children:e.jsx("strong",{children:"New w₀ = Old w₀ + Learning Rate × Error"})}),e.jsx("p",{style:{margin:"8px 0 0 0"},children:e.jsx("strong",{children:"New w₁ = Old w₁ + Learning Rate × Error × x"})}),e.jsx("p",{style:{margin:"8px 0 0 0"},children:e.jsx("strong",{children:"New w₂ = Old w₂ + Learning Rate × Error × y"})})]}),e.jsxs("div",{style:{backgroundColor:"#f3f4f6",padding:"16px",borderRadius:"8px",margin:"16px 0",border:"1px solid #9ca3af"},children:[e.jsx("h5",{style:{margin:"0 0 12px 0",color:"#374151"},children:"Step 5: Repeat"}),e.jsx("p",{style:{margin:"0"},children:"Go through all data points again and again until:"}),e.jsx("p",{style:{margin:"8px 0 0 0"},children:"• All points are classified correctly (success!)"}),e.jsx("p",{style:{margin:"8px 0 0 0"},children:"• Maximum iterations reached (might not be possible)"})]}),e.jsx("h4",{children:"Understanding the Decision Boundary"}),e.jsx("p",{children:"The decision boundary is the line that separates the two classes. It's defined by the equation:"}),e.jsxs("div",{style:{backgroundColor:"#f8fafc",padding:"16px",borderRadius:"8px",margin:"16px 0",border:"1px solid #e2e8f0"},children:[e.jsx("strong",{children:"Decision Boundary Equation:"}),e.jsx("br",{}),e.jsx("code",{children:"w₀ + w₁×x + w₂×y = 0"}),e.jsx("br",{}),e.jsx("code",{children:"Solving for y: y = -(w₀ + w₁×x) / w₂"})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Why this matters:"})," Points on one side of this line are classified as class 0, points on the other side as class 1. As the perceptron learns, this line moves and rotates until it correctly separates all the data points."]}),e.jsx("h4",{children:"Key Concepts Explained"}),e.jsx("h5",{children:"Linear Separability"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Definition:"})," Data is linearly separable if you can draw a single straight line that perfectly separates the two classes."]}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"AND Gate:"})," Linearly separable (can draw a line to separate 0s from 1s)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"OR Gate:"})," Linearly separable (can draw a line to separate 0s from 1s)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"XOR Gate:"})," NOT linearly separable (impossible to draw a single line)"]})]}),e.jsx("h5",{children:"Learning Rate"}),e.jsx("p",{children:"The learning rate controls how big steps the algorithm takes when updating weights:"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Too high (e.g., 1.0):"})," Takes big steps, might overshoot the solution"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Too low (e.g., 0.01):"})," Takes tiny steps, learns very slowly"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Just right (e.g., 0.1):"})," Balances speed and accuracy"]})]}),e.jsx("h5",{children:"Weight Vector"}),e.jsx("p",{children:'The weight vector [w₁, w₂] points in the direction perpendicular to the decision boundary. It shows which direction the perceptron is "looking" to make its decisions.'}),e.jsx("h4",{children:"Why the XOR Gate Fails (This is Important!)"}),e.jsx("p",{children:"The XOR gate is the classic example of a problem that a single perceptron cannot solve. Here's why:"}),e.jsxs("div",{style:{backgroundColor:"#fef2f2",padding:"16px",borderRadius:"8px",margin:"16px 0",border:"1px solid #fca5a5"},children:[e.jsx("h5",{style:{margin:"0 0 12px 0",color:"#dc2626"},children:"XOR Truth Table:"}),e.jsx("p",{style:{margin:"0"},children:"Input (0,0) → Output 0"}),e.jsx("p",{style:{margin:"0"},children:"Input (0,1) → Output 1"}),e.jsx("p",{style:{margin:"0"},children:"Input (1,0) → Output 1"}),e.jsx("p",{style:{margin:"0"},children:"Input (1,1) → Output 0"})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"The Problem:"})," Try to draw a single straight line that separates the 0s from the 1s. You can't! The 0s are at opposite corners (0,0) and (1,1), and the 1s are at the other corners (0,1) and (1,0). No single line can separate them."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Historical Significance:"}),` This limitation was discovered in 1969 by Minsky and Papert, and it led to the "AI winter" - a period when people thought neural networks were useless. It wasn't until the 1980s that researchers discovered that multi-layer networks could solve XOR.`]}),e.jsx("h4",{children:"Real-World Applications"}),e.jsx("p",{children:"While single perceptrons have limitations, they're still useful for:"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Email Spam Detection:"})," Based on simple features like number of exclamation marks, presence of certain words"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Medical Diagnosis:"})," Simple yes/no decisions based on clear symptoms"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Quality Control:"})," Pass/fail decisions in manufacturing"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Basic Pattern Recognition:"})," Simple image classification tasks"]})]}),e.jsx("h4",{children:"Try These Experiments"}),e.jsxs("div",{style:{backgroundColor:"#f0f9ff",padding:"16px",borderRadius:"8px",margin:"16px 0",border:"1px solid #0ea5e9"},children:[e.jsx("h5",{style:{margin:"0 0 12px 0",color:"#0c4a6e"},children:"Learning Experiments:"}),e.jsxs("ul",{style:{margin:"0"},children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Start with AND Gate:"})," Watch the perceptron learn this simple pattern"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Try OR Gate:"})," See how it handles a different but still separable pattern"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Experiment with XOR:"})," Watch it struggle and fail - this is the key learning moment!"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Create Custom Data:"})," Add your own points and see if the perceptron can learn them"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Adjust Learning Rate:"})," See how it affects the learning speed and accuracy"]})]})]}),e.jsx("h4",{children:"What's Next? Multi-Layer Perceptrons"}),e.jsx("p",{children:"The perceptron's limitation with XOR led to the development of multi-layer perceptrons (MLPs), which are the foundation of modern neural networks. By adding hidden layers, we can solve non-linearly separable problems like XOR."}),e.jsxs("p",{children:[e.jsx("strong",{children:"Key Takeaway:"})," The perceptron's failure with XOR is not a bug - it's a feature! It teaches us about the fundamental limitations of single-layer networks and why we need more complex architectures for real-world problems."]})]})})]})]}),e.jsx("section",{className:"copyright-section",children:e.jsx("div",{className:"copyright-notice",children:e.jsx("p",{children:"© 2025, Todd Brous. All rights reserved."})})})]})})},Ld=[{name:"Ice Cream & Drowning",description:"Classic example of spurious correlation",xLabel:"Ice Cream Sales (gallons)",yLabel:"Drowning Deaths",correlation:.85,causation:"spurious",confoundingVariables:["Temperature","Season","Swimming Activity"],realWorldContext:"Both ice cream sales and drowning increase in hot weather",dataPoints:[{id:"1",x:50,y:12,label:"Jan",category:"spurious",explanation:"Cold weather, low ice cream sales, few swimmers",color:"#3b82f6"},{id:"2",x:65,y:18,label:"Feb",category:"spurious",explanation:"Still cold, moderate ice cream, few swimmers",color:"#3b82f6"},{id:"3",x:80,y:25,label:"Mar",category:"spurious",explanation:"Spring weather, more ice cream, more swimmers",color:"#3b82f6"},{id:"4",x:120,y:35,label:"Apr",category:"spurious",explanation:"Warmer weather, high ice cream sales, many swimmers",color:"#3b82f6"},{id:"5",x:150,y:45,label:"May",category:"spurious",explanation:"Hot weather, peak ice cream sales, peak swimming",color:"#3b82f6"},{id:"6",x:180,y:55,label:"Jun",category:"spurious",explanation:"Summer heat, maximum ice cream, maximum swimming",color:"#3b82f6"},{id:"7",x:200,y:65,label:"Jul",category:"spurious",explanation:"Peak summer, peak ice cream, peak swimming activity",color:"#3b82f6"},{id:"8",x:190,y:60,label:"Aug",category:"spurious",explanation:"Still hot, high ice cream, high swimming",color:"#3b82f6"},{id:"9",x:160,y:40,label:"Sep",category:"spurious",explanation:"Cooling weather, moderate ice cream, fewer swimmers",color:"#3b82f6"},{id:"10",x:100,y:25,label:"Oct",category:"spurious",explanation:"Cool weather, low ice cream, few swimmers",color:"#3b82f6"},{id:"11",x:70,y:15,label:"Nov",category:"spurious",explanation:"Cold weather, minimal ice cream, minimal swimming",color:"#3b82f6"},{id:"12",x:45,y:10,label:"Dec",category:"spurious",explanation:"Winter weather, no ice cream, no swimming",color:"#3b82f6"}]},{name:"Shoe Size & Reading Ability",description:"Age as a confounding variable",xLabel:"Shoe Size",yLabel:"Reading Test Score",correlation:.78,causation:"spurious",confoundingVariables:["Age","Developmental Stage","School Grade"],realWorldContext:"Both shoe size and reading ability increase with age",dataPoints:[{id:"1",x:3,y:20,label:"Age 4",category:"spurious",explanation:"Small feet, basic reading skills",color:"#ef4444"},{id:"2",x:4,y:35,label:"Age 5",category:"spurious",explanation:"Growing feet, learning to read",color:"#ef4444"},{id:"3",x:5,y:50,label:"Age 6",category:"spurious",explanation:"Larger feet, better reading",color:"#ef4444"},{id:"4",x:6,y:65,label:"Age 7",category:"spurious",explanation:"Bigger feet, improved reading",color:"#ef4444"},{id:"5",x:7,y:80,label:"Age 8",category:"spurious",explanation:"Even bigger feet, advanced reading",color:"#ef4444"},{id:"6",x:8,y:90,label:"Age 9",category:"spurious",explanation:"Large feet, excellent reading",color:"#ef4444"},{id:"7",x:9,y:95,label:"Age 10",category:"spurious",explanation:"Very large feet, expert reading",color:"#ef4444"}]},{name:"Temperature & Ice Cream Sales",description:"Direct causation example",xLabel:"Temperature (°F)",yLabel:"Ice Cream Sales (gallons)",correlation:.92,causation:"direct",confoundingVariables:[],realWorldContext:"Hot weather directly causes increased ice cream sales",dataPoints:[{id:"1",x:32,y:10,label:"32°F",category:"causation",explanation:"Freezing weather, no ice cream demand",color:"#22c55e"},{id:"2",x:45,y:25,label:"45°F",category:"causation",explanation:"Cold weather, minimal ice cream sales",color:"#22c55e"},{id:"3",x:60,y:50,label:"60°F",category:"causation",explanation:"Cool weather, some ice cream sales",color:"#22c55e"},{id:"4",x:75,y:100,label:"75°F",category:"causation",explanation:"Warm weather, good ice cream sales",color:"#22c55e"},{id:"5",x:85,y:150,label:"85°F",category:"causation",explanation:"Hot weather, high ice cream demand",color:"#22c55e"},{id:"6",x:95,y:200,label:"95°F",category:"causation",explanation:"Very hot weather, peak ice cream sales",color:"#22c55e"}]},{name:"Interactive Experiment",description:"Drag points to explore correlation and causation",xLabel:"Variable X",yLabel:"Variable Y",correlation:0,causation:"none",confoundingVariables:[],realWorldContext:"Experiment with your own data to understand correlation",dataPoints:[{id:"1",x:20,y:30,label:"Point 1",category:"correlation",explanation:"Drag me to see how correlation changes",color:"#8b5cf6"},{id:"2",x:40,y:50,label:"Point 2",category:"correlation",explanation:"Move me to explore relationships",color:"#8b5cf6"},{id:"3",x:60,y:70,label:"Point 3",category:"correlation",explanation:"Drag to create your own pattern",color:"#8b5cf6"},{id:"4",x:80,y:90,label:"Point 4",category:"correlation",explanation:"Experiment with different positions",color:"#8b5cf6"},{id:"5",x:100,y:110,label:"Point 5",category:"correlation",explanation:"See how correlation changes",color:"#8b5cf6"},{id:"6",x:120,y:130,label:"Point 6",category:"correlation",explanation:"Create your own dataset",color:"#8b5cf6"},{id:"7",x:140,y:150,label:"Point 7",category:"correlation",explanation:"Drag and analyze",color:"#8b5cf6"},{id:"8",x:160,y:170,label:"Point 8",category:"correlation",explanation:"Explore correlation vs causation",color:"#8b5cf6"}]}],Qw=()=>{const n=_.useRef(null),[i,r]=_.useState(Ld[0]),[c,o]=_.useState({selectedDataset:"Ice Cream & Drowning",showConfoundingVariables:!1,showTrendLine:!0,showCorrelationCoefficient:!0,animationSpeed:1}),[h,f]=_.useState(!0),[p,x]=_.useState(!0),[m,g]=_.useState(!1),[y,j]=_.useState({correlationCoefficient:0,causationType:"none",confoundingVariables:[],explanation:""}),[w,B]=_.useState(!1),[M,R]=_.useState(null),z=V=>{if(V.length<2)return 0;const Q=V.length,se=V.reduce((k,b)=>k+b.x,0),q=V.reduce((k,b)=>k+b.y,0),J=V.reduce((k,b)=>k+b.x*b.y,0),G=V.reduce((k,b)=>k+b.x*b.x,0),K=V.reduce((k,b)=>k+b.y*b.y,0),ae=Q*J-se*q,E=Math.sqrt((Q*G-se*se)*(Q*K-q*q));return E===0?0:ae/E},H=()=>{g(!0);const V=z(i.dataPoints);j({correlationCoefficient:V,causationType:i.causation,confoundingVariables:i.confoundingVariables,explanation:i.realWorldContext}),setTimeout(()=>{g(!1)},1e3)},F=()=>{if(!n.current)return;const V=Ee(n.current);V.selectAll("*").remove();const Q=600,se=400,q={top:20,right:20,bottom:60,left:60},J=Q-q.left-q.right,G=se-q.top-q.bottom,K=V.attr("width",Q).attr("height",se).append("g").attr("transform",`translate(${q.left},${q.top})`),ae=st(i.dataPoints,N=>N.x),E=st(i.dataPoints,N=>N.y),k=Ke().domain(ae).range([0,J]).nice(),b=Ke().domain(E).range([G,0]).nice();if(h){const N=rt(k).tickSize(-G).tickFormat(()=>""),T=ct(b).tickSize(-J).tickFormat(()=>"");K.append("g").attr("class","grid").attr("transform",`translate(0,${G})`).call(N).style("stroke","#e2e8f0").style("stroke-width",1),K.append("g").attr("class","grid").call(T).style("stroke","#e2e8f0").style("stroke-width",1)}const D=rt(k),Y=ct(b);if(K.append("g").attr("class","axis").attr("transform",`translate(0,${G})`).call(D).style("color","#64748b"),K.append("g").attr("class","axis").call(Y).style("color","#64748b"),K.append("text").attr("class","axis-label").attr("transform",`translate(${J/2}, ${G+45})`).style("text-anchor","middle").style("font-size","14px").style("fill","#374151").text(i.xLabel),K.append("text").attr("class","axis-label").attr("transform","rotate(-90)").attr("y",0-q.left).attr("x",0-G/2).attr("dy","1em").style("text-anchor","middle").style("font-size","14px").style("fill","#374151").text(i.yLabel),c.showTrendLine){const N=z(i.dataPoints),T=wp(i.dataPoints,ee=>ee.x)||0,C=wp(i.dataPoints,ee=>ee.y)||0,I=Np(i.dataPoints,ee=>ee.x)||1,P=Np(i.dataPoints,ee=>ee.y)||1,X=N*(P/I),A=C-X*T,te=rs().x(ee=>k(ee.x)).y(ee=>b(X*ee.x+A));K.append("path").datum(i.dataPoints).attr("class","trend-line").attr("d",te).style("stroke","#ef4444").style("stroke-width",2).style("stroke-dasharray","5,5").style("opacity",.8)}const U=K.selectAll(".data-point").data(i.dataPoints).enter().append("circle").attr("class","data-point").attr("cx",N=>k(N.x)).attr("cy",N=>b(N.y)).attr("r",6).style("fill",N=>N.color).style("stroke","#374151").style("stroke-width",2).style("opacity",.8).style("cursor","pointer");if(c.selectedDataset==="Interactive Experiment"){const N=hh().on("start",function(T,C){B(!0),R(C.id),Ee(this).transition().duration(100).attr("r",8).style("opacity",1),C.startMouseX=T.x,C.startMouseY=T.y,C.startPointX=C.x,C.startPointY=C.y}).on("drag",function(T,C){const I=T.x-C.startMouseX,P=T.y-C.startMouseY,X=k.invert(I)-k.invert(0),A=b.invert(P)-b.invert(0),te=C.startPointX+X,ee=C.startPointY+A;Ee(this).attr("cx",k(te)).attr("cy",b(ee));const Z=i.dataPoints.findIndex(de=>de.id===C.id);Z!==-1&&(i.dataPoints[Z].x=te,i.dataPoints[Z].y=ee)}).on("end",function(T,C){delete C.startMouseX,delete C.startMouseY,delete C.startPointX,delete C.startPointY,Ee(this).attr("cx",k(C.x)).attr("cy",b(C.y)).transition().duration(200).attr("r",6).style("opacity",.8),B(!1),R(null)});U.call(N)}c.selectedDataset!=="Interactive Experiment"?U.on("mouseover",function(N,T){Ee(this).transition().duration(200).attr("r",8).style("opacity",1);const C=K.append("g").attr("class","tooltip").style("opacity",0);C.append("rect").attr("x",k(T.x)+10).attr("y",b(T.y)-10).attr("width",200).attr("height",60).attr("rx",4).style("fill","#1f2937").style("opacity",.9),C.append("text").attr("x",k(T.x)+20).attr("y",b(T.y)+5).style("fill","white").style("font-size","12px").text(T.label),C.append("text").attr("x",k(T.x)+20).attr("y",b(T.y)+20).style("fill","white").style("font-size","10px").text(T.explanation),C.transition().duration(200).style("opacity",1)}).on("mouseout",function(){Ee(this).transition().duration(200).attr("r",6).style("opacity",.8),K.selectAll(".tooltip").remove()}):U.on("mouseover",function(){w||Ee(this).transition().duration(200).attr("r",8).style("opacity",1)}).on("mouseout",function(){w||Ee(this).transition().duration(200).attr("r",6).style("opacity",.8)}),p&&K.selectAll(".data-label").data(i.dataPoints).enter().append("text").attr("class","data-label").attr("x",N=>k(N.x)+10).attr("y",N=>b(N.y)-10).text(N=>N.label).style("font-size","12px").style("fill","#374151")};_.useEffect(()=>{F()},[i,c,h,p]),_.useEffect(()=>{const V=Ld.find(Q=>Q.name===c.selectedDataset);V&&(r(V),setTimeout(()=>{H()},100))},[c.selectedDataset]),_.useEffect(()=>{c.selectedDataset==="Interactive Experiment"&&H()},[i.dataPoints]);const L=(V,Q)=>{o(se=>({...se,[V]:Q}))},O=()=>{c.selectedDataset==="Interactive Experiment"?(r({name:"Interactive Experiment",description:"Drag points to explore correlation and causation",xLabel:"Variable X",yLabel:"Variable Y",correlation:0,causation:"none",confoundingVariables:[],realWorldContext:"Experiment with your own data to understand correlation",dataPoints:[{id:"1",x:20,y:30,label:"Point 1",category:"correlation",explanation:"Drag me to see how correlation changes",color:"#8b5cf6"},{id:"2",x:40,y:50,label:"Point 2",category:"correlation",explanation:"Move me to explore relationships",color:"#8b5cf6"},{id:"3",x:60,y:70,label:"Point 3",category:"correlation",explanation:"Drag to create your own pattern",color:"#8b5cf6"},{id:"4",x:80,y:90,label:"Point 4",category:"correlation",explanation:"Experiment with different positions",color:"#8b5cf6"},{id:"5",x:100,y:110,label:"Point 5",category:"correlation",explanation:"See how correlation changes",color:"#8b5cf6"},{id:"6",x:120,y:130,label:"Point 6",category:"correlation",explanation:"Create your own dataset",color:"#8b5cf6"},{id:"7",x:140,y:150,label:"Point 7",category:"correlation",explanation:"Drag and analyze",color:"#8b5cf6"},{id:"8",x:160,y:170,label:"Point 8",category:"correlation",explanation:"Explore correlation vs causation",color:"#8b5cf6"}]}),j({correlationCoefficient:0,causationType:"none",confoundingVariables:[],explanation:""})):(o({selectedDataset:"Ice Cream & Drowning",showConfoundingVariables:!1,showTrendLine:!0,showCorrelationCoefficient:!0,animationSpeed:1}),j({correlationCoefficient:0,causationType:"none",confoundingVariables:[],explanation:""}))};return e.jsx("div",{className:"correlation fade-in",children:e.jsxs("div",{className:"container",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Correlation"}),e.jsx("p",{className:"page-description",children:"Explore correlation through interactive data visualization. Learn to identify different types of correlations and understand how to measure the strength and direction of relationships between variables."})]}),e.jsxs("div",{className:"simulation-layout",children:[e.jsxs("div",{className:"visualization-panel",children:[e.jsxs("div",{className:"visualization-header",children:[e.jsx("h2",{className:"visualization-title",children:i.name}),e.jsxs("div",{className:"visualization-controls",children:[e.jsxs("label",{className:"control-label",children:[e.jsx("input",{type:"checkbox",checked:h,onChange:V=>f(V.target.checked)}),"Show Grid"]}),e.jsxs("label",{className:"control-label",children:[e.jsx("input",{type:"checkbox",checked:p,onChange:V=>x(V.target.checked)}),"Show Labels"]}),e.jsxs("label",{className:"control-label",children:[e.jsx("input",{type:"checkbox",checked:c.showTrendLine,onChange:V=>L("showTrendLine",V.target.checked)}),"Show Trend Line"]})]})]}),e.jsx("div",{className:"visualization-container",children:e.jsx("svg",{ref:n,className:"simulation-svg"})})]}),e.jsxs("div",{className:"controls-panel",children:[e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Dataset Selection"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"parameter-controls",children:[e.jsxs("div",{className:"input-group",children:[e.jsx("label",{className:"label",children:"Choose Dataset"}),e.jsx("select",{value:c.selectedDataset,onChange:V=>L("selectedDataset",V.target.value),className:"input",children:Ld.map(V=>e.jsx("option",{value:V.name,children:V.name},V.name))})]}),e.jsxs("div",{className:"dataset-description",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Description:"})," ",i.description]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Context:"})," ",i.realWorldContext]})]})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Simulation Controls"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"algorithm-controls",children:[e.jsx("button",{onClick:H,className:"btn btn-primary",disabled:m,children:m?"Analyzing...":"Analyze Correlation"}),e.jsx("button",{onClick:O,className:"btn btn-secondary",disabled:m,children:"Reset"})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Analysis Results"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"results-display",children:[e.jsxs("div",{className:"result-item",children:[e.jsx("span",{className:"result-label",children:"Correlation:"}),e.jsx("span",{className:"result-value",children:y.correlationCoefficient.toFixed(3)})]}),e.jsxs("div",{className:"result-item",children:[e.jsx("span",{className:"result-label",children:"Relationship:"}),e.jsx("span",{className:"result-value",children:y.causationType})]}),y.confoundingVariables.length>0&&e.jsxs("div",{className:"result-item",children:[e.jsx("span",{className:"result-label",children:"Confounding Variables:"}),e.jsx("span",{className:"result-value",children:y.confoundingVariables.join(", ")})]}),y.explanation&&e.jsxs("div",{className:"explanation-text",children:[e.jsx("strong",{children:"Explanation:"})," ",y.explanation]})]})})]}),c.selectedDataset==="Interactive Experiment"&&e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Interactive Experiment"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"experiment-instructions",children:[e.jsx("p",{children:e.jsx("strong",{children:"Instructions:"})}),e.jsxs("ul",{children:[e.jsx("li",{children:"Drag the purple points to create your own data pattern"}),e.jsx("li",{children:"Watch the correlation coefficient change in real-time"}),e.jsx("li",{children:"Try creating positive, negative, or no correlation"}),e.jsx("li",{children:'Click "Analyze Correlation" to see detailed results'})]}),w&&e.jsx("div",{className:"dragging-feedback",children:e.jsxs("p",{children:["Dragging point: ",M]})})]})})]}),i.confoundingVariables.length>0&&e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Confounding Variables"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"confounding-variables",children:[e.jsx("p",{children:"This correlation may be influenced by:"}),e.jsx("ul",{children:i.confoundingVariables.map((V,Q)=>e.jsx("li",{children:V},Q))})]})})]})]})]}),e.jsx("div",{className:"explanation-section",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Understanding Correlation: A Complete Guide"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"explanation-content",children:[e.jsxs("div",{className:"concept-section",children:[e.jsx("h4",{children:"What is Correlation?"}),e.jsx("p",{children:"Correlation is a statistical measure that describes the strength and direction of a linear relationship between two variables. Think of it as a way to quantify how two things move together - or don't move together."}),e.jsxs("div",{className:"math-explanation",children:[e.jsx("h5",{children:"The Mathematics Behind Correlation"}),e.jsx("p",{children:"The Pearson correlation coefficient (r) is calculated using this formula:"}),e.jsx("div",{className:"formula",children:e.jsx("p",{children:e.jsx("strong",{children:"r = Σ[(xi - x̄)(yi - ȳ)] / √[Σ(xi - x̄)² × Σ(yi - ȳ)²]"})})}),e.jsx("p",{children:"Where:"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"xi, yi:"})," Individual data points"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"x̄, ȳ:"})," Means of x and y variables"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Σ:"})," Sum of all data points"]})]})]}),e.jsxs("div",{className:"correlation-strength",children:[e.jsx("h5",{children:"Interpreting Correlation Strength"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"r = 1.0:"})," Perfect positive correlation (points form a perfect upward line)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"r = 0.7 to 0.9:"})," Strong positive correlation"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"r = 0.3 to 0.7:"})," Moderate positive correlation"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"r = 0.1 to 0.3:"})," Weak positive correlation"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"r = 0:"})," No linear correlation"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"r = -0.1 to -0.3:"})," Weak negative correlation"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"r = -0.3 to -0.7:"})," Moderate negative correlation"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"r = -0.7 to -0.9:"})," Strong negative correlation"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"r = -1.0:"})," Perfect negative correlation (points form a perfect downward line)"]})]})]})]}),e.jsxs("div",{className:"concept-section",children:[e.jsx("h4",{children:"Types of Correlation"}),e.jsxs("div",{className:"correlation-types",children:[e.jsx("h5",{children:"1. Positive Correlation"}),e.jsx("p",{children:"As one variable increases, the other also increases. Examples:"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Height and Weight:"})," Taller people tend to weigh more"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Study Time and Test Scores:"})," More studying generally leads to better grades"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Temperature and Ice Cream Sales:"})," Hotter weather increases ice cream demand"]})]}),e.jsx("h5",{children:"2. Negative Correlation"}),e.jsx("p",{children:"As one variable increases, the other decreases. Examples:"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Price and Demand:"})," Higher prices usually reduce demand"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Age and Reaction Time:"})," Older adults typically have slower reaction times"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Screen Time and Sleep Quality:"})," More screen time often reduces sleep quality"]})]}),e.jsx("h5",{children:"3. No Correlation (Zero Correlation)"}),e.jsx("p",{children:"No linear relationship exists between variables. Examples:"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Shoe Size and Intelligence:"})," No relationship between foot size and IQ"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Hair Color and Income:"})," Hair color doesn't predict earning potential"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Birth Month and Height:"})," When you're born doesn't affect how tall you grow"]})]})]})]}),e.jsxs("div",{className:"concept-section",children:[e.jsx("h4",{children:"Correlation in Creative and Design Fields"}),e.jsxs("div",{className:"creative-applications",children:[e.jsx("h5",{children:"User Experience (UX) Design"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Button Color and Click Rate:"})," Certain colors may correlate with higher engagement"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Page Load Time and Bounce Rate:"})," Faster sites typically have lower bounce rates"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Font Size and Reading Speed:"})," Larger fonts may correlate with faster reading"]})]}),e.jsx("h5",{children:"Marketing and Branding"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Brand Recognition and Purchase Intent:"})," Better recognition often correlates with higher purchase likelihood"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Social Media Engagement and Sales:"})," More likes/shares may correlate with increased revenue"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Color Psychology and Brand Perception:"})," Certain colors correlate with specific brand attributes"]})]}),e.jsx("h5",{children:"Visual Design and Aesthetics"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"White Space and Perceived Quality:"})," More white space often correlates with premium perception"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Color Contrast and Accessibility:"})," Higher contrast correlates with better accessibility scores"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Visual Hierarchy and User Navigation:"})," Clear hierarchy correlates with easier navigation"]})]}),e.jsx("h5",{children:"Data Visualization"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Chart Type and Data Comprehension:"})," Certain chart types correlate with better understanding"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Color Coding and Information Retention:"})," Consistent color schemes correlate with better memory"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Interactive Elements and Engagement:"})," More interactivity often correlates with longer engagement"]})]})]})]}),e.jsxs("div",{className:"concept-section",children:[e.jsx("h4",{children:"Common Correlation Pitfalls"}),e.jsxs("div",{className:"pitfalls",children:[e.jsx("h5",{children:"1. Correlation ≠ Causation"}),e.jsx("p",{children:"The most important principle: correlation does not imply causation. Just because two variables are related doesn't mean one causes the other."}),e.jsxs("div",{className:"example-box",children:[e.jsx("h6",{children:"Example: Ice Cream and Drowning"}),e.jsx("p",{children:"There's a strong correlation between ice cream sales and drowning deaths. Does ice cream cause drowning? No! The real cause is temperature - hot weather increases both ice cream sales and swimming, leading to more drowning incidents."})]}),e.jsx("h5",{children:"2. Spurious Correlations"}),e.jsx("p",{children:"Sometimes correlations exist purely by chance or due to hidden factors."}),e.jsxs("div",{className:"example-box",children:[e.jsx("h6",{children:"Example: Nicolas Cage Movies and Pool Drownings"}),e.jsx("p",{children:"There's a correlation between the number of Nicolas Cage movies released and the number of people who drown in pools. This is purely coincidental and has no causal relationship."})]}),e.jsx("h5",{children:"3. Non-Linear Relationships"}),e.jsx("p",{children:"Correlation only measures linear relationships. Variables might have strong non-linear relationships that correlation won't detect."}),e.jsxs("div",{className:"example-box",children:[e.jsx("h6",{children:"Example: Age and Technology Adoption"}),e.jsx("p",{children:"The relationship between age and smartphone usage isn't linear - it peaks in middle age and decreases at both ends. Linear correlation might miss this U-shaped relationship."})]}),e.jsx("h5",{children:"4. Outliers and Extreme Values"}),e.jsx("p",{children:"Single extreme values can dramatically affect correlation coefficients."}),e.jsxs("div",{className:"example-box",children:[e.jsx("h6",{children:"Example: Income and Happiness"}),e.jsx("p",{children:"One billionaire in a study of 100 people can make income and happiness appear more correlated than they actually are for most people."})]})]})]}),e.jsxs("div",{className:"concept-section",children:[e.jsx("h4",{children:"Statistical Significance and Sample Size"}),e.jsxs("div",{className:"significance-explanation",children:[e.jsx("h5",{children:"Sample Size Matters"}),e.jsx("p",{children:"Correlation coefficients can be misleading with small sample sizes:"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"n < 30:"})," Correlation may not be reliable"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"n = 30-100:"})," Moderate reliability"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"n > 100:"})," Generally reliable for most purposes"]})]}),e.jsx("h5",{children:"P-Values and Confidence"}),e.jsx("p",{children:"Statistical tests help determine if a correlation is likely due to chance:"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"p < 0.05:"})," Statistically significant (less than 5% chance it's random)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"p < 0.01:"})," Highly significant (less than 1% chance it's random)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"p > 0.05:"})," Not statistically significant (could be due to chance)"]})]})]})]}),e.jsxs("div",{className:"concept-section",children:[e.jsx("h4",{children:"Practical Applications in Data Analysis"}),e.jsxs("div",{className:"applications",children:[e.jsx("h5",{children:"1. Feature Selection in Machine Learning"}),e.jsx("p",{children:"Correlation helps identify which variables are most related to your target variable, guiding feature selection for predictive models."}),e.jsx("h5",{children:"2. A/B Testing and Experimentation"}),e.jsx("p",{children:"Understanding correlation helps design better experiments and interpret results more accurately."}),e.jsx("h5",{children:"3. User Research and Analytics"}),e.jsx("p",{children:"Correlation analysis reveals patterns in user behavior, helping optimize products and experiences."}),e.jsx("h5",{children:"4. Business Intelligence"}),e.jsx("p",{children:"Correlation helps identify key performance indicators and understand what drives business success."})]})]}),e.jsxs("div",{className:"concept-section",children:[e.jsx("h4",{children:"How to Use This Simulation Effectively"}),e.jsxs("div",{className:"simulation-guide",children:[e.jsx("h5",{children:"1. Start with Sample Datasets"}),e.jsx("p",{children:"Explore the pre-loaded datasets to understand different types of correlations and their real-world contexts."}),e.jsx("h5",{children:"2. Experiment with the Interactive Mode"}),e.jsx("p",{children:"Use the Interactive Experiment to:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Create your own data patterns"}),e.jsx("li",{children:"See how moving points affects correlation"}),e.jsx("li",{children:"Test different correlation strengths"}),e.jsx("li",{children:"Understand the relationship between visual patterns and correlation values"})]}),e.jsx("h5",{children:"3. Analyze the Results"}),e.jsx("p",{children:"Pay attention to:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Correlation coefficient values and their interpretation"}),e.jsx("li",{children:"Confounding variables that might affect the relationship"}),e.jsx("li",{children:"Real-world context and explanations"}),e.jsx("li",{children:"Whether the relationship suggests causation"})]}),e.jsx("h5",{children:"4. Practice Critical Thinking"}),e.jsx("p",{children:"For each dataset, ask yourself:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Could this correlation be spurious?"}),e.jsx("li",{children:"What hidden variables might be at play?"}),e.jsx("li",{children:"How would you design an experiment to test causation?"}),e.jsx("li",{children:"What other factors could explain this relationship?"})]})]})]}),e.jsxs("div",{className:"concept-section",children:[e.jsx("h4",{children:"Further Learning Resources"}),e.jsxs("div",{className:"learning-resources",children:[e.jsx("h5",{children:"Key Concepts to Explore Next"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Regression Analysis:"})," How to predict one variable from another"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Multiple Correlation:"})," Relationships between multiple variables"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Causal Inference:"})," Methods for establishing causation"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Experimental Design:"})," How to design studies that can prove causation"]})]}),e.jsx("h5",{children:"Statistical Software"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Excel/Google Sheets:"})," Basic correlation functions (CORREL)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"R:"})," Advanced statistical analysis (cor(), cor.test())"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Python:"})," Data analysis with pandas and scipy"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"SPSS/Stata:"})," Professional statistical software"]})]})]})]})]})})]})}),e.jsx("section",{className:"copyright-section",children:e.jsx("div",{className:"copyright-notice",children:e.jsx("p",{children:"© 2025, Todd Brous. All rights reserved."})})})]})})},Od=[{id:"ice-cream-conspiracy",title:"The Ice Cream Conspiracy",description:"Ice cream sales correlate with drowning deaths - is ice cream dangerous?",initialEvidence:"Strong positive correlation (r = 0.85) between ice cream sales and drowning deaths",learningObjective:"Understand how confounding variables create spurious correlation",dataPoints:[{id:"1",x:50,y:12,label:"Jan",category:"spurious",explanation:"Cold weather, low ice cream sales, few swimmers",color:"#3b82f6"},{id:"2",x:65,y:18,label:"Feb",category:"spurious",explanation:"Still cold, moderate ice cream, few swimmers",color:"#3b82f6"},{id:"3",x:80,y:25,label:"Mar",category:"spurious",explanation:"Spring weather, more ice cream, more swimmers",color:"#3b82f6"},{id:"4",x:120,y:35,label:"Apr",category:"spurious",explanation:"Warmer weather, high ice cream sales, many swimmers",color:"#3b82f6"},{id:"5",x:150,y:45,label:"May",category:"spurious",explanation:"Hot weather, peak ice cream sales, peak swimming",color:"#3b82f6"},{id:"6",x:180,y:55,label:"Jun",category:"spurious",explanation:"Summer heat, maximum ice cream, maximum swimming",color:"#3b82f6"},{id:"7",x:200,y:65,label:"Jul",category:"spurious",explanation:"Peak summer, peak ice cream, peak swimming activity",color:"#3b82f6"},{id:"8",x:190,y:60,label:"Aug",category:"spurious",explanation:"Still hot, high ice cream, high swimming",color:"#3b82f6"},{id:"9",x:160,y:40,label:"Sep",category:"spurious",explanation:"Cooling weather, moderate ice cream, fewer swimmers",color:"#3b82f6"},{id:"10",x:100,y:25,label:"Oct",category:"spurious",explanation:"Cool weather, low ice cream, few swimmers",color:"#3b82f6"},{id:"11",x:70,y:15,label:"Nov",category:"spurious",explanation:"Cold weather, minimal ice cream, minimal swimming",color:"#3b82f6"},{id:"12",x:45,y:10,label:"Dec",category:"spurious",explanation:"Winter weather, no ice cream, no swimming",color:"#3b82f6"}],confoundingVariable:{name:"Temperature (°F)",values:[32,35,45,55,65,75,85,80,70,60,45,35],explanation:"Temperature causes both ice cream sales and swimming activity"}},{id:"laptop-learning",title:"The Laptop Learning Experiment",description:"Students with laptops score higher - do laptops cause better learning?",initialEvidence:"Students with laptops score 15% higher on average",learningObjective:"Understand the difference between observational studies and controlled experiments",dataPoints:[{id:"1",x:0,y:75,label:"No Laptop",category:"correlation",explanation:"Student without laptop, moderate score",color:"#ef4444"},{id:"2",x:1,y:85,label:"With Laptop",category:"correlation",explanation:"Student with laptop, higher score",color:"#22c55e"},{id:"3",x:0,y:70,label:"No Laptop",category:"correlation",explanation:"Student without laptop, lower score",color:"#ef4444"},{id:"4",x:1,y:90,label:"With Laptop",category:"correlation",explanation:"Student with laptop, high score",color:"#22c55e"}]},{id:"miracle-medicine",title:"The Miracle Medicine Trial",description:"New drug shows amazing results - but is it really effective?",initialEvidence:"Drug shows 40% improvement over baseline",learningObjective:"Understand placebo effects, blinding, and randomization in medical trials",dataPoints:[{id:"1",x:0,y:60,label:"Placebo",category:"correlation",explanation:"Placebo group, moderate improvement",color:"#f59e0b"},{id:"2",x:1,y:84,label:"Drug",category:"correlation",explanation:"Drug group, high improvement",color:"#10b981"}]}],ix=[{id:"observe-data",title:"Step 1: Observe the Data",question:"Look at the scatter plot. What do you see?",options:["Ice cream sales and drowning deaths are unrelated","Ice cream sales and drowning deaths have a strong positive relationship","Ice cream sales and drowning deaths have a strong negative relationship","The data is too scattered to see any pattern"],correctAnswer:1,explanation:"Correct! There is a strong positive relationship - as ice cream sales increase, drowning deaths also increase. This is a classic example of correlation.",completed:!1},{id:"calculate-correlation",title:"Step 2: Calculate the Correlation",question:"The correlation coefficient is 0.986. What does this mean?",options:["There is no relationship between the variables","There is a weak positive relationship","There is a strong positive relationship","There is a perfect negative relationship"],correctAnswer:2,explanation:"Correct! A correlation of 0.986 indicates a very strong positive relationship. This suggests that ice cream sales and drowning deaths are highly related.",completed:!1},{id:"form-hypothesis",title:"Step 3: Form Your Hypothesis",question:"Based on the strong correlation, what do you think is happening?",options:["Ice cream causes drowning deaths","Drowning deaths cause ice cream sales to increase","Something else is causing both ice cream sales and drowning deaths","This is just a coincidence"],correctAnswer:2,explanation:"Excellent thinking! You're right to be suspicious. A strong correlation doesn't mean causation. There might be a third variable causing both.",completed:!1},{id:"reveal-confounding",title:"Step 4: Reveal the Confounding Variable",question:"Look at the graph now - you can see temperature data on the right side. Notice how temperature affects both ice cream sales and drowning deaths. What happened to the correlation when we consider temperature?",options:["The correlation stayed the same","The correlation increased","The correlation decreased dramatically","The correlation became negative"],correctAnswer:2,explanation:"Exactly! When we control for temperature, the correlation drops to 0.12. This reveals that temperature was the confounding variable causing both ice cream sales and swimming activity.",completed:!1},{id:"draw-conclusion",title:"Step 5: Draw Your Conclusion",question:"What is the true relationship here?",options:["Ice cream causes drowning deaths","Temperature causes both ice cream sales and swimming activity","Drowning deaths cause ice cream sales","There is no relationship at all"],correctAnswer:1,explanation:"Perfect! You've solved the mystery. Temperature causes both variables: hot weather leads to more ice cream sales AND more swimming, which leads to more drowning deaths. The original correlation was spurious!",completed:!1}],Ww=()=>{const n=_.useRef(null),[i,r]=_.useState("ice-cream-conspiracy"),[c,o]=_.useState(Od[0]),[h,f]=_.useState(!1),[p,x]=_.useState({currentStep:0,steps:ix,score:0}),[m,g]=_.useState(null),[y,j]=_.useState(!1),[w,B]=_.useState(!0),[M,R]=_.useState(!0),[z,H]=_.useState(0),[F,L]=_.useState(!1),O=K=>{if(K.length<2)return 0;const ae=K.length,E=K.reduce((T,C)=>T+C.x,0),k=K.reduce((T,C)=>T+C.y,0),b=K.reduce((T,C)=>T+C.x*C.y,0),D=K.reduce((T,C)=>T+C.x*C.x,0),Y=K.reduce((T,C)=>T+C.y*C.y,0),U=ae*b-E*k,N=Math.sqrt((ae*D-E*E)*(ae*Y-k*k));return N===0?0:U/N};_.useEffect(()=>{const K=O(c.dataPoints);H(K)},[c]);const V=()=>{if(!n.current)return;const K=Ee(n.current);K.selectAll("*").remove();const ae=400;let E=600;c.id==="ice-cream-conspiracy"?E=h?740:640:(c.id==="laptop-learning"||c.id==="medicine-trial")&&(E=680);let k=60;c.id==="ice-cream-conspiracy"?k=h?180:60:(c.id==="laptop-learning"||c.id==="medicine-trial")&&(k=80);const b={top:20,right:k,bottom:40,left:40},D=E-b.left-b.right,Y=ae-b.top-b.bottom,U=K.attr("width",E).attr("height",ae).append("g").attr("transform",`translate(${b.left},${b.top})`),N=Ke().domain(st(c.dataPoints,P=>P.x)).range([0,D]),T=Ke().domain(st(c.dataPoints,P=>P.y)).range([Y,0]);if(w){const P=rt(N).tickSize(-Y).tickFormat(()=>""),X=ct(T).tickSize(-D).tickFormat(()=>"");U.append("g").attr("class","grid").attr("transform",`translate(0,${Y})`).call(P).style("stroke","#e2e8f0").style("stroke-width",1),U.append("g").attr("class","grid").call(X).style("stroke","#e2e8f0").style("stroke-width",1)}const C=rt(N),I=ct(T);if(U.append("g").attr("class","axis").attr("transform",`translate(0,${Y})`).call(C).style("color","#64748b"),U.append("g").attr("class","axis").call(I).style("color","#64748b"),U.append("text").attr("class","axis-label").attr("transform",`translate(${D/2}, ${Y+35})`).style("text-anchor","middle").style("font-size","14px").style("font-weight","600").style("fill","#374151").text(c.id==="ice-cream-conspiracy"?"Ice Cream Sales (gallons per month)":c.id==="laptop-learning"?"Laptop Usage (0=No, 1=Yes)":"Treatment Group (0=Placebo, 1=Drug)"),U.append("text").attr("class","axis-label").attr("transform","rotate(-90)").attr("y",0-b.left).attr("x",0-Y/2).attr("dy","1em").style("text-anchor","middle").style("font-size","14px").style("font-weight","600").style("fill","#374151").text(c.id==="ice-cream-conspiracy"?"Drowning Deaths (per month)":c.id==="laptop-learning"?"Test Score (0-100)":"Improvement Score (0-100)"),U.selectAll(".data-point").data(c.dataPoints).enter().append("circle").attr("class","data-point").attr("cx",P=>N(P.x)).attr("cy",P=>T(P.y)).attr("r",6).style("fill",P=>P.color).style("stroke","#374151").style("stroke-width",2).style("opacity",.8).on("mouseover",function(){Ee(this).transition().duration(200).attr("r",8).style("opacity",1)}).on("mouseout",function(){Ee(this).transition().duration(200).attr("r",6).style("opacity",.8)}),M&&U.selectAll(".data-label").data(c.dataPoints).enter().append("text").attr("class","data-label").attr("x",P=>N(P.x)+10).attr("y",P=>T(P.y)-10).text(P=>P.label).style("font-size","12px").style("fill","#374151").style("font-weight","500"),h&&c.id==="ice-cream-conspiracy"){console.log("Adding temperature data visualization...");const P=[{month:"Jan",temp:32,x:50,y:12},{month:"Feb",temp:35,x:65,y:18},{month:"Mar",temp:45,x:80,y:25},{month:"Apr",temp:55,x:120,y:35},{month:"May",temp:65,x:150,y:45},{month:"Jun",temp:75,x:180,y:55},{month:"Jul",temp:85,x:200,y:65},{month:"Aug",temp:80,x:190,y:60},{month:"Sep",temp:70,x:160,y:40},{month:"Oct",temp:60,x:100,y:25},{month:"Nov",temp:45,x:70,y:15},{month:"Dec",temp:35,x:45,y:10}],X=Ke().domain([30,95]).range([Y,0]);U.append("g").attr("class","temperature-axis").attr("transform",`translate(${D+20}, 0)`).call(wv(X).tickFormat(A=>`${A}°F`)).style("font-size","10px").style("fill","#dc2626"),U.append("text").attr("class","temperature-label").attr("transform","rotate(90)").attr("y",D+35).attr("x",Y/2).style("text-anchor","middle").style("font-size","12px").style("font-weight","600").style("fill","#dc2626").text("Temperature (°F)"),c.dataPoints.forEach(A=>{const te=P.find(ee=>ee.month===A.label);te&&(U.append("line").attr("x1",N(A.x)).attr("y1",T(A.y)).attr("x2",D+15).attr("y2",X(te.temp)).attr("stroke","#dc2626").attr("stroke-width",2).attr("stroke-dasharray","3,3").attr("opacity",.7),U.append("text").attr("x",D+25).attr("y",X(te.temp)).attr("dy","0.35em").text(`${te.temp}°F`).style("font-size","10px").style("font-weight","600").style("fill","#dc2626"))}),U.append("text").attr("x",D/2).attr("y",-5).attr("text-anchor","middle").style("font-size","14px").style("font-weight","600").style("fill","#dc2626").text("Temperature Data Revealed - See how temperature affects both variables!")}};_.useEffect(()=>{const K=Od.find(ae=>ae.id===i);K&&o(K)},[i]),_.useEffect(()=>{V()},[c,w,M,h]);const Q=K=>{r(K),f(!1),L(!1),G()},se=()=>{f(!h),!h&&c.id==="ice-cream-conspiracy"&&H(.12)};_.useEffect(()=>{p.currentStep===p.steps.length-1&&p.steps[p.steps.length-1].completed&&L(!0)},[p]),_.useEffect(()=>{console.log("Step check:",p.currentStep,"Scenario:",c.id),p.currentStep===3&&c.id==="ice-cream-conspiracy"&&(console.log("Setting showConfoundingVariable to true"),f(!0),H(.12))},[p.currentStep,c.id]);const q=K=>{g(K),j(!0);const ae=p.steps[p.currentStep],E=K===ae.correctAnswer;x(k=>({...k,score:k.score+(E?1:0),steps:k.steps.map((b,D)=>D===k.currentStep?{...b,completed:!0}:b)}))},J=()=>{p.currentStep<p.steps.length-1&&(x(K=>({...K,currentStep:K.currentStep+1})),g(null),j(!1),p.currentStep===3&&f(!0))},G=()=>{x({currentStep:0,steps:ix.map(K=>({...K,completed:!1})),score:0}),g(null),j(!1),f(!1),L(!1)};return e.jsx("div",{className:"causal-detective fade-in",children:e.jsxs("div",{className:"container",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Causal Detective"}),e.jsx("h1",{className:"page-title",style:{color:"#ff0000"},children:"NOTE: THIS MODULE IS IN DEVELOPMENT!!!!"}),e.jsx("p",{className:"page-description",children:"Solve mysteries by investigating whether relationships are causal or just correlated. Use your detective skills to uncover the truth!"})]}),e.jsxs("div",{className:"mystery-selection",children:[e.jsx("h2",{className:"section-title",children:"Choose Your Case"}),e.jsx("div",{className:"mystery-cards",children:Od.map(K=>e.jsxs("div",{className:`mystery-card ${i===K.id?"selected":""}`,onClick:()=>Q(K.id),children:[e.jsx("h3",{className:"mystery-title",children:K.title}),e.jsx("p",{className:"mystery-description",children:K.description}),e.jsxs("div",{className:"mystery-evidence",children:[e.jsx("strong",{children:"Initial Evidence:"})," ",K.initialEvidence]})]},K.id))})]}),e.jsxs("div",{className:"detective-layout-compact",children:[e.jsxs("div",{className:"evidence-section",children:[e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{className:"card-title",children:"Evidence Analysis"}),e.jsxs("div",{className:"canvas-controls",children:[e.jsxs("label",{className:"control-label",children:[e.jsx("input",{type:"checkbox",checked:w,onChange:K=>B(K.target.checked)}),"Show Grid"]}),e.jsxs("label",{className:"control-label",children:[e.jsx("input",{type:"checkbox",checked:M,onChange:K=>R(K.target.checked)}),"Show Labels"]}),c.confoundingVariable&&e.jsxs("label",{className:"control-label",children:[e.jsx("input",{type:"checkbox",checked:h,onChange:se}),"Reveal Confounding Variable"]})]})]}),e.jsx("div",{className:"card-body",children:e.jsx("div",{className:"visualization-container",children:e.jsx("svg",{ref:n,className:"detective-svg"})})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Analysis Results"})}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"results-grid",children:[e.jsxs("div",{className:"result-item",children:[e.jsx("span",{className:"result-label",children:"Correlation:"}),e.jsx("span",{className:"result-value",children:h&&c.id==="ice-cream-conspiracy"?"0.120 (controlled)":z.toFixed(3)})]}),e.jsxs("div",{className:"result-item",children:[e.jsx("span",{className:"result-label",children:"Relationship:"}),e.jsx("span",{className:"result-value",children:h&&c.id==="ice-cream-conspiracy"?"Weak (controlled)":Math.abs(z)>.7?"Strong":Math.abs(z)>.3?"Moderate":"Weak"})]}),e.jsxs("div",{className:"result-item",children:[e.jsx("span",{className:"result-label",children:"Status:"}),e.jsx("span",{className:"result-value",children:F?"Solved":"Under Investigation"})]}),e.jsxs("div",{className:"result-item",children:[e.jsx("span",{className:"result-label",children:"Progress:"}),e.jsxs("span",{className:"result-value",children:[p.currentStep+1,"/",p.steps.length," steps"]})]})]}),h&&c.id==="ice-cream-conspiracy"&&e.jsxs("div",{className:"educational-explanation",children:[e.jsx("h4",{children:"Detective Discovery!"}),e.jsxs("p",{children:[e.jsx("strong",{children:"What happened:"})," When we control for temperature, the correlation between ice cream sales and drowning drops dramatically!"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Why:"})," Temperature causes both variables:"]}),e.jsxs("ul",{children:[e.jsx("li",{children:"Hot weather → More ice cream sales"}),e.jsx("li",{children:"Hot weather → More swimming → More drowning"})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Conclusion:"})," The original correlation was spurious - ice cream doesn't cause drowning!"]})]})]})]})]}),e.jsxs("div",{className:"detective-tools",children:[e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{className:"card-title",children:"Detective Training"}),e.jsxs("div",{className:"progress-info",children:[e.jsxs("span",{children:["Step ",p.currentStep+1," of ",p.steps.length]}),e.jsxs("span",{children:["Score: ",p.score,"/",p.steps.length]})]})]}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"learning-step",children:[e.jsx("h4",{className:"step-title",children:p.steps[p.currentStep].title}),e.jsx("p",{className:"step-question",children:p.steps[p.currentStep].question}),e.jsx("div",{className:"answer-options",children:p.steps[p.currentStep].options.map((K,ae)=>e.jsx("button",{className:`answer-option ${m===ae?"selected":""} ${y&&ae===p.steps[p.currentStep].correctAnswer?"correct":""} ${y&&m===ae&&ae!==p.steps[p.currentStep].correctAnswer?"incorrect":""}`,onClick:()=>q(ae),disabled:y,children:K},ae))}),y&&e.jsxs("div",{className:"explanation",children:[e.jsx("p",{className:"explanation-text",children:p.steps[p.currentStep].explanation}),p.currentStep<p.steps.length-1?e.jsx("button",{onClick:J,className:"btn btn-primary",children:"Next Step"}):e.jsx("button",{onClick:G,className:"btn btn-success",children:"Start Over"})]})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Learning Summary"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"learning-summary",children:[e.jsxs("div",{className:"summary-item",children:[e.jsx("span",{className:"summary-label",children:"Progress:"}),e.jsxs("span",{className:"summary-value",children:[p.currentStep+1," / ",p.steps.length," steps"]})]}),e.jsxs("div",{className:"summary-item",children:[e.jsx("span",{className:"summary-label",children:"Score:"}),e.jsxs("span",{className:"summary-value",children:[p.score," / ",p.steps.length," correct"]})]}),e.jsxs("div",{className:"summary-item",children:[e.jsx("span",{className:"summary-label",children:"Current Step:"}),e.jsx("span",{className:"summary-value",children:p.steps[p.currentStep].title})]}),p.currentStep>0&&e.jsxs("div",{className:"completed-steps",children:[e.jsx("h5",{children:"Completed Steps:"}),e.jsx("ul",{children:p.steps.slice(0,p.currentStep).map((K,ae)=>e.jsx("li",{className:K.completed?"completed":"",children:K.title},ae))})]})]})})]})]})]}),e.jsx("div",{className:"detective-education",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Detective's Guide to Causal Inference"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"education-content",children:[e.jsx("h4",{children:"How to Solve Causal Mysteries"}),e.jsxs("p",{children:["As a causal detective, your job is to determine whether relationships are",e.jsx("strong",{children:" causal"})," (A actually causes B) or ",e.jsx("strong",{children:"spurious"}),"(A and B are both caused by a third variable C)."]}),e.jsx("h4",{children:"Detective Tools"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Correlation Analysis:"})," Measure the strength of relationships"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Confounding Detection:"})," Look for hidden variables that might explain the relationship"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Experiment Design:"})," Create controlled experiments to test causal claims"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Bias Recognition:"})," Identify common biases in observational studies"]})]}),e.jsxs("h4",{children:["Current Case: ",c.title]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Learning Objective:"})," ",c.learningObjective]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Your Task:"})," Investigate the evidence and determine if this relationship is causal or spurious."]})]})})]})}),e.jsx("section",{className:"copyright-section",children:e.jsx("div",{className:"copyright-notice",children:e.jsx("p",{children:"© 2025, Todd Brous. All rights reserved."})})})]})})},Zw=()=>{const n=_.useRef(null),[i,r]=_.useState("coin-toss"),[c,o]=_.useState(!0),[h,f]=_.useState(!0),x={"coin-toss":{id:"coin-toss",title:"Coin Toss",description:"Simple two-outcome experiment",sampleSpace:["Heads","Tails"],events:{Heads:["Heads"],Tails:["Tails"],"At least one head":["Heads"]},probabilities:{Heads:.5,Tails:.5,"At least one head":.5}},"dice-roll":{id:"dice-roll",title:"Dice Roll",description:"Six-sided die with multiple outcomes",sampleSpace:["1","2","3","4","5","6"],events:{"Even number":["2","4","6"],"Odd number":["1","3","5"],"Greater than 3":["4","5","6"],"Prime number":["2","3","5"]},probabilities:{"Even number":3/6,"Odd number":3/6,"Greater than 3":3/6,"Prime number":3/6}},"card-draw":{id:"card-draw",title:"Card Draw",description:"Drawing from a standard deck",sampleSpace:["Ace","2","3","4","5","6","7","8","9","10","Jack","Queen","King"],events:{"Face card":["Jack","Queen","King"],"Number card":["2","3","4","5","6","7","8","9","10"],Ace:["Ace"]},probabilities:{"Face card":12/52,"Number card":36/52,Ace:4/52}}}[i],m=g=>{const y=x.events[g];return y?y.length/x.sampleSpace.length:0};return _.useEffect(()=>{if(!n.current)return;const g=Ee(n.current);g.selectAll("*").remove();const y=800,j=400,w={top:20,right:20,bottom:20,left:20},B=y-w.left-w.right,M=j-w.top-w.bottom,R=g.attr("width",y).attr("height",j).append("g").attr("transform",`translate(${w.left},${w.top})`);R.append("rect").attr("x",0).attr("y",0).attr("width",B).attr("height",M).attr("fill","#f0f8ff").attr("stroke","#4a90e2").attr("stroke-width",2).attr("rx",8),R.append("text").attr("x",B/2).attr("y",30).attr("text-anchor","middle").attr("font-size","18px").attr("font-weight","bold").attr("fill","#2c3e50").text(`Sample Space: {${x.sampleSpace.join(", ")}}`);const z=["#ff6b6b","#4ecdc4","#45b7d1","#96ceb4","#feca57"];Object.keys(x.events).forEach((F,L)=>{const O=x.events[F],V=m(F),Q=R.append("g");Q.append("text").attr("x",20).attr("y",80+L*60).attr("font-size","14px").attr("font-weight","bold").attr("fill",z[L%z.length]).text(`${F}: {${O.join(", ")}}`),Q.append("text").attr("x",20).attr("y",100+L*60).attr("font-size","12px").attr("fill","#666").text(`P(${F}) = ${V.toFixed(3)}`);const se=V*(B-40);Q.append("rect").attr("x",20).attr("y",110+L*60).attr("width",se).attr("height",20).attr("fill",z[L%z.length]).attr("opacity",.7)}),c&&(R.append("text").attr("x",20).attr("y",300).attr("font-size","14px").attr("font-weight","bold").attr("fill","#2c3e50").text("Probability Rules:"),R.append("text").attr("x",20).attr("y",320).attr("font-size","12px").attr("fill","#666").text("• 0 ≤ P(A) ≤ 1"),R.append("text").attr("x",20).attr("y",335).attr("font-size","12px").attr("fill","#666").text("• P(Sample Space) = 1"),R.append("text").attr("x",20).attr("y",350).attr("font-size","12px").attr("fill","#666").text("• P(A ∪ B) = P(A) + P(B) - P(A ∩ B)"),R.append("text").attr("x",20).attr("y",365).attr("font-size","12px").attr("fill","#666").text("• P(A|B) = P(A ∩ B) / P(B)"))},[i,c,x]),e.jsxs("div",{className:"intro-probability",children:[e.jsxs("div",{className:"simulation-header",children:[e.jsx("h1",{children:"Intro to Probability"}),e.jsx("h1",{children:"NOTE: THIS MODULE IS IN DEVELOPMENT!!!!"}),e.jsx("h1",{children:"PLEASE DON'T USE THIS MODULE FOR ANYTHING IMPORTANT!!!!"}),e.jsx("p",{className:"simulation-description",children:"Learn the fundamentals of probability theory through interactive examples and visualizations."})]}),e.jsxs("div",{className:"simulation-controls",children:[e.jsxs("div",{className:"control-group",children:[e.jsx("label",{htmlFor:"example-select",children:"Choose Example:"}),e.jsxs("select",{id:"example-select",value:i,onChange:g=>r(g.target.value),className:"control-select",children:[e.jsx("option",{value:"coin-toss",children:"Coin Toss"}),e.jsx("option",{value:"dice-roll",children:"Dice Roll"}),e.jsx("option",{value:"card-draw",children:"Card Draw"})]})]}),e.jsx("div",{className:"control-group",children:e.jsxs("label",{className:"control-checkbox",children:[e.jsx("input",{type:"checkbox",checked:c,onChange:g=>o(g.target.checked)}),"Show Probability Rules"]})}),e.jsx("div",{className:"control-group",children:e.jsxs("label",{className:"control-checkbox",children:[e.jsx("input",{type:"checkbox",checked:h,onChange:g=>f(g.target.checked)}),"Show Calculations"]})})]}),e.jsxs("div",{className:"simulation-content",children:[e.jsx("div",{className:"visualization-container",children:e.jsx("svg",{ref:n,className:"probability-svg"})}),e.jsxs("div",{className:"educational-content",children:[e.jsxs("div",{className:"content-section",children:[e.jsx("h3",{children:"What is Probability?"}),e.jsx("p",{children:"Probability is a measure of how likely an event is to occur. It's expressed as a number between 0 and 1, where:"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"0"})," means the event is impossible"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"1"})," means the event is certain"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"0.5"})," means the event is equally likely to occur or not occur"]})]})]}),e.jsxs("div",{className:"content-section",children:[e.jsx("h3",{children:"Key Concepts"}),e.jsxs("div",{className:"concept-grid",children:[e.jsxs("div",{className:"concept-card",children:[e.jsx("h4",{children:"Sample Space"}),e.jsx("p",{children:"The set of all possible outcomes of an experiment."}),e.jsxs("div",{className:"example-box",children:[e.jsx("strong",{children:"Example:"})," For a coin toss, S = ","{Heads, Tails}"]})]}),e.jsxs("div",{className:"concept-card",children:[e.jsx("h4",{children:"Event"}),e.jsx("p",{children:"A subset of the sample space that we're interested in."}),e.jsxs("div",{className:"example-box",children:[e.jsx("strong",{children:"Example:"}),' "Getting heads" = ',"{Heads}"]})]}),e.jsxs("div",{className:"concept-card",children:[e.jsx("h4",{children:"Probability of an Event"}),e.jsx("p",{children:"P(A) = Number of outcomes in A / Total number of outcomes"}),e.jsxs("div",{className:"example-box",children:[e.jsx("strong",{children:"Example:"})," P(Heads) = 1/2 = 0.5"]})]})]})]}),e.jsxs("div",{className:"content-section",children:[e.jsx("h3",{children:"Probability Rules"}),e.jsxs("div",{className:"rules-list",children:[e.jsxs("div",{className:"rule-item",children:[e.jsx("strong",{children:"Rule 1:"})," 0 ≤ P(A) ≤ 1 for any event A"]}),e.jsxs("div",{className:"rule-item",children:[e.jsx("strong",{children:"Rule 2:"})," P(Sample Space) = 1"]}),e.jsxs("div",{className:"rule-item",children:[e.jsx("strong",{children:"Rule 3:"})," P(A ∪ B) = P(A) + P(B) - P(A ∩ B)"]}),e.jsxs("div",{className:"rule-item",children:[e.jsx("strong",{children:"Rule 4:"})," P(A|B) = P(A ∩ B) / P(B) (Conditional Probability)"]})]})]}),h&&e.jsxs("div",{className:"content-section",children:[e.jsx("h3",{children:"Calculations for Current Example"}),e.jsx("div",{className:"calculations-grid",children:Object.keys(x.events).map(g=>e.jsxs("div",{className:"calculation-item",children:[e.jsxs("strong",{children:["P(",g,")"]})," = ",x.events[g].length," / ",x.sampleSpace.length," = ",m(g).toFixed(3)]},g))})]}),e.jsxs("div",{className:"content-section",children:[e.jsx("h3",{children:"Real-World Applications"}),e.jsxs("div",{className:"applications-list",children:[e.jsxs("div",{className:"application-item",children:[e.jsx("strong",{children:"Weather Forecasting:"})," Predicting rain probability based on atmospheric conditions"]}),e.jsxs("div",{className:"application-item",children:[e.jsx("strong",{children:"Medical Diagnosis:"})," Determining disease probability based on symptoms"]}),e.jsxs("div",{className:"application-item",children:[e.jsx("strong",{children:"Quality Control:"})," Assessing defect probability in manufacturing"]}),e.jsxs("div",{className:"application-item",children:[e.jsx("strong",{children:"Risk Assessment:"})," Evaluating investment or insurance risks"]})]})]})]})]})]})},Iw=()=>e.jsx("div",{className:"about fade-in",children:e.jsxs("div",{className:"container",children:[e.jsxs("section",{className:"about-header",children:[e.jsx("h1",{className:"about-title",children:"About This Project"}),e.jsx("p",{className:"about-subtitle",children:"Interactive Machine Learning Simulations for Creative Education"})]}),e.jsx("section",{className:"course-info",children:e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h2",{className:"section-title",children:"SVA Continuing Education Course"}),e.jsxs("p",{className:"course-description",children:["This interactive website was created as part of the ",e.jsx("strong",{children:"AI for Creatives: Strategies for Success"})," course at the School of Visual Arts (SVA) Continuing Education program."]}),e.jsxs("div",{className:"course-details",children:[e.jsxs("div",{className:"course-detail",children:[e.jsx("h3",{children:"Course Information"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Course:"})," AI for Creatives: Strategies for Success"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Course Number:"})," PDC-3013-OL"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Institution:"})," School of Visual Arts (SVA)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Program:"})," Continuing Education"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Instructor:"})," Todd Brous, Founder & CEO, Untwist, Inc."]})]})]}),e.jsxs("div",{className:"course-detail",children:[e.jsx("h3",{children:"Course Description"}),e.jsx("p",{children:"We are witnessing the rapid adoption of generative artificial intelligence (AI), machine learning (ML), open innovation, open talent and automation across all areas of society and businesses. The primary goal of this course is to help students learn about these tools, processes and technologies, and to understand their disruptive power."}),e.jsx("p",{children:"By applying the direct use of generative AI tools, we examine their current limitations and how creatives can adapt to the rapidly changing landscape. Students gain an understanding of the fundamentals of AI, ML, open innovation, open talent, automation, ethics, bias, business strategy, and more."})]})]}),e.jsxs("div",{className:"course-links",children:[e.jsx("a",{href:"https://sva.edu/academics/continuing-education/courses?instructorName=brous",target:"_blank",rel:"noopener noreferrer",className:"btn btn-primary",children:"View Course Details"}),e.jsx("a",{href:"/Fall-2025-CE-PDC-3013-OL-AI-for-Creatives_-Strategies-for-Success.pdf",target:"_blank",rel:"noopener noreferrer",className:"btn btn-outline",children:"Download Syllabus"})]})]})})}),e.jsx("section",{className:"project-purpose",children:e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h2",{className:"section-title",children:"Project Purpose"}),e.jsx("p",{className:"purpose-description",children:"This website serves as a practical demonstration of how machine learning concepts can be made accessible to creative professionals through interactive visualizations. The simulations help bridge the gap between abstract mathematical concepts and practical understanding."}),e.jsxs("div",{className:"purpose-features",children:[e.jsxs("div",{className:"purpose-feature",children:[e.jsx("h3",{children:"Educational Focus"}),e.jsx("p",{children:"Designed specifically for creative professionals who may not have extensive technical backgrounds but need to understand AI and ML concepts for their work."})]}),e.jsxs("div",{className:"purpose-feature",children:[e.jsx("h3",{children:"Interactive Learning"}),e.jsx("p",{children:"Each simulation allows users to experiment with parameters and see real-time results, making complex concepts more intuitive and memorable."})]}),e.jsxs("div",{className:"purpose-feature",children:[e.jsx("h3",{children:"Visual Understanding"}),e.jsx("p",{children:"By representing mathematical concepts visually, users can develop an intuitive understanding of how algorithms work without getting lost in complex equations."})]})]})]})})}),e.jsx("section",{className:"technology-stack",children:e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h2",{className:"section-title",children:"Technology Stack"}),e.jsx("p",{className:"tech-description",children:"This project is built using modern web technologies to ensure smooth performance and accessibility across different devices."}),e.jsxs("div",{className:"tech-grid",children:[e.jsxs("div",{className:"tech-item",children:[e.jsx("h4",{children:"Frontend"}),e.jsxs("ul",{children:[e.jsx("li",{children:"React 18 with TypeScript"}),e.jsx("li",{children:"Vite for fast development"}),e.jsx("li",{children:"React Router for navigation"}),e.jsx("li",{children:"CSS3 with custom design system"})]})]}),e.jsxs("div",{className:"tech-item",children:[e.jsx("h4",{children:"Visualization"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Canvas API for interactive graphics"}),e.jsx("li",{children:"Custom mathematical libraries"}),e.jsx("li",{children:"Real-time parameter updates"}),e.jsx("li",{children:"Responsive design principles"})]})]}),e.jsxs("div",{className:"tech-item",children:[e.jsx("h4",{children:"Deployment"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Static site generation"}),e.jsx("li",{children:"GitHub Pages hosting"}),e.jsx("li",{children:"Modern browser compatibility"}),e.jsx("li",{children:"Mobile-responsive design"})]})]})]})]})})}),e.jsx("section",{className:"copyright-section",children:e.jsxs("div",{className:"copyright-notice",children:[e.jsx("p",{children:"© 2025, Todd Brous. All rights reserved."}),e.jsx("p",{className:"copyright-subtext",children:"Created for SVA Continuing Education - AI for Creatives: Strategies for Success"})]})})]})});function Jw(){return e.jsx(_.StrictMode,{children:e.jsx(Yj,{basename:"/AI4C",children:e.jsxs("div",{className:"app",children:[e.jsx(Zj,{}),e.jsxs("div",{className:"app-layout",children:[e.jsx(Jj,{}),e.jsx("main",{className:"main-content",children:e.jsxs(yj,{children:[e.jsx(vt,{path:"/",element:e.jsx(ev,{})}),e.jsx(vt,{path:"/cosine-similarity",element:e.jsx(Ow,{})}),e.jsx(vt,{path:"/euclidean-distance",element:e.jsx(Hw,{})}),e.jsx(vt,{path:"/decision-trees",element:e.jsx(Bw,{})}),e.jsx(vt,{path:"/kmeans-clustering",element:e.jsx(Uw,{})}),e.jsx(vt,{path:"/linear-regression",element:e.jsx(qw,{})}),e.jsx(vt,{path:"/regularization-explorer",element:e.jsx(Yw,{})}),e.jsx(vt,{path:"/central-limit-theorem",element:e.jsx(Vw,{})}),e.jsx(vt,{path:"/normal-distribution",element:e.jsx(Gw,{})}),e.jsx(vt,{path:"/bayes-theorem",element:e.jsx($w,{})}),e.jsx(vt,{path:"/logistic-regression",element:e.jsx(Xw,{})}),e.jsx(vt,{path:"/k-nearest-neighbors",element:e.jsx(Fw,{})}),e.jsx(vt,{path:"/perceptron-anatomy",element:e.jsx(Kw,{})}),e.jsx(vt,{path:"/perceptron-learning",element:e.jsx(Pw,{})}),e.jsx(vt,{path:"/correlation-causation",element:e.jsx(Qw,{})}),e.jsx(vt,{path:"/causal-detective",element:e.jsx(Ww,{})}),e.jsx(vt,{path:"/intro-probability",element:e.jsx(Zw,{})}),e.jsx(vt,{path:"/about",element:e.jsx(Iw,{})})]})})]})]})})})}M0.createRoot(document.getElementById("root")).render(e.jsx(Jw,{}));
//# sourceMappingURL=index-BJhJmTye.js.map
